var Px=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var zO=Px((HO,bf)=>{function Xv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ax(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Zv={exports:{}},Xa={},em={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),Dx=Symbol.for("react.portal"),Mx=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Fx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),$x=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),Bx=Symbol.for("react.memo"),qx=Symbol.for("react.lazy"),th=Symbol.iterator;function Qx(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rm=Object.assign,nm={};function Si(e,t,r){this.props=e,this.context=t,this.refs=nm,this.updater=r||tm}Si.prototype.isReactComponent={};Si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function im(){}im.prototype=Si.prototype;function Sf(e,t,r){this.props=e,this.context=t,this.refs=nm,this.updater=r||tm}var Ef=Sf.prototype=new im;Ef.constructor=Sf;rm(Ef,Si.prototype);Ef.isPureReactComponent=!0;var rh=Array.isArray,om=Object.prototype.hasOwnProperty,kf={current:null},sm={key:!0,ref:!0,__self:!0,__source:!0};function am(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)om.call(t,n)&&!sm.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:es,type:e,key:o,ref:s,props:i,_owner:kf.current}}function Wx(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tf(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function Hx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nh=/\/+/g;function Al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hx(""+e.key):t.toString(36)}function Vs(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case es:case Dx:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Al(s,0):n,rh(i)?(r="",e!=null&&(r=e.replace(nh,"$&/")+"/"),Vs(i,t,r,"",function(u){return u})):i!=null&&(Tf(i)&&(i=Wx(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",rh(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+Al(o,a);s+=Vs(o,t,r,l,i)}else if(l=Qx(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+Al(o,a++),s+=Vs(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function fs(e,t,r){if(e==null)return e;var n=[],i=0;return Vs(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Gx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Bs={transition:null},Kx={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:kf};function lm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!Tf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Si;Z.Fragment=Mx;Z.Profiler=Fx;Z.PureComponent=Sf;Z.StrictMode=Lx;Z.Suspense=Vx;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kx;Z.act=lm;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rm({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=kf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)om.call(t,l)&&!sm.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:es,type:e.type,key:i,ref:o,props:n,_owner:s}};Z.createContext=function(e){return e={$$typeof:$x,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ux,_context:e},e.Consumer=e};Z.createElement=am;Z.createFactory=function(e){var t=am.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:zx,render:e}};Z.isValidElement=Tf;Z.lazy=function(e){return{$$typeof:qx,_payload:{_status:-1,_result:e},_init:Gx}};Z.memo=function(e,t){return{$$typeof:Bx,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Bs.transition;Bs.transition={};try{e()}finally{Bs.transition=t}};Z.unstable_act=lm;Z.useCallback=function(e,t){return tt.current.useCallback(e,t)};Z.useContext=function(e){return tt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return tt.current.useEffect(e,t)};Z.useId=function(){return tt.current.useId()};Z.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return tt.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};Z.useRef=function(e){return tt.current.useRef(e)};Z.useState=function(e){return tt.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return tt.current.useTransition()};Z.version="18.3.1";em.exports=Z;var I=em.exports;const Za=Zo(I),Yx=Xv({__proto__:null,default:Za},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=I,Xx=Symbol.for("react.element"),Zx=Symbol.for("react.fragment"),ew=Object.prototype.hasOwnProperty,tw=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rw={key:!0,ref:!0,__self:!0,__source:!0};function um(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ew.call(t,n)&&!rw.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Xx,type:e,key:o,ref:s,props:i,_owner:tw.current}}Xa.Fragment=Zx;Xa.jsx=um;Xa.jsxs=um;Zv.exports=Xa;var v=Zv.exports,Cu={},cm={exports:{}},yt={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,C){var F=E.length;E.push(C);e:for(;0<F;){var D=F-1>>>1,V=E[D];if(0<i(V,C))E[D]=C,E[F]=V,F=D;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var C=E[0],F=E.pop();if(F!==C){E[0]=F;e:for(var D=0,V=E.length,ve=V>>>1;D<ve;){var R=2*(D+1)-1,Q=E[R],K=R+1,de=E[K];if(0>i(Q,F))K<V&&0>i(de,Q)?(E[D]=de,E[K]=F,D=K):(E[D]=Q,E[R]=F,D=R);else if(K<V&&0>i(de,F))E[D]=de,E[K]=F,D=K;else break e}}return C}function i(E,C){var F=E.sortIndex-C.sortIndex;return F!==0?F:E.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,m=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=E)n(u),C.sortIndex=C.expirationTime,t(l,C);else break;C=r(u)}}function b(E){if(x=!1,g(E),!m)if(r(l)!==null)m=!0,J(S);else{var C=r(u);C!==null&&k(b,C.startTime-E)}}function S(E,C){m=!1,x&&(x=!1,y(O),O=-1),d=!0;var F=f;try{for(g(C),h=r(l);h!==null&&(!(h.expirationTime>C)||E&&!M());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var V=D(h.expirationTime<=C);C=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(l)&&n(l),g(C)}else n(l);h=r(l)}if(h!==null)var ve=!0;else{var R=r(u);R!==null&&k(b,R.startTime-C),ve=!1}return ve}finally{h=null,f=F,d=!1}}var _=!1,N=null,O=-1,P=5,A=-1;function M(){return!(e.unstable_now()-A<P)}function q(){if(N!==null){var E=e.unstable_now();A=E;var C=!0;try{C=N(!0,E)}finally{C?G():(_=!1,N=null)}}else _=!1}var G;if(typeof p=="function")G=function(){p(q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,H=Y.port2;Y.port1.onmessage=q,G=function(){H.postMessage(null)}}else G=function(){w(q,0)};function J(E){N=E,_||(_=!0,G())}function k(E,C){O=w(function(){E(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,J(S))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var F=f;f=C;try{return E()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,C){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=f;f=E;try{return C()}finally{f=F}},e.unstable_scheduleCallback=function(E,C,F){var D=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,E){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,E={id:c++,callback:C,priorityLevel:E,startTime:F,expirationTime:V,sortIndex:-1},F>D?(E.sortIndex=F,t(u,E),r(l)===null&&E===r(u)&&(x?(y(O),O=-1):x=!0,k(b,F-D))):(E.sortIndex=V,t(l,E),m||d||(m=!0,J(S))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var C=f;return function(){var F=f;f=C;try{return E.apply(this,arguments)}finally{f=F}}}})(dm);fm.exports=dm;var nw=fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=I,vt=nw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hm=new Set,_o={};function xn(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(_o[e]=t,e=0;e<t.length;e++)hm.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=Object.prototype.hasOwnProperty,ow=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ih={},oh={};function sw(e){return Iu.call(oh,e)?!0:Iu.call(ih,e)?!1:ow.test(e)?oh[e]=!0:(ih[e]=!0,!1)}function aw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lw(e,t,r,n){if(t===null||typeof t>"u"||aw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function Nf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_f,Nf);Qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_f,Nf);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_f,Nf);Qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Of(e,t,r,n){var i=Qe.hasOwnProperty(t)?Qe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lw(t,r,i,n)&&(r=null),n||i===null?sw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dr=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),vm=Symbol.for("react.context"),If=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),jf=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),mm=Symbol.for("react.offscreen"),sh=Symbol.iterator;function Pi(e){return e===null||typeof e!="object"?null:(e=sh&&e[sh]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Dl;function Ki(e){if(Dl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var Ml=!1;function Ll(e,t){if(!e||Ml)return"";Ml=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ml=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ki(e):""}function uw(e){switch(e.tag){case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function Au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Pn:return"Portal";case ju:return"Profiler";case Cf:return"StrictMode";case Ru:return"Suspense";case Pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vm:return(e.displayName||"Context")+".Consumer";case pm:return(e._context.displayName||"Context")+".Provider";case If:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jf:return t=e.displayName||null,t!==null?t:Au(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return Au(e(t))}catch{}}return null}function cw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(t);case 8:return t===Cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fw(e){var t=ym(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hs(e){e._valueTracker||(e._valueTracker=fw(e))}function gm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ym(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Du(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ah(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xm(e,t){t=t.checked,t!=null&&Of(e,"checked",t,!1)}function Mu(e,t){xm(e,t);var r=zr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lu(e,t,r){(t!=="number"||da(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yi=Array.isArray;function Jn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Yi(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zr(r)}}function wm(e,t){var r=zr(t.value),n=zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ch(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,Sm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dw=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(e){dw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ao[t]=ao[e]})});function Em(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ao.hasOwnProperty(e)&&ao[e]?(""+t).trim():t+"px"}function km(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Em(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var hw=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(e,t){if(t){if(hw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function Rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bu=null,Xn=null,Zn=null;function fh(e){if(e=ns(e)){if(typeof Bu!="function")throw Error(L(280));var t=e.stateNode;t&&(t=il(t),Bu(e.stateNode,e.type,t))}}function Tm(e){Xn?Zn?Zn.push(e):Zn=[e]:Xn=e}function _m(){if(Xn){var e=Xn,t=Zn;if(Zn=Xn=null,fh(e),t)for(e=0;e<t.length;e++)fh(t[e])}}function Nm(e,t){return e(t)}function Om(){}var Fl=!1;function Cm(e,t,r){if(Fl)return e(t,r);Fl=!0;try{return Nm(e,t,r)}finally{Fl=!1,(Xn!==null||Zn!==null)&&(Om(),_m())}}function Oo(e,t){var r=e.stateNode;if(r===null)return null;var n=il(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var qu=!1;if(ar)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{qu=!1}function pw(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var lo=!1,ha=null,pa=!1,Qu=null,vw={onError:function(e){lo=!0,ha=e}};function mw(e,t,r,n,i,o,s,a,l){lo=!1,ha=null,pw.apply(vw,arguments)}function yw(e,t,r,n,i,o,s,a,l){if(mw.apply(this,arguments),lo){if(lo){var u=ha;lo=!1,ha=null}else throw Error(L(198));pa||(pa=!0,Qu=u)}}function wn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dh(e){if(wn(e)!==e)throw Error(L(188))}function gw(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return dh(i),e;if(o===n)return dh(i),t;o=o.sibling}throw Error(L(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function jm(e){return e=gw(e),e!==null?Rm(e):null}function Rm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rm(e);if(t!==null)return t;e=e.sibling}return null}var Pm=vt.unstable_scheduleCallback,hh=vt.unstable_cancelCallback,xw=vt.unstable_shouldYield,ww=vt.unstable_requestPaint,Ie=vt.unstable_now,bw=vt.unstable_getCurrentPriorityLevel,Pf=vt.unstable_ImmediatePriority,Am=vt.unstable_UserBlockingPriority,va=vt.unstable_NormalPriority,Sw=vt.unstable_LowPriority,Dm=vt.unstable_IdlePriority,el=null,Jt=null;function Ew(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:_w,kw=Math.log,Tw=Math.LN2;function _w(e){return e>>>=0,e===0?32:31-(kw(e)/Tw|0)|0}var vs=64,ms=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ma(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Ji(a):(o&=s,o!==0&&(n=Ji(o)))}else s=r&~i,s!==0?n=Ji(s):o!==0&&(n=Ji(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),i=1<<r,n|=e[r],t&=~i;return n}function Nw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Lt(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=Nw(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mm(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function Ul(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ts(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Cw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Lt(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Af(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ce=0;function Lm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fm,Df,Um,$m,zm,Hu=!1,ys=[],jr=null,Rr=null,Pr=null,Co=new Map,Io=new Map,Er=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ph(e,t){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(t.pointerId)}}function Di(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ns(t),t!==null&&Df(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jw(e,t,r,n,i){switch(t){case"focusin":return jr=Di(jr,e,t,r,n,i),!0;case"dragenter":return Rr=Di(Rr,e,t,r,n,i),!0;case"mouseover":return Pr=Di(Pr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Co.set(o,Di(Co.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Io.set(o,Di(Io.get(o)||null,e,t,r,n,i)),!0}return!1}function Vm(e){var t=nn(e.target);if(t!==null){var r=wn(t);if(r!==null){if(t=r.tag,t===13){if(t=Im(r),t!==null){e.blockedOn=t,zm(e.priority,function(){Um(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vu=n,r.target.dispatchEvent(n),Vu=null}else return t=ns(r),t!==null&&Df(t),e.blockedOn=r,!1;t.shift()}return!0}function vh(e,t,r){qs(e)&&r.delete(t)}function Rw(){Hu=!1,jr!==null&&qs(jr)&&(jr=null),Rr!==null&&qs(Rr)&&(Rr=null),Pr!==null&&qs(Pr)&&(Pr=null),Co.forEach(vh),Io.forEach(vh)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Rw)))}function jo(e){function t(i){return Mi(i,e)}if(0<ys.length){Mi(ys[0],e);for(var r=1;r<ys.length;r++){var n=ys[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jr!==null&&Mi(jr,e),Rr!==null&&Mi(Rr,e),Pr!==null&&Mi(Pr,e),Co.forEach(t),Io.forEach(t),r=0;r<Er.length;r++)n=Er[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)Vm(r),r.blockedOn===null&&Er.shift()}var ei=dr.ReactCurrentBatchConfig,ya=!0;function Pw(e,t,r,n){var i=ce,o=ei.transition;ei.transition=null;try{ce=1,Mf(e,t,r,n)}finally{ce=i,ei.transition=o}}function Aw(e,t,r,n){var i=ce,o=ei.transition;ei.transition=null;try{ce=4,Mf(e,t,r,n)}finally{ce=i,ei.transition=o}}function Mf(e,t,r,n){if(ya){var i=Gu(e,t,r,n);if(i===null)Kl(e,t,n,ga,r),ph(e,n);else if(jw(i,e,t,r,n))n.stopPropagation();else if(ph(e,n),t&4&&-1<Iw.indexOf(e)){for(;i!==null;){var o=ns(i);if(o!==null&&Fm(o),o=Gu(e,t,r,n),o===null&&Kl(e,t,n,ga,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Kl(e,t,n,null,r)}}var ga=null;function Gu(e,t,r,n){if(ga=null,e=Rf(n),e=nn(e),e!==null)if(t=wn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Im(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ga=e,null}function Bm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bw()){case Pf:return 1;case Am:return 4;case va:case Sw:return 16;case Dm:return 536870912;default:return 16}default:return 16}}var Nr=null,Lf=null,Qs=null;function qm(){if(Qs)return Qs;var e,t=Lf,r=t.length,n,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Qs=i.slice(e,1<n?1-n:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function mh(){return!1}function gt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gs:mh,this.isPropagationStopped=mh,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=gt(Ei),rs=ke({},Ei,{view:0,detail:0}),Dw=gt(rs),$l,zl,Li,tl=ke({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?($l=e.screenX-Li.screenX,zl=e.screenY-Li.screenY):zl=$l=0,Li=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),yh=gt(tl),Mw=ke({},tl,{dataTransfer:0}),Lw=gt(Mw),Fw=ke({},rs,{relatedTarget:0}),Vl=gt(Fw),Uw=ke({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=gt(Uw),zw=ke({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vw=gt(zw),Bw=ke({},Ei,{data:0}),gh=gt(Bw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ww={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ww[e])?!!t[e]:!1}function Uf(){return Hw}var Gw=ke({},rs,{key:function(e){if(e.key){var t=qw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kw=gt(Gw),Yw=ke({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=gt(Yw),Jw=ke({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),Xw=gt(Jw),Zw=ke({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),eb=gt(Zw),tb=ke({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=gt(tb),nb=[9,13,27,32],$f=ar&&"CompositionEvent"in window,uo=null;ar&&"documentMode"in document&&(uo=document.documentMode);var ib=ar&&"TextEvent"in window&&!uo,Qm=ar&&(!$f||uo&&8<uo&&11>=uo),wh=String.fromCharCode(32),bh=!1;function Wm(e,t){switch(e){case"keyup":return nb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function ob(e,t){switch(e){case"compositionend":return Hm(t);case"keypress":return t.which!==32?null:(bh=!0,wh);case"textInput":return e=t.data,e===wh&&bh?null:e;default:return null}}function sb(e,t){if(Dn)return e==="compositionend"||!$f&&Wm(e,t)?(e=qm(),Qs=Lf=Nr=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qm&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Gm(e,t,r,n){Tm(n),t=xa(t,"onChange"),0<t.length&&(r=new Ff("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var co=null,Ro=null;function lb(e){oy(e,0)}function rl(e){var t=Fn(e);if(gm(t))return e}function ub(e,t){if(e==="change")return t}var Km=!1;if(ar){var Bl;if(ar){var ql="oninput"in document;if(!ql){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),ql=typeof Eh.oninput=="function"}Bl=ql}else Bl=!1;Km=Bl&&(!document.documentMode||9<document.documentMode)}function kh(){co&&(co.detachEvent("onpropertychange",Ym),Ro=co=null)}function Ym(e){if(e.propertyName==="value"&&rl(Ro)){var t=[];Gm(t,Ro,e,Rf(e)),Cm(lb,t)}}function cb(e,t,r){e==="focusin"?(kh(),co=t,Ro=r,co.attachEvent("onpropertychange",Ym)):e==="focusout"&&kh()}function fb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(Ro)}function db(e,t){if(e==="click")return rl(t)}function hb(e,t){if(e==="input"||e==="change")return rl(t)}function pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:pb;function Po(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Iu.call(t,i)||!zt(e[i],t[i]))return!1}return!0}function Th(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _h(e,t){var r=Th(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Th(r)}}function Jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xm(){for(var e=window,t=da();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=da(e.document)}return t}function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vb(e){var t=Xm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jm(r.ownerDocument.documentElement,r)){if(n!==null&&zf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=_h(r,o);var s=_h(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mb=ar&&"documentMode"in document&&11>=document.documentMode,Mn=null,Ku=null,fo=null,Yu=!1;function Nh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yu||Mn==null||Mn!==da(n)||(n=Mn,"selectionStart"in n&&zf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fo&&Po(fo,n)||(fo=n,n=xa(Ku,"onSelect"),0<n.length&&(t=new Ff("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mn)))}function xs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ln={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Ql={},Zm={};ar&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function nl(e){if(Ql[e])return Ql[e];if(!Ln[e])return e;var t=Ln[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zm)return Ql[e]=t[r];return e}var ey=nl("animationend"),ty=nl("animationiteration"),ry=nl("animationstart"),ny=nl("transitionend"),iy=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){iy.set(e,t),xn(t,[e])}for(var Wl=0;Wl<Oh.length;Wl++){var Hl=Oh[Wl],yb=Hl.toLowerCase(),gb=Hl[0].toUpperCase()+Hl.slice(1);Hr(yb,"on"+gb)}Hr(ey,"onAnimationEnd");Hr(ty,"onAnimationIteration");Hr(ry,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(ny,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Ch(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yw(n,t,void 0,e),e.currentTarget=null}function oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ch(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ch(i,a,u),o=l}}}if(pa)throw e=Qu,pa=!1,Qu=null,e}function me(e,t){var r=t[tc];r===void 0&&(r=t[tc]=new Set);var n=e+"__bubble";r.has(n)||(sy(t,e,2,!1),r.add(n))}function Gl(e,t,r){var n=0;t&&(n|=4),sy(r,e,n,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[ws]){e[ws]=!0,hm.forEach(function(r){r!=="selectionchange"&&(xb.has(r)||Gl(r,!1,e),Gl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Gl("selectionchange",!1,t))}}function sy(e,t,r,n){switch(Bm(t)){case 1:var i=Pw;break;case 4:i=Aw;break;default:i=Mf}r=i.bind(null,t,r,e),i=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kl(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=nn(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Cm(function(){var u=o,c=Rf(r),h=[];e:{var f=iy.get(e);if(f!==void 0){var d=Ff,m=e;switch(e){case"keypress":if(Ws(r)===0)break e;case"keydown":case"keyup":d=Kw;break;case"focusin":m="focus",d=Vl;break;case"focusout":m="blur",d=Vl;break;case"beforeblur":case"afterblur":d=Vl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Xw;break;case ey:case ty:case ry:d=$w;break;case ny:d=eb;break;case"scroll":d=Dw;break;case"wheel":d=rb;break;case"copy":case"cut":case"paste":d=Vw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=xh}var x=(t&4)!==0,w=!x&&e==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=Oo(p,y),b!=null&&x.push(Do(p,b,g)))),w)break;p=p.return}0<x.length&&(f=new d(f,m,null,r,c),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==Vu&&(m=r.relatedTarget||r.fromElement)&&(nn(m)||m[lr]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=u,m=m?nn(m):null,m!==null&&(w=wn(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(x=yh,b="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=xh,b="onPointerLeave",y="onPointerEnter",p="pointer"),w=d==null?f:Fn(d),g=m==null?f:Fn(m),f=new x(b,p+"leave",d,r,c),f.target=w,f.relatedTarget=g,b=null,nn(c)===u&&(x=new x(y,p+"enter",m,r,c),x.target=g,x.relatedTarget=w,b=x),w=b,d&&m)t:{for(x=d,y=m,p=0,g=x;g;g=En(g))p++;for(g=0,b=y;b;b=En(b))g++;for(;0<p-g;)x=En(x),p--;for(;0<g-p;)y=En(y),g--;for(;p--;){if(x===y||y!==null&&x===y.alternate)break t;x=En(x),y=En(y)}x=null}else x=null;d!==null&&Ih(h,f,d,x,!1),m!==null&&w!==null&&Ih(h,w,m,x,!0)}}e:{if(f=u?Fn(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var S=ub;else if(Sh(f))if(Km)S=hb;else{S=fb;var _=cb}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=db);if(S&&(S=S(e,u))){Gm(h,S,r,c);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Lu(f,"number",f.value)}switch(_=u?Fn(u):window,e){case"focusin":(Sh(_)||_.contentEditable==="true")&&(Mn=_,Ku=u,fo=null);break;case"focusout":fo=Ku=Mn=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,Nh(h,r,c);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":Nh(h,r,c)}var N;if($f)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Dn?Wm(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Qm&&r.locale!=="ko"&&(Dn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Dn&&(N=qm()):(Nr=c,Lf="value"in Nr?Nr.value:Nr.textContent,Dn=!0)),_=xa(u,O),0<_.length&&(O=new gh(O,e,null,r,c),h.push({event:O,listeners:_}),N?O.data=N:(N=Hm(r),N!==null&&(O.data=N)))),(N=ib?ob(e,r):sb(e,r))&&(u=xa(u,"onBeforeInput"),0<u.length&&(c=new gh("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=N))}oy(h,t)})}function Do(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xa(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Oo(e,r),o!=null&&n.unshift(Do(e,o,i)),o=Oo(e,t),o!=null&&n.push(Do(e,o,i))),e=e.return}return n}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ih(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Oo(r,o),l!=null&&s.unshift(Do(r,l,a))):i||(l=Oo(r,o),l!=null&&s.push(Do(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var wb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(wb,`
`).replace(bb,"")}function bs(e,t,r){if(t=jh(t),jh(e)!==t&&r)throw Error(L(425))}function wa(){}var Ju=null,Xu=null;function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(kb)}:ec;function kb(e){setTimeout(function(){throw e})}function Yl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),jo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);jo(t)}function Ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ki,Mo="__reactProps$"+ki,lr="__reactContainer$"+ki,tc="__reactEvents$"+ki,Tb="__reactListeners$"+ki,_b="__reactHandles$"+ki;function nn(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lr]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ph(e);e!==null;){if(r=e[Yt])return r;e=Ph(e)}return t}e=r,r=e.parentNode}return null}function ns(e){return e=e[Yt]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function il(e){return e[Mo]||null}var rc=[],Un=-1;function Gr(e){return{current:e}}function ge(e){0>Un||(e.current=rc[Un],rc[Un]=null,Un--)}function he(e,t){Un++,rc[Un]=e.current,e.current=t}var Vr={},Je=Gr(Vr),st=Gr(!1),fn=Vr;function ui(e,t){var r=e.type.contextTypes;if(!r)return Vr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function at(e){return e=e.childContextTypes,e!=null}function ba(){ge(st),ge(Je)}function Ah(e,t,r){if(Je.current!==Vr)throw Error(L(168));he(Je,t),he(st,r)}function ay(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(L(108,cw(e)||"Unknown",i));return ke({},r,n)}function Sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,fn=Je.current,he(Je,e),he(st,st.current),!0}function Dh(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=ay(e,t,fn),n.__reactInternalMemoizedMergedChildContext=e,ge(st),ge(Je),he(Je,e)):ge(st),he(st,r)}var rr=null,ol=!1,Jl=!1;function ly(e){rr===null?rr=[e]:rr.push(e)}function Nb(e){ol=!0,ly(e)}function Kr(){if(!Jl&&rr!==null){Jl=!0;var e=0,t=ce;try{var r=rr;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rr=null,ol=!1}catch(i){throw rr!==null&&(rr=rr.slice(e+1)),Pm(Pf,Kr),i}finally{ce=t,Jl=!1}}return null}var $n=[],zn=0,Ea=null,ka=0,wt=[],bt=0,dn=null,ir=1,or="";function Xr(e,t){$n[zn++]=ka,$n[zn++]=Ea,Ea=e,ka=t}function uy(e,t,r){wt[bt++]=ir,wt[bt++]=or,wt[bt++]=dn,dn=e;var n=ir;e=or;var i=32-Lt(n)-1;n&=~(1<<i),r+=1;var o=32-Lt(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ir=1<<32-Lt(t)+i|r<<i|n,or=o+e}else ir=1<<o|r<<i|n,or=e}function Vf(e){e.return!==null&&(Xr(e,1),uy(e,1,0))}function Bf(e){for(;e===Ea;)Ea=$n[--zn],$n[zn]=null,ka=$n[--zn],$n[zn]=null;for(;e===dn;)dn=wt[--bt],wt[bt]=null,or=wt[--bt],wt[bt]=null,ir=wt[--bt],wt[bt]=null}var pt=null,ht=null,xe=!1,Dt=null;function cy(e,t){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dn!==null?{id:ir,overflow:or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,ht=null,!0):!1;default:return!1}}function nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ic(e){if(xe){var t=ht;if(t){var r=t;if(!Mh(e,t)){if(nc(e))throw Error(L(418));t=Ar(r.nextSibling);var n=pt;t&&Mh(e,t)?cy(n,r):(e.flags=e.flags&-4097|2,xe=!1,pt=e)}}else{if(nc(e))throw Error(L(418));e.flags=e.flags&-4097|2,xe=!1,pt=e}}}function Lh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Ss(e){if(e!==pt)return!1;if(!xe)return Lh(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zu(e.type,e.memoizedProps)),t&&(t=ht)){if(nc(e))throw fy(),Error(L(418));for(;t;)cy(e,t),t=Ar(t.nextSibling)}if(Lh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ht=Ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Ar(e.stateNode.nextSibling):null;return!0}function fy(){for(var e=ht;e;)e=Ar(e.nextSibling)}function ci(){ht=pt=null,xe=!1}function qf(e){Dt===null?Dt=[e]:Dt.push(e)}var Ob=dr.ReactCurrentBatchConfig;function Fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fh(e){var t=e._init;return t(e._payload)}function dy(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Fr(y,p),y.index=0,y.sibling=null,y}function o(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,p,g,b){return p===null||p.tag!==6?(p=iu(g,y.mode,b),p.return=y,p):(p=i(p,g),p.return=y,p)}function l(y,p,g,b){var S=g.type;return S===An?c(y,p,g.props.children,b,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gr&&Fh(S)===p.type)?(b=i(p,g.props),b.ref=Fi(y,p,g),b.return=y,b):(b=Zs(g.type,g.key,g.props,null,y.mode,b),b.ref=Fi(y,p,g),b.return=y,b)}function u(y,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=ou(g,y.mode,b),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,b,S){return p===null||p.tag!==7?(p=cn(g,y.mode,b,S),p.return=y,p):(p=i(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=iu(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return g=Zs(p.type,p.key,p.props,null,y.mode,g),g.ref=Fi(y,null,p),g.return=y,g;case Pn:return p=ou(p,y.mode,g),p.return=y,p;case gr:var b=p._init;return h(y,b(p._payload),g)}if(Yi(p)||Pi(p))return p=cn(p,y.mode,g,null),p.return=y,p;Es(y,p)}return null}function f(y,p,g,b){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(y,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return g.key===S?l(y,p,g,b):null;case Pn:return g.key===S?u(y,p,g,b):null;case gr:return S=g._init,f(y,p,S(g._payload),b)}if(Yi(g)||Pi(g))return S!==null?null:c(y,p,g,b,null);Es(y,g)}return null}function d(y,p,g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,a(p,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ds:return y=y.get(b.key===null?g:b.key)||null,l(p,y,b,S);case Pn:return y=y.get(b.key===null?g:b.key)||null,u(p,y,b,S);case gr:var _=b._init;return d(y,p,g,_(b._payload),S)}if(Yi(b)||Pi(b))return y=y.get(g)||null,c(p,y,b,S,null);Es(p,b)}return null}function m(y,p,g,b){for(var S=null,_=null,N=p,O=p=0,P=null;N!==null&&O<g.length;O++){N.index>O?(P=N,N=null):P=N.sibling;var A=f(y,N,g[O],b);if(A===null){N===null&&(N=P);break}e&&N&&A.alternate===null&&t(y,N),p=o(A,p,O),_===null?S=A:_.sibling=A,_=A,N=P}if(O===g.length)return r(y,N),xe&&Xr(y,O),S;if(N===null){for(;O<g.length;O++)N=h(y,g[O],b),N!==null&&(p=o(N,p,O),_===null?S=N:_.sibling=N,_=N);return xe&&Xr(y,O),S}for(N=n(y,N);O<g.length;O++)P=d(N,y,O,g[O],b),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?O:P.key),p=o(P,p,O),_===null?S=P:_.sibling=P,_=P);return e&&N.forEach(function(M){return t(y,M)}),xe&&Xr(y,O),S}function x(y,p,g,b){var S=Pi(g);if(typeof S!="function")throw Error(L(150));if(g=S.call(g),g==null)throw Error(L(151));for(var _=S=null,N=p,O=p=0,P=null,A=g.next();N!==null&&!A.done;O++,A=g.next()){N.index>O?(P=N,N=null):P=N.sibling;var M=f(y,N,A.value,b);if(M===null){N===null&&(N=P);break}e&&N&&M.alternate===null&&t(y,N),p=o(M,p,O),_===null?S=M:_.sibling=M,_=M,N=P}if(A.done)return r(y,N),xe&&Xr(y,O),S;if(N===null){for(;!A.done;O++,A=g.next())A=h(y,A.value,b),A!==null&&(p=o(A,p,O),_===null?S=A:_.sibling=A,_=A);return xe&&Xr(y,O),S}for(N=n(y,N);!A.done;O++,A=g.next())A=d(N,y,O,A.value,b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?O:A.key),p=o(A,p,O),_===null?S=A:_.sibling=A,_=A);return e&&N.forEach(function(q){return t(y,q)}),xe&&Xr(y,O),S}function w(y,p,g,b){if(typeof g=="object"&&g!==null&&g.type===An&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:e:{for(var S=g.key,_=p;_!==null;){if(_.key===S){if(S=g.type,S===An){if(_.tag===7){r(y,_.sibling),p=i(_,g.props.children),p.return=y,y=p;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gr&&Fh(S)===_.type){r(y,_.sibling),p=i(_,g.props),p.ref=Fi(y,_,g),p.return=y,y=p;break e}r(y,_);break}else t(y,_);_=_.sibling}g.type===An?(p=cn(g.props.children,y.mode,b,g.key),p.return=y,y=p):(b=Zs(g.type,g.key,g.props,null,y.mode,b),b.ref=Fi(y,p,g),b.return=y,y=b)}return s(y);case Pn:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else t(y,p);p=p.sibling}p=ou(g,y.mode,b),p.return=y,y=p}return s(y);case gr:return _=g._init,w(y,p,_(g._payload),b)}if(Yi(g))return m(y,p,g,b);if(Pi(g))return x(y,p,g,b);Es(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(y,p.sibling),p=i(p,g),p.return=y,y=p):(r(y,p),p=iu(g,y.mode,b),p.return=y,y=p),s(y)):r(y,p)}return w}var fi=dy(!0),hy=dy(!1),Ta=Gr(null),_a=null,Vn=null,Qf=null;function Wf(){Qf=Vn=_a=null}function Hf(e){var t=Ta.current;ge(Ta),e._currentValue=t}function oc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){_a=e,Qf=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Qf!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(_a===null)throw Error(L(308));Vn=e,_a.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var on=null;function Gf(e){on===null?on=[e]:on.push(e)}function py(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Gf(t)):(r.next=i.next,i.next=r),t.interleaved=r,ur(e,n)}function ur(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xr=!1;function Kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ur(e,r)}return i=n.interleaved,i===null?(t.next=t,Gf(n)):(t.next=i.next,i.next=t),n.interleaved=t,ur(e,r)}function Hs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Af(e,r)}}function Uh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Na(e,t,r,n){var i=e.updateQueue;xr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,x=a;switch(f=t,d=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){h=m.call(d,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,f=typeof m=="function"?m.call(d,h,f):m,f==null)break e;h=ke({},h,f);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);pn|=s,e.lanes=s,e.memoizedState=h}}function $h(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var is={},Xt=Gr(is),Lo=Gr(is),Fo=Gr(is);function sn(e){if(e===is)throw Error(L(174));return e}function Yf(e,t){switch(he(Fo,t),he(Lo,e),he(Xt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uu(t,e)}ge(Xt),he(Xt,t)}function di(){ge(Xt),ge(Lo),ge(Fo)}function my(e){sn(Fo.current);var t=sn(Xt.current),r=Uu(t,e.type);t!==r&&(he(Lo,e),he(Xt,r))}function Jf(e){Lo.current===e&&(ge(Xt),ge(Lo))}var Se=Gr(0);function Oa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xl=[];function Xf(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var Gs=dr.ReactCurrentDispatcher,Zl=dr.ReactCurrentBatchConfig,hn=0,Ee=null,De=null,Fe=null,Ca=!1,ho=!1,Uo=0,Cb=0;function We(){throw Error(L(321))}function Zf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zt(e[r],t[r]))return!1;return!0}function ed(e,t,r,n,i,o){if(hn=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?Pb:Ab,e=r(n,i),ho){o=0;do{if(ho=!1,Uo=0,25<=o)throw Error(L(301));o+=1,Fe=De=null,t.updateQueue=null,Gs.current=Db,e=r(n,i)}while(ho)}if(Gs.current=Ia,t=De!==null&&De.next!==null,hn=0,Fe=De=Ee=null,Ca=!1,t)throw Error(L(300));return e}function td(){var e=Uo!==0;return Uo=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ee.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function _t(){if(De===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?Ee.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(L(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?Ee.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function $o(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=De,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((hn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,Ee.lanes|=c,pn|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,zt(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Ee.lanes|=o,pn|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tu(e){var t=_t(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);zt(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function yy(){}function gy(e,t){var r=Ee,n=_t(),i=t(),o=!zt(n.memoizedState,i);if(o&&(n.memoizedState=i,ot=!0),n=n.queue,rd(by.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,zo(9,wy.bind(null,r,n,i,t),void 0,null),$e===null)throw Error(L(349));hn&30||xy(r,t,i)}return i}function xy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wy(e,t,r,n){t.value=r,t.getSnapshot=n,Sy(t)&&Ey(e)}function by(e,t,r){return r(function(){Sy(t)&&Ey(e)})}function Sy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zt(e,r)}catch{return!0}}function Ey(e){var t=ur(e,1);t!==null&&Ft(t,e,1,-1)}function zh(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e},t.queue=e,e=e.dispatch=Rb.bind(null,Ee,e),[t.memoizedState,e]}function zo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ky(){return _t().memoizedState}function Ks(e,t,r,n){var i=Wt();Ee.flags|=e,i.memoizedState=zo(1|t,r,void 0,n===void 0?null:n)}function sl(e,t,r,n){var i=_t();n=n===void 0?null:n;var o=void 0;if(De!==null){var s=De.memoizedState;if(o=s.destroy,n!==null&&Zf(n,s.deps)){i.memoizedState=zo(t,r,o,n);return}}Ee.flags|=e,i.memoizedState=zo(1|t,r,o,n)}function Vh(e,t){return Ks(8390656,8,e,t)}function rd(e,t){return sl(2048,8,e,t)}function Ty(e,t){return sl(4,2,e,t)}function _y(e,t){return sl(4,4,e,t)}function Ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oy(e,t,r){return r=r!=null?r.concat([e]):null,sl(4,4,Ny.bind(null,t,e),r)}function nd(){}function Cy(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Iy(e,t){var r=_t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jy(e,t,r){return hn&21?(zt(r,t)||(r=Mm(),Ee.lanes|=r,pn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function Ib(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Zl.transition;Zl.transition={};try{e(!1),t()}finally{ce=r,Zl.transition=n}}function Ry(){return _t().memoizedState}function jb(e,t,r){var n=Lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Py(e))Ay(t,r);else if(r=py(e,t,r,n),r!==null){var i=Ze();Ft(r,e,n,i),Dy(r,t,n)}}function Rb(e,t,r){var n=Lr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Py(e))Ay(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,zt(a,s)){var l=t.interleaved;l===null?(i.next=i,Gf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=py(e,t,i,n),r!==null&&(i=Ze(),Ft(r,e,n,i),Dy(r,t,n))}}function Py(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Ay(e,t){ho=Ca=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Af(e,r)}}var Ia={readContext:Tt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Pb={readContext:Tt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Vh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ks(4194308,4,Ny.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jb.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:zh,useDebugValue:nd,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=zh(!1),t=e[0];return e=Ib.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ee,i=Wt();if(xe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),$e===null)throw Error(L(349));hn&30||xy(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Vh(by.bind(null,n,o,e),[e]),n.flags|=2048,zo(9,wy.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(xe){var r=or,n=ir;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cb++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ab={readContext:Tt,useCallback:Cy,useContext:Tt,useEffect:rd,useImperativeHandle:Oy,useInsertionEffect:Ty,useLayoutEffect:_y,useMemo:Iy,useReducer:eu,useRef:ky,useState:function(){return eu($o)},useDebugValue:nd,useDeferredValue:function(e){var t=_t();return jy(t,De.memoizedState,e)},useTransition:function(){var e=eu($o)[0],t=_t().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:gy,useId:Ry,unstable_isNewReconciler:!1},Db={readContext:Tt,useCallback:Cy,useContext:Tt,useEffect:rd,useImperativeHandle:Oy,useInsertionEffect:Ty,useLayoutEffect:_y,useMemo:Iy,useReducer:tu,useRef:ky,useState:function(){return tu($o)},useDebugValue:nd,useDeferredValue:function(e){var t=_t();return De===null?t.memoizedState=e:jy(t,De.memoizedState,e)},useTransition:function(){var e=tu($o)[0],t=_t().memoizedState;return[e,t]},useMutableSource:yy,useSyncExternalStore:gy,useId:Ry,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var al={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ze(),i=Lr(e),o=sr(n,i);o.payload=t,r!=null&&(o.callback=r),t=Dr(e,o,i),t!==null&&(Ft(t,e,i,n),Hs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ze(),i=Lr(e),o=sr(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Dr(e,o,i),t!==null&&(Ft(t,e,i,n),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),n=Lr(e),i=sr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Dr(e,i,n),t!==null&&(Ft(t,e,n,r),Hs(t,e,n))}};function Bh(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Po(r,n)||!Po(i,o):!0}function My(e,t,r){var n=!1,i=Vr,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(i=at(t)?fn:Je.current,n=t.contextTypes,o=(n=n!=null)?ui(e,i):Vr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ac(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Kf(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tt(o):(o=at(t)?fn:Je.current,i.context=ui(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(sc(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&al.enqueueReplaceState(i,i.state,null),Na(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,t){try{var r="",n=t;do r+=uw(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ru(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mb=typeof WeakMap=="function"?WeakMap:Map;function Ly(e,t,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ra||(Ra=!0,gc=n),lc(e,t)},r}function Fy(e,t,r){r=sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){lc(e,t),typeof n!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Qh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mb;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Yb.bind(null,e,t,r),t.then(e,e))}function Wh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hh(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sr(-1,1),t.tag=2,Dr(r,t,1))),r.lanes|=1),e)}var Lb=dr.ReactCurrentOwner,ot=!1;function Xe(e,t,r,n){t.child=e===null?hy(t,null,r,n):fi(t,e.child,r,n)}function Gh(e,t,r,n,i){r=r.render;var o=t.ref;return ti(t,i),n=ed(e,t,r,n,o,i),r=td(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(xe&&r&&Vf(t),t.flags|=1,Xe(e,t,n,i),t.child)}function Kh(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!fd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Uy(e,t,o,n,i)):(e=Zs(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(s,n)&&e.ref===t.ref)return cr(e,t,i)}return t.flags|=1,e=Fr(o,n),e.ref=t.ref,e.return=t,t.child=e}function Uy(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Po(o,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,cr(e,t,i)}return uc(e,t,r,n,i)}function $y(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(qn,ft),ft|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(qn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,he(qn,ft),ft|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,he(qn,ft),ft|=n;return Xe(e,t,i,r),t.child}function zy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uc(e,t,r,n,i){var o=at(r)?fn:Je.current;return o=ui(t,o),ti(t,i),r=ed(e,t,r,n,o,i),n=td(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cr(e,t,i)):(xe&&n&&Vf(t),t.flags|=1,Xe(e,t,r,i),t.child)}function Yh(e,t,r,n,i){if(at(r)){var o=!0;Sa(t)}else o=!1;if(ti(t,i),t.stateNode===null)Ys(e,t),My(t,r,n),ac(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=at(r)?fn:Je.current,u=ui(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&qh(t,s,n,u),xr=!1;var f=t.memoizedState;s.state=f,Na(t,n,s,i),l=t.memoizedState,a!==n||f!==l||st.current||xr?(typeof c=="function"&&(sc(t,r,c,n),l=t.memoizedState),(a=xr||Bh(t,r,a,n,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,vy(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jt(t.type,a),s.props=u,h=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=at(r)?fn:Je.current,l=ui(t,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&qh(t,s,n,l),xr=!1,f=t.memoizedState,s.state=f,Na(t,n,s,i);var m=t.memoizedState;a!==h||f!==m||st.current||xr?(typeof d=="function"&&(sc(t,r,d,n),m=t.memoizedState),(u=xr||Bh(t,r,u,n,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return cc(e,t,r,n,o,i)}function cc(e,t,r,n,i,o){zy(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Dh(t,r,!1),cr(e,t,o);n=t.stateNode,Lb.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=fi(t,e.child,null,o),t.child=fi(t,null,a,o)):Xe(e,t,a,o),t.memoizedState=n.state,i&&Dh(t,r,!0),t.child}function Vy(e){var t=e.stateNode;t.pendingContext?Ah(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ah(e,t.context,!1),Yf(e,t.containerInfo)}function Jh(e,t,r,n,i){return ci(),qf(i),t.flags|=256,Xe(e,t,r,n),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function By(e,t,r){var n=t.pendingProps,i=Se.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(Se,i&1),e===null)return ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cl(s,n,0,null),e=cn(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=dc(r),t.memoizedState=fc,e):id(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Fb(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Fr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Fr(a,o):(o=cn(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?dc(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=fc,n}return o=e.child,e=o.sibling,n=Fr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function id(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,r,n){return n!==null&&qf(n),fi(t,e.child,null,r),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fb(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=ru(Error(L(422))),ks(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=cl({mode:"visible",children:n.children},i,0,null),o=cn(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&fi(t,e.child,null,s),t.child.memoizedState=dc(s),t.memoizedState=fc,o);if(!(t.mode&1))return ks(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(L(419)),n=ru(o,n,void 0),ks(e,t,s,n)}if(a=(s&e.childLanes)!==0,ot||a){if(n=$e,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ur(e,i),Ft(n,e,i,-1))}return cd(),n=ru(Error(L(421))),ks(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jb.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ht=Ar(i.nextSibling),pt=t,xe=!0,Dt=null,e!==null&&(wt[bt++]=ir,wt[bt++]=or,wt[bt++]=dn,ir=e.id,or=e.overflow,dn=t),t=id(t,n.children),t.flags|=4096,t)}function Xh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oc(e.return,t,r)}function nu(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function qy(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Xe(e,t,n.children,r),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xh(e,r,t);else if(e.tag===19)Xh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(Se,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Oa(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),nu(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oa(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}nu(t,!0,r,null,o);break;case"together":nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Fr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ub(e,t,r){switch(t.tag){case 3:Vy(t),ci();break;case 5:my(t);break;case 1:at(t.type)&&Sa(t);break;case 4:Yf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;he(Ta,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(Se,Se.current&1),t.flags|=128,null):r&t.child.childLanes?By(e,t,r):(he(Se,Se.current&1),e=cr(e,t,r),e!==null?e.sibling:null);he(Se,Se.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qy(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,$y(e,t,r)}return cr(e,t,r)}var Qy,hc,Wy,Hy;Qy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hc=function(){};Wy=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,sn(Xt.current);var o=null;switch(r){case"input":i=Du(e,i),n=Du(e,n),o=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),o=[];break;case"textarea":i=Fu(e,i),n=Fu(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wa)}$u(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_o.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_o.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Hy=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ui(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $b(e,t,r){var n=t.pendingProps;switch(Bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return at(t.type)&&ba(),He(t),null;case 3:return n=t.stateNode,di(),ge(st),ge(Je),Xf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(bc(Dt),Dt=null))),hc(e,t),He(t),null;case 5:Jf(t);var i=sn(Fo.current);if(r=t.type,e!==null&&t.stateNode!=null)Wy(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return He(t),null}if(e=sn(Xt.current),Ss(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Yt]=t,n[Mo]=o,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(i=0;i<Xi.length;i++)me(Xi[i],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":ah(n,o),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},me("invalid",n);break;case"textarea":uh(n,o),me("invalid",n)}$u(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&bs(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bs(n.textContent,a,e),i=["children",""+a]):_o.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&me("scroll",n)}switch(r){case"input":hs(n),lh(n,o,!0);break;case"textarea":hs(n),ch(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=wa)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Yt]=t,e[Mo]=n,Qy(e,t,!1,!1),t.stateNode=e;e:{switch(s=zu(r,n),r){case"dialog":me("cancel",e),me("close",e),i=n;break;case"iframe":case"object":case"embed":me("load",e),i=n;break;case"video":case"audio":for(i=0;i<Xi.length;i++)me(Xi[i],e);i=n;break;case"source":me("error",e),i=n;break;case"img":case"image":case"link":me("error",e),me("load",e),i=n;break;case"details":me("toggle",e),i=n;break;case"input":ah(e,n),i=Du(e,n),me("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),me("invalid",e);break;case"textarea":uh(e,n),i=Fu(e,n),me("invalid",e);break;default:i=n}$u(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?km(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sm(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&No(e,l):typeof l=="number"&&No(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_o.hasOwnProperty(o)?l!=null&&o==="onScroll"&&me("scroll",e):l!=null&&Of(e,o,l,s))}switch(r){case"input":hs(e),lh(e,n,!1);break;case"textarea":hs(e),ch(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Jn(e,!!n.multiple,o,!1):n.defaultValue!=null&&Jn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Hy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=sn(Fo.current),sn(Xt.current),Ss(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yt]=t,(o=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return He(t),null;case 13:if(ge(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&ht!==null&&t.mode&1&&!(t.flags&128))fy(),ci(),t.flags|=98560,o=!1;else if(o=Ss(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Yt]=t}else ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else Dt!==null&&(bc(Dt),Dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Me===0&&(Me=3):cd())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return di(),hc(e,t),e===null&&Ao(t.stateNode.containerInfo),He(t),null;case 10:return Hf(t.type._context),He(t),null;case 17:return at(t.type)&&ba(),He(t),null;case 19:if(ge(Se),o=t.memoizedState,o===null)return He(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)Ui(o,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Oa(e),s!==null){for(t.flags|=128,Ui(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>pi&&(t.flags|=128,n=!0,Ui(o,!1),t.lanes=4194304)}else{if(!n)if(e=Oa(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ui(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return He(t),null}else 2*Ie()-o.renderingStartTime>pi&&r!==1073741824&&(t.flags|=128,n=!0,Ui(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,r=Se.current,he(Se,n?r&1|2:r&1),t):(He(t),null);case 22:case 23:return ud(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function zb(e,t){switch(Bf(t),t.tag){case 1:return at(t.type)&&ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di(),ge(st),ge(Je),Xf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jf(t),null;case 13:if(ge(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Se),null;case 4:return di(),null;case 10:return Hf(t.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var Ts=!1,Ke=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,B=null;function Bn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(e,t,n)}else r.current=null}function pc(e,t,r){try{r()}catch(n){_e(e,t,n)}}var Zh=!1;function Bb(e,t){if(Ju=ya,e=Xm(),zf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===r&&++u===i&&(a=s),f===o&&++c===n&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xu={focusedElem:e,selectionRange:r},ya=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,w=m.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:jt(t.type,x),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(b){_e(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return m=Zh,Zh=!1,m}function po(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&pc(t,r,o)}i=i.next}while(i!==n)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gy(e){var t=e.alternate;t!==null&&(e.alternate=null,Gy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Mo],delete t[tc],delete t[Tb],delete t[_b])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ky(e){return e.tag===5||e.tag===3||e.tag===4}function ep(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wa));else if(n!==4&&(e=e.child,e!==null))for(mc(e,t,r),e=e.sibling;e!==null;)mc(e,t,r),e=e.sibling}function yc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yc(e,t,r),e=e.sibling;e!==null;)yc(e,t,r),e=e.sibling}var Ve=null,At=!1;function mr(e,t,r){for(r=r.child;r!==null;)Yy(e,t,r),r=r.sibling}function Yy(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(el,r)}catch{}switch(r.tag){case 5:Ke||Bn(r,t);case 6:var n=Ve,i=At;Ve=null,mr(e,t,r),Ve=n,At=i,Ve!==null&&(At?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(At?(e=Ve,r=r.stateNode,e.nodeType===8?Yl(e.parentNode,r):e.nodeType===1&&Yl(e,r),jo(e)):Yl(Ve,r.stateNode));break;case 4:n=Ve,i=At,Ve=r.stateNode.containerInfo,At=!0,mr(e,t,r),Ve=n,At=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&pc(r,t,s),i=i.next}while(i!==n)}mr(e,t,r);break;case 1:if(!Ke&&(Bn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_e(r,t,a)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,mr(e,t,r),Ke=n):mr(e,t,r);break;default:mr(e,t,r)}}function tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vb),t.forEach(function(n){var i=Xb.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,At=!1;break e;case 3:Ve=a.stateNode.containerInfo,At=!0;break e;case 4:Ve=a.stateNode.containerInfo,At=!0;break e}a=a.return}if(Ve===null)throw Error(L(160));Yy(o,s,i),Ve=null,At=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jy(t,e),t=t.sibling}function Jy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Qt(e),n&4){try{po(3,e,e.return),ll(3,e)}catch(x){_e(e,e.return,x)}try{po(5,e,e.return)}catch(x){_e(e,e.return,x)}}break;case 1:Ot(t,e),Qt(e),n&512&&r!==null&&Bn(r,r.return);break;case 5:if(Ot(t,e),Qt(e),n&512&&r!==null&&Bn(r,r.return),e.flags&32){var i=e.stateNode;try{No(i,"")}catch(x){_e(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xm(i,o),zu(a,s);var u=zu(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?km(i,h):c==="dangerouslySetInnerHTML"?Sm(i,h):c==="children"?No(i,h):Of(i,c,h,u)}switch(a){case"input":Mu(i,o);break;case"textarea":wm(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Jn(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?Jn(i,!!o.multiple,o.defaultValue,!0):Jn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Mo]=o}catch(x){_e(e,e.return,x)}}break;case 6:if(Ot(t,e),Qt(e),n&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){_e(e,e.return,x)}}break;case 3:if(Ot(t,e),Qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jo(t.containerInfo)}catch(x){_e(e,e.return,x)}break;case 4:Ot(t,e),Qt(e);break;case 13:Ot(t,e),Qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ad=Ie())),n&4&&tp(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(u=Ke)||c,Ot(t,e),Ke=u):Ot(t,e),Qt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(B=e,c=e.child;c!==null;){for(h=B=c;B!==null;){switch(f=B,d=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Bn(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){_e(n,r,x)}}break;case 5:Bn(f,f.return);break;case 22:if(f.memoizedState!==null){np(h);continue}}d!==null?(d.return=f,B=d):np(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Em("display",s))}catch(x){_e(e,e.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){_e(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ot(t,e),Qt(e),n&4&&tp(e);break;case 21:break;default:Ot(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ky(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(No(i,""),n.flags&=-33);var o=ep(e);yc(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=ep(e);mc(e,a,s);break;default:throw Error(L(161))}}catch(l){_e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qb(e,t,r){B=e,Xy(e)}function Xy(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var i=B,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ts;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=Ts;var u=Ke;if(Ts=s,(Ke=l)&&!u)for(B=i;B!==null;)s=B,l=s.child,s.tag===22&&s.memoizedState!==null?ip(i):l!==null?(l.return=s,B=l):ip(i);for(;o!==null;)B=o,Xy(o),o=o.sibling;B=i,Ts=a,Ke=u}rp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,B=o):rp(e)}}function rp(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||ll(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:jt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$h(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$h(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&jo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ke||t.flags&512&&vc(t)}catch(f){_e(t,t.return,f)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function np(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function ip(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ll(4,t)}catch(l){_e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){_e(t,i,l)}}var o=t.return;try{vc(t)}catch(l){_e(t,o,l)}break;case 5:var s=t.return;try{vc(t)}catch(l){_e(t,s,l)}}}catch(l){_e(t,t.return,l)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var Qb=Math.ceil,ja=dr.ReactCurrentDispatcher,od=dr.ReactCurrentOwner,Et=dr.ReactCurrentBatchConfig,ie=0,$e=null,Pe=null,qe=0,ft=0,qn=Gr(0),Me=0,Vo=null,pn=0,ul=0,sd=0,vo=null,it=null,ad=0,pi=1/0,tr=null,Ra=!1,gc=null,Mr=null,_s=!1,Or=null,Pa=0,mo=0,xc=null,Js=-1,Xs=0;function Ze(){return ie&6?Ie():Js!==-1?Js:Js=Ie()}function Lr(e){return e.mode&1?ie&2&&qe!==0?qe&-qe:Ob.transition!==null?(Xs===0&&(Xs=Mm()),Xs):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Bm(e.type)),e):1}function Ft(e,t,r,n){if(50<mo)throw mo=0,xc=null,Error(L(185));ts(e,r,n),(!(ie&2)||e!==$e)&&(e===$e&&(!(ie&2)&&(ul|=r),Me===4&&kr(e,qe)),lt(e,n),r===1&&ie===0&&!(t.mode&1)&&(pi=Ie()+500,ol&&Kr()))}function lt(e,t){var r=e.callbackNode;Ow(e,t);var n=ma(e,e===$e?qe:0);if(n===0)r!==null&&hh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hh(r),t===1)e.tag===0?Nb(op.bind(null,e)):ly(op.bind(null,e)),Eb(function(){!(ie&6)&&Kr()}),r=null;else{switch(Lm(n)){case 1:r=Pf;break;case 4:r=Am;break;case 16:r=va;break;case 536870912:r=Dm;break;default:r=va}r=sg(r,Zy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zy(e,t){if(Js=-1,Xs=0,ie&6)throw Error(L(327));var r=e.callbackNode;if(ri()&&e.callbackNode!==r)return null;var n=ma(e,e===$e?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Aa(e,n);else{t=n;var i=ie;ie|=2;var o=tg();($e!==e||qe!==t)&&(tr=null,pi=Ie()+500,un(e,t));do try{Gb();break}catch(a){eg(e,a)}while(1);Wf(),ja.current=o,ie=i,Pe!==null?t=0:($e=null,qe=0,t=Me)}if(t!==0){if(t===2&&(i=Wu(e),i!==0&&(n=i,t=wc(e,i))),t===1)throw r=Vo,un(e,0),kr(e,n),lt(e,Ie()),r;if(t===6)kr(e,n);else{if(i=e.current.alternate,!(n&30)&&!Wb(i)&&(t=Aa(e,n),t===2&&(o=Wu(e),o!==0&&(n=o,t=wc(e,o))),t===1))throw r=Vo,un(e,0),kr(e,n),lt(e,Ie()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:Zr(e,it,tr);break;case 3:if(kr(e,n),(n&130023424)===n&&(t=ad+500-Ie(),10<t)){if(ma(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ec(Zr.bind(null,e,it,tr),t);break}Zr(e,it,tr);break;case 4:if(kr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Lt(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qb(n/1960))-n,10<n){e.timeoutHandle=ec(Zr.bind(null,e,it,tr),n);break}Zr(e,it,tr);break;case 5:Zr(e,it,tr);break;default:throw Error(L(329))}}}return lt(e,Ie()),e.callbackNode===r?Zy.bind(null,e):null}function wc(e,t){var r=vo;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=Aa(e,t),e!==2&&(t=it,it=r,t!==null&&bc(t)),e}function bc(e){it===null?it=e:it.push.apply(it,e)}function Wb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!zt(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~sd,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function op(e){if(ie&6)throw Error(L(327));ri();var t=ma(e,0);if(!(t&1))return lt(e,Ie()),null;var r=Aa(e,t);if(e.tag!==0&&r===2){var n=Wu(e);n!==0&&(t=n,r=wc(e,n))}if(r===1)throw r=Vo,un(e,0),kr(e,t),lt(e,Ie()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,it,tr),lt(e,Ie()),null}function ld(e,t){var r=ie;ie|=1;try{return e(t)}finally{ie=r,ie===0&&(pi=Ie()+500,ol&&Kr())}}function vn(e){Or!==null&&Or.tag===0&&!(ie&6)&&ri();var t=ie;ie|=1;var r=Et.transition,n=ce;try{if(Et.transition=null,ce=1,e)return e()}finally{ce=n,Et.transition=r,ie=t,!(ie&6)&&Kr()}}function ud(){ft=qn.current,ge(qn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sb(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(Bf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ba();break;case 3:di(),ge(st),ge(Je),Xf();break;case 5:Jf(n);break;case 4:di();break;case 13:ge(Se);break;case 19:ge(Se);break;case 10:Hf(n.type._context);break;case 22:case 23:ud()}r=r.return}if($e=e,Pe=e=Fr(e.current,null),qe=ft=t,Me=0,Vo=null,sd=ul=pn=0,it=vo=null,on!==null){for(t=0;t<on.length;t++)if(r=on[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}on=null}return e}function eg(e,t){do{var r=Pe;try{if(Wf(),Gs.current=Ia,Ca){for(var n=Ee.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ca=!1}if(hn=0,Fe=De=Ee=null,ho=!1,Uo=0,od.current=null,r===null||r.return===null){Me=1,Vo=t,Pe=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Wh(s);if(d!==null){d.flags&=-257,Hh(d,s,a,o,t),d.mode&1&&Qh(o,u,t),t=d,l=u;var m=t.updateQueue;if(m===null){var x=new Set;x.add(l),t.updateQueue=x}else m.add(l);break e}else{if(!(t&1)){Qh(o,u,t),cd();break e}l=Error(L(426))}}else if(xe&&a.mode&1){var w=Wh(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Hh(w,s,a,o,t),qf(hi(l,a));break e}}o=l=hi(l,a),Me!==4&&(Me=2),vo===null?vo=[o]:vo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Ly(o,l,t);Uh(o,y);break e;case 1:a=l;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Fy(o,a,t);Uh(o,b);break e}}o=o.return}while(o!==null)}ng(r)}catch(S){t=S,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(1)}function tg(){var e=ja.current;return ja.current=Ia,e===null?Ia:e}function cd(){(Me===0||Me===3||Me===2)&&(Me=4),$e===null||!(pn&268435455)&&!(ul&268435455)||kr($e,qe)}function Aa(e,t){var r=ie;ie|=2;var n=tg();($e!==e||qe!==t)&&(tr=null,un(e,t));do try{Hb();break}catch(i){eg(e,i)}while(1);if(Wf(),ie=r,ja.current=n,Pe!==null)throw Error(L(261));return $e=null,qe=0,Me}function Hb(){for(;Pe!==null;)rg(Pe)}function Gb(){for(;Pe!==null&&!xw();)rg(Pe)}function rg(e){var t=og(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?ng(e):Pe=t,od.current=null}function ng(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zb(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Pe=null;return}}else if(r=$b(r,t,ft),r!==null){Pe=r;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Me===0&&(Me=5)}function Zr(e,t,r){var n=ce,i=Et.transition;try{Et.transition=null,ce=1,Kb(e,t,r,n)}finally{Et.transition=i,ce=n}return null}function Kb(e,t,r,n){do ri();while(Or!==null);if(ie&6)throw Error(L(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Cw(e,o),e===$e&&(Pe=$e=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,sg(va,function(){return ri(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var s=ce;ce=1;var a=ie;ie|=4,od.current=null,Bb(e,r),Jy(r,e),vb(Xu),ya=!!Ju,Xu=Ju=null,e.current=r,qb(r),ww(),ie=a,ce=s,Et.transition=o}else e.current=r;if(_s&&(_s=!1,Or=e,Pa=i),o=e.pendingLanes,o===0&&(Mr=null),Ew(r.stateNode),lt(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ra)throw Ra=!1,e=gc,gc=null,e;return Pa&1&&e.tag!==0&&ri(),o=e.pendingLanes,o&1?e===xc?mo++:(mo=0,xc=e):mo=0,Kr(),null}function ri(){if(Or!==null){var e=Lm(Pa),t=Et.transition,r=ce;try{if(Et.transition=null,ce=16>e?16:e,Or===null)var n=!1;else{if(e=Or,Or=null,Pa=0,ie&6)throw Error(L(331));var i=ie;for(ie|=4,B=e.current;B!==null;){var o=B,s=o.child;if(B.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:po(8,c,o)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var f=c.sibling,d=c.return;if(Gy(c),c===u){B=null;break}if(f!==null){f.return=d,B=f;break}B=d}}}var m=o.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}B=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,B=s;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,B=y;break e}B=o.return}}var p=e.current;for(B=p;B!==null;){s=B;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,B=g;else e:for(s=p;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ll(9,a)}}catch(S){_e(a,a.return,S)}if(a===s){B=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,B=b;break e}B=a.return}}if(ie=i,Kr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(el,e)}catch{}n=!0}return n}finally{ce=r,Et.transition=t}}return!1}function sp(e,t,r){t=hi(r,t),t=Ly(e,t,1),e=Dr(e,t,1),t=Ze(),e!==null&&(ts(e,1,t),lt(e,t))}function _e(e,t,r){if(e.tag===3)sp(e,e,r);else for(;t!==null;){if(t.tag===3){sp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mr===null||!Mr.has(n))){e=hi(r,e),e=Fy(t,e,1),t=Dr(t,e,1),e=Ze(),t!==null&&(ts(t,1,e),lt(t,e));break}}t=t.return}}function Yb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(qe&r)===r&&(Me===4||Me===3&&(qe&130023424)===qe&&500>Ie()-ad?un(e,0):sd|=r),lt(e,t)}function ig(e,t){t===0&&(e.mode&1?(t=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):t=1);var r=Ze();e=ur(e,t),e!==null&&(ts(e,t,r),lt(e,r))}function Jb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ig(e,r)}function Xb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),ig(e,r)}var og;og=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,Ub(e,t,r);ot=!!(e.flags&131072)}else ot=!1,xe&&t.flags&1048576&&uy(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ys(e,t),e=t.pendingProps;var i=ui(t,Je.current);ti(t,r),i=ed(null,t,n,e,i,r);var o=td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(n)?(o=!0,Sa(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kf(t),i.updater=al,t.stateNode=i,i._reactInternals=t,ac(t,n,e,r),t=cc(null,t,n,!0,o,r)):(t.tag=0,xe&&o&&Vf(t),Xe(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ys(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=e1(n),e=jt(n,e),i){case 0:t=uc(null,t,n,e,r);break e;case 1:t=Yh(null,t,n,e,r);break e;case 11:t=Gh(null,t,n,e,r);break e;case 14:t=Kh(null,t,n,jt(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:jt(n,i),uc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:jt(n,i),Yh(e,t,n,i,r);case 3:e:{if(Vy(t),e===null)throw Error(L(387));n=t.pendingProps,o=t.memoizedState,i=o.element,vy(e,t),Na(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hi(Error(L(423)),t),t=Jh(e,t,n,r,i);break e}else if(n!==i){i=hi(Error(L(424)),t),t=Jh(e,t,n,r,i);break e}else for(ht=Ar(t.stateNode.containerInfo.firstChild),pt=t,xe=!0,Dt=null,r=hy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ci(),n===i){t=cr(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return my(t),e===null&&ic(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Zu(n,i)?s=null:o!==null&&Zu(n,o)&&(t.flags|=32),zy(e,t),Xe(e,t,s,r),t.child;case 6:return e===null&&ic(t),null;case 13:return By(e,t,r);case 4:return Yf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=fi(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:jt(n,i),Gh(e,t,n,i,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,he(Ta,n._currentValue),n._currentValue=s,o!==null)if(zt(o.value,s)){if(o.children===i.children&&!st.current){t=cr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=sr(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),oc(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(L(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),oc(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xe(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ti(t,r),i=Tt(i),n=n(i),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,i=jt(n,t.pendingProps),i=jt(n.type,i),Kh(e,t,n,i,r);case 15:return Uy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:jt(n,i),Ys(e,t),t.tag=1,at(n)?(e=!0,Sa(t)):e=!1,ti(t,r),My(t,n,i),ac(t,n,i,r),cc(null,t,n,!0,e,r);case 19:return qy(e,t,r);case 22:return $y(e,t,r)}throw Error(L(156,t.tag))};function sg(e,t){return Pm(e,t)}function Zb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,r,n){return new Zb(e,t,r,n)}function fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e1(e){if(typeof e=="function")return fd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===If)return 11;if(e===jf)return 14}return 2}function Fr(e,t){var r=e.alternate;return r===null?(r=St(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zs(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")fd(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case An:return cn(r.children,i,o,t);case Cf:s=8,i|=8;break;case ju:return e=St(12,r,t,i|2),e.elementType=ju,e.lanes=o,e;case Ru:return e=St(13,r,t,i),e.elementType=Ru,e.lanes=o,e;case Pu:return e=St(19,r,t,i),e.elementType=Pu,e.lanes=o,e;case mm:return cl(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pm:s=10;break e;case vm:s=9;break e;case If:s=11;break e;case jf:s=14;break e;case gr:s=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=St(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function cn(e,t,r,n){return e=St(7,e,n,t),e.lanes=r,e}function cl(e,t,r,n){return e=St(22,e,n,t),e.elementType=mm,e.lanes=r,e.stateNode={isHidden:!1},e}function iu(e,t,r){return e=St(6,e,null,t),e.lanes=r,e}function ou(e,t,r){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t1(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dd(e,t,r,n,i,o,s,a,l){return e=new t1(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=St(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(o),e}function r1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ag(e){if(!e)return Vr;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(at(r))return ay(e,r,t)}return t}function lg(e,t,r,n,i,o,s,a,l){return e=dd(r,n,!0,e,i,o,s,a,l),e.context=ag(null),r=e.current,n=Ze(),i=Lr(r),o=sr(n,i),o.callback=t??null,Dr(r,o,i),e.current.lanes=i,ts(e,i,n),lt(e,n),e}function fl(e,t,r,n){var i=t.current,o=Ze(),s=Lr(i);return r=ag(r),t.context===null?t.context=r:t.pendingContext=r,t=sr(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dr(i,t,s),e!==null&&(Ft(e,i,s,o),Hs(e,i,s)),s}function Da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ap(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hd(e,t){ap(e,t),(e=e.alternate)&&ap(e,t)}function n1(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function pd(e){this._internalRoot=e}dl.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));fl(e,t,null,null)};dl.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){fl(null,e,null,null)}),t[lr]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=$m();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Er.length&&t!==0&&t<Er[r].priority;r++);Er.splice(r,0,e),r===0&&Vm(e)}};function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lp(){}function i1(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Da(s);o.call(u)}}var s=lg(t,n,e,0,null,!1,!1,"",lp);return e._reactRootContainer=s,e[lr]=s.current,Ao(e.nodeType===8?e.parentNode:e),vn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Da(l);a.call(u)}}var l=dd(e,0,!1,null,null,!1,!1,"",lp);return e._reactRootContainer=l,e[lr]=l.current,Ao(e.nodeType===8?e.parentNode:e),vn(function(){fl(t,l,r,n)}),l}function pl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Da(s);a.call(l)}}fl(t,s,e,i)}else s=i1(r,t,e,i,n);return Da(s)}Fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ji(t.pendingLanes);r!==0&&(Af(t,r|1),lt(t,Ie()),!(ie&6)&&(pi=Ie()+500,Kr()))}break;case 13:vn(function(){var n=ur(e,1);if(n!==null){var i=Ze();Ft(n,e,1,i)}}),hd(e,1)}};Df=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var r=Ze();Ft(t,e,134217728,r)}hd(e,134217728)}};Um=function(e){if(e.tag===13){var t=Lr(e),r=ur(e,t);if(r!==null){var n=Ze();Ft(r,e,t,n)}hd(e,t)}};$m=function(){return ce};zm=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Bu=function(e,t,r){switch(t){case"input":if(Mu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=il(n);if(!i)throw Error(L(90));gm(n),Mu(n,i)}}}break;case"textarea":wm(e,r);break;case"select":t=r.value,t!=null&&Jn(e,!!r.multiple,t,!1)}};Nm=ld;Om=vn;var o1={usingClientEntryPoint:!1,Events:[ns,Fn,il,Tm,_m,ld]},$i={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s1={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jm(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||n1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{el=Ns.inject(s1),Jt=Ns}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(t))throw Error(L(200));return r1(e,t,null,r)};yt.createRoot=function(e,t){if(!vd(e))throw Error(L(299));var r=!1,n="",i=ug;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dd(e,1,!1,null,null,r,!1,n,i),e[lr]=t.current,Ao(e.nodeType===8?e.parentNode:e),new pd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=jm(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return vn(e)};yt.hydrate=function(e,t,r){if(!hl(t))throw Error(L(200));return pl(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!vd(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=ug;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=lg(t,null,e,1,r??null,i,!1,o,s),e[lr]=t.current,Ao(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new dl(t)};yt.render=function(e,t,r){if(!hl(t))throw Error(L(200));return pl(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!hl(e))throw Error(L(40));return e._reactRootContainer?(vn(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};yt.unstable_batchedUpdates=ld;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return pl(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(e){console.error(e)}}cg(),cm.exports=yt;var a1=cm.exports,up=a1;Cu.createRoot=up.createRoot,Cu.hydrateRoot=up.hydrateRoot;class Zi extends Error{}Zi.prototype.name="InvalidTokenError";function l1(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function u1(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return l1(t)}catch{return atob(t)}}function md(e,t){if(typeof e!="string")throw new Zi("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Zi(`Invalid token specified: missing part #${r+1}`);let i;try{i=u1(n)}catch(o){throw new Zi(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Zi(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var U=function(){return U=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},U.apply(this,arguments)};function yd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function re(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function ye(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var fe;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(fe||(fe={}));var vi;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(vi||(vi={}));var Sc=fe.Start,gd=fe.Stop,os=fe.Raise,vl=fe.Send,fg=fe.Cancel,c1=fe.NullEvent,xd=fe.Assign;fe.After;fe.DoneState;var dg=fe.Log,f1=fe.Init,Ec=fe.Invoke;fe.ErrorExecution;var cp=fe.ErrorPlatform,d1=fe.ErrorCustom,hg=fe.Update,h1=fe.Choose,p1=fe.Pure,pg=".",fp={},kc="xstate.guard",v1="",Os;function wd(e,t,r){r===void 0&&(r=pg);var n=yo(e,r),i=yo(t,r);return ae(i)?ae(n)?i===n:!1:ae(n)?n in i:Object.keys(n).every(function(o){return o in i?wd(n[o],i[o]):!1})}function vg(e){try{return ae(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Tc(e,t){try{return Ti(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function m1(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function yo(e,t){if(m1(e))return e.value;if(Ti(e))return Ma(e);if(typeof e!="string")return e;var r=Tc(e,t);return Ma(r)}function Ma(e){if(e.length===1)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function eo(e,t){for(var r={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i];r[o]=t(e[o],o,e,i)}return r}function dp(e,t,r){var n,i,o={};try{for(var s=re(Object.keys(e)),a=s.next();!a.done;a=s.next()){var l=a.value,u=e[l];r(u)&&(o[l]=t(u,l,e))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}var y1=function(e){return function(t){var r,n,i=t;try{for(var o=re(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=i[a]}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}};function g1(e,t){return function(r){var n,i,o=r;try{for(var s=re(e),a=s.next();!a.done;a=s.next()){var l=a.value;o=o[t][l]}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}}function ea(e){if(!e)return[[]];if(ae(e))return[[e]];var t=be(Object.keys(e).map(function(r){var n=e[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:ea(e[r]).map(function(i){return[r].concat(i)})}));return t}function be(e){var t;return(t=[]).concat.apply(t,ye([],oe(e),!1))}function mg(e){return Ti(e)?e:[e]}function Rt(e){return e===void 0?[]:mg(e)}function La(e,t,r){var n,i;if(se(e))return e(t,r.data);var o={};try{for(var s=re(Object.keys(e)),a=s.next();!a.done;a=s.next()){var l=a.value,u=e[l];se(u)?o[l]=u(t,r.data):o[l]=u}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}function x1(e){return/^(done|error)\./.test(e)}function hp(e){return!!(e instanceof Promise||e!==null&&(se(e)||typeof e=="object")&&se(e.then))}function w1(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function b1(e,t){var r,n,i=oe([[],[]],2),o=i[0],s=i[1];try{for(var a=re(e),l=a.next();!l.done;l=a.next()){var u=l.value;t(u)?o.push(u):s.push(u)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[o,s]}function yg(e,t){return eo(e.states,function(r,n){if(r){var i=(ae(t)?void 0:t[n])||(r?r.current:void 0);if(i)return{current:i,states:yg(r,i)}}})}function S1(e,t){return{current:t,states:yg(e,t)}}function pp(e,t,r,n){var i=e&&r.reduce(function(o,s){var a,l,u=s.assignment,c={state:n,action:s,_event:t},h={};if(se(u))h=u(o,t.data,c);else try{for(var f=re(Object.keys(u)),d=f.next();!d.done;d=f.next()){var m=d.value,x=u[m];h[m]=se(x)?x(o,t.data,c):x}}catch(w){a={error:w}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}return Object.assign({},o,h)},e);return i}var E1=function(){};function Ti(e){return Array.isArray(e)}function se(e){return typeof e=="function"}function ae(e){return typeof e=="string"}function gg(e,t){if(e)return ae(e)?{type:kc,name:e,predicate:t?t[e]:void 0}:se(e)?{type:kc,name:e.name,predicate:e}:e}function k1(e){try{return"subscribe"in e&&se(e.subscribe)}catch{return!1}}var Tr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Os={},Os[Tr]=function(){return this},Os[Symbol.observable]=function(){return this};function mi(e){return!!e&&"__xstatenode"in e}function T1(e){return!!e&&typeof e.send=="function"}function ml(e,t){return ae(e)||typeof e=="number"?U({type:e},t):e}function Be(e,t){if(!ae(e)&&"$$type"in e&&e.$$type==="scxml")return e;var r=ml(e);return U({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function kn(e,t){var r=mg(t).map(function(n){return typeof n>"u"||typeof n=="string"||mi(n)?{target:n,event:e}:U(U({},n),{event:e})});return r}function _1(e){if(!(e===void 0||e===v1))return Rt(e)}function xg(e,t,r,n,i){var o=e.options.guards,s={state:i,cond:t,_event:n};if(t.type===kc)return((o==null?void 0:o[t.name])||t.predicate)(r,n.data,s);var a=o==null?void 0:o[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(r,n.data,s)}function wg(e){return typeof e=="string"?{type:e}:e}function go(e,t,r){var n=function(){},i=typeof e=="object",o=i?e:null;return{next:((i?e.next:e)||n).bind(o),error:((i?e.error:t)||n).bind(o),complete:((i?e.complete:r)||n).bind(o)}}function Cs(e,t){return"".concat(e,":invocation[").concat(t,"]")}function _c(e){return(e.type===os||e.type===vl&&e.to===vi.Internal)&&typeof e.delay!="number"}var ni=Be({type:f1});function Nc(e,t){return t&&t[e]||void 0}function Bo(e,t){var r;if(ae(e)||typeof e=="number"){var n=Nc(e,t);se(n)?r={type:e,exec:n}:n?r=n:r={type:e,exec:void 0}}else if(se(e))r={type:e.name||e.toString(),exec:e};else{var n=Nc(e.type,t);if(se(n))r=U(U({},e),{exec:n});else if(n){var i=n.type||e.type;r=U(U(U({},n),e),{type:i})}else r=e}return r}var _r=function(e,t){if(!e)return[];var r=Ti(e)?e:[e];return r.map(function(n){return Bo(n,t)})};function bd(e){var t=Bo(e);return U(U({id:ae(e)?e:t.id},t),{type:t.type})}function N1(e,t){return{type:os,event:typeof e=="function"?e:ml(e),delay:t?t.delay:void 0,id:t==null?void 0:t.id}}function O1(e,t,r,n){var i={_event:r},o=Be(se(e.event)?e.event(t,r.data,i):e.event),s;if(ae(e.delay)){var a=n&&n[e.delay];s=se(a)?a(t,r.data,i):a}else s=se(e.delay)?e.delay(t,r.data,i):e.delay;return U(U({},e),{type:os,_event:o,delay:s})}function bg(e,t){return{to:t?t.to:void 0,type:vl,event:se(e)?e:ml(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:se(e)?e.name:vg(e)}}function C1(e,t,r,n){var i={_event:r},o=Be(se(e.event)?e.event(t,r.data,i):e.event),s;if(ae(e.delay)){var a=n&&n[e.delay];s=se(a)?a(t,r.data,i):a}else s=se(e.delay)?e.delay(t,r.data,i):e.delay;var l=se(e.to)?e.to(t,r.data,i):e.to;return U(U({},e),{to:l,_event:o,event:o.data,delay:s})}var I1=function(e,t,r){return U(U({},e),{value:ae(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})},j1=function(e){return{type:fg,sendId:e}};function R1(e){var t=bd(e);return{type:fe.Start,activity:t,exec:void 0}}function P1(e){var t=se(e)?e:bd(e);return{type:fe.Stop,activity:t,exec:void 0}}function A1(e,t,r){var n=se(e.activity)?e.activity(t,r.data):e.activity,i=typeof n=="string"?{id:n}:n,o={type:fe.Stop,activity:i};return o}var D1=function(e){return{type:xd,assignment:e}};function M1(e,t){var r=t?"#".concat(t):"";return"".concat(fe.After,"(").concat(e,")").concat(r)}function Is(e,t){var r="".concat(fe.DoneState,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function ta(e,t){var r="".concat(fe.DoneInvoke,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function to(e,t){var r="".concat(fe.ErrorPlatform,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}var L1=function(e){var t,r,n=[];try{for(var i=re(e),o=i.next();!o.done;o=i.next())for(var s=o.value,a=0;a<s.actions.length;){if(s.actions[a].type===xd){n.push(s.actions[a]),s.actions.splice(a,1);continue}a++}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n};function Fa(e,t,r,n,i,o,s){s===void 0&&(s=!1);var a=s?[]:L1(i),l=a.length?pp(r,n,a,t):r,u=s?[r]:void 0,c=[];function h(m,x){var w;switch(x.type){case os:{var y=O1(x,l,n,e.options.delays);return o&&typeof y.delay=="number"&&o(y,l,n),y}case vl:var p=C1(x,l,n,e.options.delays);return o&&p.to!==vi.Internal&&(m==="entry"?c.push(p):o(p,l,n)),p;case dg:{var g=I1(x,l,n);return o==null||o(g,l,n),g}case h1:{var b=x,S=(w=b.conds.find(function(J){var k=gg(J.cond,e.options.guards);return!k||xg(e,k,l,n,o?void 0:t)}))===null||w===void 0?void 0:w.actions;if(!S)return[];var _=oe(Fa(e,t,l,n,[{type:m,actions:_r(Rt(S),e.options.actions)}],o,s),2),N=_[0],O=_[1];return l=O,u==null||u.push(l),N}case p1:{var S=x.get(l,n.data);if(!S)return[];var P=oe(Fa(e,t,l,n,[{type:m,actions:_r(Rt(S),e.options.actions)}],o,s),2),A=P[0],M=P[1];return l=M,u==null||u.push(l),A}case gd:{var g=A1(x,l,n);return o==null||o(g,r,n),g}case xd:{l=pp(l,n,[x],o?void 0:t),u==null||u.push(l);break}default:var q=Bo(x,e.options.actions),G=q.exec;if(o)o(q,l,n);else if(G&&u){var Y=u.length-1,H=U(U({},q),{exec:function(J){for(var k=[],E=1;E<arguments.length;E++)k[E-1]=arguments[E];G.apply(void 0,ye([u[Y]],oe(k),!1))}});q=H}return q}}function f(m){var x,w,y=[];try{for(var p=re(m.actions),g=p.next();!g.done;g=p.next()){var b=g.value,S=h(m.type,b);S&&(y=y.concat(S))}}catch(_){x={error:_}}finally{try{g&&!g.done&&(w=p.return)&&w.call(p)}finally{if(x)throw x.error}}return c.forEach(function(_){o(_,l,n)}),c.length=0,y}var d=be(i.map(f));return[d,l]}var vp=[],On=function(e,t){vp.push(e);var r=t(e);return vp.pop(),r};function Sg(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[Tr]=function(){return this},t}function F1(e,t,r,n){var i,o=wg(e.src),s=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[o.type],a=e.data?La(e.data,r,n):void 0,l=s?Eg(s,e.id,a):Sg(e.id);return l.meta=e,l}function Eg(e,t,r){var n=Sg(t);if(n.deferred=!0,mi(e)){var i=n.state=On(void 0,function(){return(r?e.withContext(r):e).initialState});n.getSnapshot=function(){return i}}return n}function U1(e){try{return typeof e.send=="function"}catch{return!1}}function $1(e){return U1(e)&&"id"in e}function z1(e){var t;return U((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[Tr]=function(){return this},t),e)}var Ua=function(e){return e.type==="atomic"||e.type==="final"};function kg(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function qo(e){return kg(e).filter(function(t){return t.type!=="history"})}function Tg(e){var t=[e];return Ua(e)?t:t.concat(be(qo(e).map(Tg)))}function ro(e,t){var r,n,i,o,s,a,l,u,c=new Set(e),h=Oc(c),f=new Set(t);try{for(var d=re(f),m=d.next();!m.done;m=d.next())for(var x=m.value,w=x.parent;w&&!f.has(w);)f.add(w),w=w.parent}catch(P){r={error:P}}finally{try{m&&!m.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}var y=Oc(f);try{for(var p=re(f),g=p.next();!g.done;g=p.next()){var x=g.value;if(x.type==="compound"&&(!y.get(x)||!y.get(x).length))h.get(x)?h.get(x).forEach(function(A){return f.add(A)}):x.initialStateNodes.forEach(function(A){return f.add(A)});else if(x.type==="parallel")try{for(var b=(s=void 0,re(qo(x))),S=b.next();!S.done;S=b.next()){var _=S.value;f.has(_)||(f.add(_),h.get(_)?h.get(_).forEach(function(A){return f.add(A)}):_.initialStateNodes.forEach(function(A){return f.add(A)}))}}catch(A){s={error:A}}finally{try{S&&!S.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}}catch(P){i={error:P}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var N=re(f),O=N.next();!O.done;O=N.next())for(var x=O.value,w=x.parent;w&&!f.has(w);)f.add(w),w=w.parent}catch(P){l={error:P}}finally{try{O&&!O.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}return f}function _g(e,t){var r=t.get(e);if(!r)return{};if(e.type==="compound"){var n=r[0];if(n){if(Ua(n))return n.key}else return{}}var i={};return r.forEach(function(o){i[o.key]=_g(o,t)}),i}function Oc(e){var t,r,n=new Map;try{for(var i=re(e),o=i.next();!o.done;o=i.next()){var s=o.value;n.has(s)||n.set(s,[]),s.parent&&(n.has(s.parent)||n.set(s.parent,[]),n.get(s.parent).push(s))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}function V1(e,t){var r=ro([e],t);return _g(e,Oc(r))}function no(e,t){return Array.isArray(e)?e.some(function(r){return r===t}):e instanceof Set?e.has(t):!1}function B1(e){return ye([],oe(new Set(be(ye([],oe(e.map(function(t){return t.ownEvents})),!1)))),!1)}function ra(e,t){return t.type==="compound"?qo(t).some(function(r){return r.type==="final"&&no(e,r)}):t.type==="parallel"?qo(t).every(function(r){return ra(e,r)}):!1}function q1(e){return e===void 0&&(e=[]),e.reduce(function(t,r){return r.meta!==void 0&&(t[r.id]=r.meta),t},{})}function mp(e){return new Set(be(e.map(function(t){return t.tags})))}function Ng(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(ae(e)||ae(t))return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(function(i){return Ng(e[i],t[i])})}function Q1(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function W1(e,t){var r=e.exec,n=U(U({},e),{exec:r!==void 0?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return n}var Pt=function(){function e(t){var r=this,n;this.actions=[],this.activities=fp,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||fp,this.meta=q1(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(n=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&n!==void 0?n:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return B1(r.configuration)}})}return e.from=function(t,r){if(t instanceof e)return t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var n=ni;return new e({value:t,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=ni;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(t,r){var n=this;if(t===void 0&&(t=this.value),r===void 0&&(r="."),ae(t))return[t];var i=Object.keys(t);return i.concat.apply(i,ye([],oe(i.map(function(o){return n.toStrings(t[o],r).map(function(s){return o+r+s})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var r=t.tags;t.machine;var n=yd(t,["configuration","transitions","tags","machine"]);return U(U({},n),{tags:Array.from(r)})},e.prototype.matches=function(t){return wd(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var r;E1(!!this.machine);var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,t);return!!(n!=null&&n.transitions.length)&&n.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),H1={deferEvents:!1},yp=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=U(U({},H1),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},e}(),su=new Map,G1=0,zi={bookId:function(){return"x:".concat(G1++)},register:function(e,t){return su.set(e,t),e},get:function(e){return su.get(e)},free:function(e){su.delete(e)}};function Sd(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function K1(){var e=Sd();if(e&&"__xstate__"in e)return e.__xstate__}function Y1(e){if(Sd()){var t=K1();t&&t.register(e)}}function J1(e,t){t===void 0&&(t={});var r=e.initialState,n=new Set,i=[],o=!1,s=function(){if(!o){for(o=!0;i.length>0;){var u=i.shift();r=e.transition(r,u,l),n.forEach(function(c){return c.next(r)})}o=!1}},a=z1({id:t.id,send:function(u){i.push(u),s()},getSnapshot:function(){return r},subscribe:function(u,c,h){var f=go(u,c,h);return n.add(f),f.next(r),{unsubscribe:function(){n.delete(f)}}}}),l={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return r=e.start?e.start(l):r,a}var X1={sync:!1,autoForward:!1},Ae;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ae||(Ae={}));var Z1=function(){function e(t,r){r===void 0&&(r=e.defaultOptions);var n=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Ae.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,h){if(Ti(c))return n.batch(c),n.state;var f=Be(ml(c,h));if(n.status===Ae.Stopped)return n.state;if(n.status!==Ae.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(f.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(f.data)));return n.scheduler.schedule(function(){n.forward(f);var d=n._nextState(f);n.update(d,f)}),n._state},this.sendTo=function(c,h,f){var d=n.parent&&(h===vi.Parent||n.parent.id===h),m=d?n.parent:ae(h)?h===vi.Internal?n:n.children.get(h)||zi.get(h):T1(h)?h:void 0;if(!m){if(!d)throw new Error("Unable to send event to child '".concat(h,"' from service '").concat(n.id,"'."));return}if("machine"in m){if(n.status!==Ae.Stopped||n.parent!==m||n.state.done){var x=U(U({},c),{name:c.name===d1?"".concat(to(n.id)):c.name,origin:n.sessionId});!f&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([m,x]):m.send(x)}}else!f&&n.machine.config.predictableActionArguments?n._outgoingQueue.push([m,c.data]):m.send(c.data)},this._exec=function(c,h,f,d){d===void 0&&(d=n.machine.options.actions);var m=c.exec||Nc(c.type,d),x=se(m)?m:m?m.exec:c.exec;if(x)try{return x(h,f.data,n.machine.config.predictableActionArguments?{action:c,_event:f}:{action:c,state:n.state,_event:f})}catch(Y){throw n.parent&&n.parent.send({type:"xstate.error",data:Y}),Y}switch(c.type){case os:{var w=c;n.defer(w);break}case vl:var y=c;if(typeof y.delay=="number"){n.defer(y);return}else y.to?n.sendTo(y._event,y.to,f===ni):n.send(y._event);break;case fg:n.cancel(c.sendId);break;case Sc:{if(n.status!==Ae.Running)return;var p=c.activity;if(!n.machine.config.predictableActionArguments&&!n.state.activities[p.id||p.type])break;if(p.type===fe.Invoke){var g=wg(p.src),b=n.machine.options.services?n.machine.options.services[g.type]:void 0,S=p.id,_=p.data,N="autoForward"in p?p.autoForward:!!p.forward;if(!b)return;var O=_?La(_,h,f):void 0;if(typeof b=="string")return;var P=se(b)?b(h,f.data,{data:O,src:g,meta:p.meta}):b;if(!P)return;var A=void 0;mi(P)&&(P=O?P.withContext(O):P,A={autoForward:N}),n.spawn(P,S,A)}else n.spawnActivity(p);break}case gd:{n.stopChild(c.activity.id);break}case dg:var M=c,q=M.label,G=M.value;q?n.logger(q,G):n.logger(G);break}};var i=U(U({},e.defaultOptions),r),o=i.clock,s=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:t.id;this.id=u,this.logger=s,this.clock=o,this.parent=a,this.options=i,this.scheduler=new yp({deferEvents:this.options.deferEvents}),this.sessionId=zi.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:On(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,r){var n,i;try{for(var o=re(t.actions),s=o.next();!s.done;s=o.next()){var a=s.value;this.exec(a,t,r)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.update=function(t,r){var n,i,o,s,a,l,u,c,h=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||r===ni)&&this.options.execute)this.execute(this.state);else for(var f=void 0;f=this._outgoingQueue.shift();)f[0].send(f[1]);if(this.children.forEach(function(P){h.state.children[P.id]=P}),this.devTools&&this.devTools.send(r.data,t),t.event)try{for(var d=re(this.eventListeners),m=d.next();!m.done;m=d.next()){var x=m.value;x(t.event)}}catch(P){n={error:P}}finally{try{m&&!m.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}try{for(var w=re(this.listeners),y=w.next();!y.done;y=w.next()){var x=y.value;x(t,t.event)}}catch(P){o={error:P}}finally{try{y&&!y.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}try{for(var p=re(this.contextListeners),g=p.next();!g.done;g=p.next()){var b=g.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(P){a={error:P}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(this.state.done){var S=t.configuration.find(function(P){return P.type==="final"&&P.parent===h.machine}),_=S&&S.doneData?La(S.doneData,t.context,r):void 0;this._doneEvent=ta(this.id,_);try{for(var N=re(this.doneListeners),O=N.next();!O.done;O=N.next()){var x=O.value;x(this._doneEvent)}}catch(P){u={error:P}}finally{try{O&&!O.done&&(c=N.return)&&c.call(N)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),zi.free(this.sessionId)}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===Ae.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,r,n){var i=this,o=go(t,r,n);this.listeners.add(o.next),this.status!==Ae.NotStarted&&o.next(this.state);var s=function(){i.doneListeners.delete(s),i.stopListeners.delete(s),o.complete()};return this.status===Ae.Stopped?o.complete():(this.onDone(s),this.onStop(s)),{unsubscribe:function(){i.listeners.delete(o.next),i.doneListeners.delete(s),i.stopListeners.delete(s)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.status===Ae.Stopped&&this._doneEvent?t(this._doneEvent):this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var r=this;if(this.status===Ae.Running)return this;this.machine._init(),zi.register(this.sessionId,this),this.initialized=!0,this.status=Ae.Running;var n=t===void 0?this.initialState:On(this,function(){return Q1(t)?r.machine.resolveState(t):r.machine.resolveState(Pt.from(t,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,ni)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){se(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,r,n,i,o,s,a,l,u,c;try{for(var h=re(this.listeners),f=h.next();!f.done;f=h.next()){var d=f.value;this.listeners.delete(d)}}catch(N){t={error:N}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}try{for(var m=re(this.stopListeners),x=m.next();!x.done;x=m.next()){var d=x.value;d(),this.stopListeners.delete(d)}}catch(N){n={error:N}}finally{try{x&&!x.done&&(i=m.return)&&i.call(m)}finally{if(n)throw n.error}}try{for(var w=re(this.contextListeners),y=w.next();!y.done;y=w.next()){var d=y.value;this.contextListeners.delete(d)}}catch(N){o={error:N}}finally{try{y&&!y.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}try{for(var p=re(this.doneListeners),g=p.next();!g.done;g=p.next()){var d=g.value;this.doneListeners.delete(d)}}catch(N){a={error:N}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Ae.Stopped,this._initialState=void 0;try{for(var b=re(Object.keys(this.delayedEventsMap)),S=b.next();!S.done;S=b.next()){var _=S.value;this.clock.clearTimeout(this.delayedEventsMap[_])}}catch(N){u={error:N}}finally{try{S&&!S.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new yp({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,r=this.scheduler;return this._stop(),r.schedule(function(){var n;if(!(!((n=t._state)===null||n===void 0)&&n.done)){var i=Be({type:"xstate.stop"}),o=On(t,function(){var s=be(ye([],oe(t.state.configuration),!1).sort(function(h,f){return f.order-h.order}).map(function(h){return _r(h.onExit,t.machine.options.actions)})),a=oe(Fa(t.machine,t.state,t.state.context,i,[{type:"exit",actions:s}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),l=a[0],u=a[1],c=new Pt({value:t.state.value,context:u,_event:i,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:l.filter(function(h){return!_c(h)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return c.changed=!0,c});t.update(o,i),t._stopChildren(),zi.free(t.sessionId)}}),this},e.prototype.batch=function(t){var r=this;if(!(this.status===Ae.NotStarted&&this.options.deferEvents)){if(this.status!==Ae.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(t.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,o,s=r.state,a=!1,l=[],u=function(d){var m=Be(d);r.forward(m),s=On(r,function(){return r.machine.transition(s,m,void 0,n||void 0)}),l.push.apply(l,ye([],oe(r.machine.config.predictableActionArguments?s.actions:s.actions.map(function(x){return W1(x,s)})),!1)),a=a||!!s.changed};try{for(var c=re(t),h=c.next();!h.done;h=c.next()){var f=h.value;u(f)}}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}s.changed=a,s.actions=l,r.update(s,Be(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,r){var n=this;r===void 0&&(r=!!this.machine.config.predictableActionArguments&&this._exec);var i=Be(t);if(i.name.indexOf(cp)===0&&!this.state.nextEvents.some(function(s){return s.indexOf(cp)===0}))throw i.data.data;var o=On(this,function(){return n.machine.transition(n.state,i,void 0,r||void 0)});return o},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var r,n;try{for(var i=re(this.forwardTo),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(t)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.defer=function(t){var r=this,n=this.clock.setTimeout(function(){"to"in t&&t.to?r.sendTo(t._event,t.to,!0):r.send(t._event)},t.delay);t.id&&(this.delayedEventsMap[t.id]=n)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,r,n){n===void 0&&(n=this.machine.options.actions),this._exec(t,r.context,r._event,n)},e.prototype.removeChild=function(t){var r;this.children.delete(t),this.forwardTo.delete(t),(r=this.state)===null||r===void 0||delete r.children[t]},e.prototype.stopChild=function(t){var r=this.children.get(t);r&&(this.removeChild(t),se(r.stop)&&r.stop())},e.prototype.spawn=function(t,r,n){if(this.status!==Ae.Running)return Eg(t,r);if(hp(t))return this.spawnPromise(Promise.resolve(t),r);if(se(t))return this.spawnCallback(t,r);if($1(t))return this.spawnActor(t,r);if(k1(t))return this.spawnObservable(t,r);if(mi(t))return this.spawnMachine(t,U(U({},n),{id:r}));if(w1(t))return this.spawnBehavior(t,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,r){var n=this;r===void 0&&(r={});var i=new e(t,U(U({},this.options),{parent:this,id:r.id||t.id})),o=U(U({},X1),r);o.sync&&i.onTransition(function(a){n.send(hg,{state:a,id:i.id})});var s=i;return this.children.set(i.id,s),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){n.removeChild(i.id),n.send(Be(a,{origin:i.id}))}).start(),s},e.prototype.spawnBehavior=function(t,r){var n=J1(t,{id:r,parent:this});return this.children.set(r,n),n},e.prototype.spawnPromise=function(t,r){var n,i=this,o=!1,s;t.then(function(l){o||(s=l,i.removeChild(r),i.send(Be(ta(r,l),{origin:r})))},function(l){if(!o){i.removeChild(r);var u=to(r,l);try{i.send(Be(u,{origin:r}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(n={id:r,send:function(){},subscribe:function(l,u,c){var h=go(l,u,c),f=!1;return t.then(function(d){f||(h.next(d),!f&&h.complete())},function(d){f||h.error(d)}),{unsubscribe:function(){return f=!0}}},stop:function(){o=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return s}},n[Tr]=function(){return this},n);return this.children.set(r,a),a},e.prototype.spawnCallback=function(t,r){var n,i=this,o=!1,s=new Set,a=new Set,l,u=function(f){l=f,a.forEach(function(d){return d(f)}),!o&&i.send(Be(f,{origin:r}))},c;try{c=t(u,function(f){s.add(f)})}catch(f){this.send(to(r,f))}if(hp(c))return this.spawnPromise(c,r);var h=(n={id:r,send:function(f){return s.forEach(function(d){return d(f)})},subscribe:function(f){var d=go(f);return a.add(d.next),{unsubscribe:function(){a.delete(d.next)}}},stop:function(){o=!0,se(c)&&c()},toJSON:function(){return{id:r}},getSnapshot:function(){return l}},n[Tr]=function(){return this},n);return this.children.set(r,h),h},e.prototype.spawnObservable=function(t,r){var n,i=this,o,s=t.subscribe(function(l){o=l,i.send(Be(l,{origin:r}))},function(l){i.removeChild(r),i.send(Be(to(r,l),{origin:r}))},function(){i.removeChild(r),i.send(Be(ta(r),{origin:r}))}),a=(n={id:r,send:function(){},subscribe:function(l,u,c){return t.subscribe(l,u,c)},stop:function(){return s.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:r}}},n[Tr]=function(){return this},n);return this.children.set(r,a),a},e.prototype.spawnActor=function(t,r){return this.children.set(r,t),t},e.prototype.spawnActivity=function(t){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(r){var n=r(this.state.context,t);this.spawnEffect(t.id,n)}},e.prototype.spawnEffect=function(t,r){var n;this.children.set(t,(n={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},n[Tr]=function(){return this},n))},e.prototype.attachDev=function(){var t=Sd();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(U(U({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:U({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}Y1(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Tr]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Ae.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,r){return setTimeout(t,r)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=an,e}();function an(e,t){var r=new Z1(e,t);return r}function eS(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function js(e){return U(U({type:Ec},e),{toJSON:function(){e.onDone,e.onError;var t=yd(e,["onDone","onError"]);return U(U({},t),{type:Ec,src:eS(e.src)})}})}var Rs="",Cc="#",au="*",Tn={},_n=function(e){return e[0]===Cc},tS=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},rS=function(){function e(t,r,n,i){n===void 0&&(n="context"in t?t.context:void 0);var o=this,s;this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(tS(),r),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:pg),this.id=this.config.id||ye([this.machine.key],oe(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?eo(this.config.states,function(u,c){var h,f=new e(u,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,U((h={},h[f.id]=f,h),f.idMap)),f}):Tn;var a=0;function l(u){var c,h;u.order=a++;try{for(var f=re(kg(u)),d=f.next();!d.done;d=f.next()){var m=d.value;l(m)}}catch(x){c={error:x}}finally{try{d&&!d.done&&(h=f.return)&&h.call(f)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===Rs}):Rs in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Rt(this.config.entry||this.config.onEntry).map(function(u){return Bo(u)}),this.onExit=Rt(this.config.exit||this.config.onExit).map(function(u){return Bo(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Rt(this.config.invoke).map(function(u,c){var h,f;if(mi(u)){var d=Cs(o.id,c);return o.machine.options.services=U((h={},h[d]=u,h),o.machine.options.services),js({src:d,id:d})}else if(ae(u.src)){var d=u.id||Cs(o.id,c);return js(U(U({},u),{id:d,src:u.src}))}else if(mi(u.src)||se(u.src)){var d=u.id||Cs(o.id,c);return o.machine.options.services=U((f={},f[d]=u.src,f),o.machine.options.services),js(U(U({id:d},u),{src:d}))}else{var m=u.src;return js(U(U({id:Cs(o.id,c)},u),{src:m}))}}),this.activities=Rt(this.config.activities).concat(this.invoke).map(function(u){return bd(u)}),this.transition=this.transition.bind(this),this.tags=Rt(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Tg(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,r){var n=this.options,i=n.actions,o=n.activities,s=n.guards,a=n.services,l=n.delays;return new e(this.config,{actions:U(U({},i),t.actions),activities:U(U({},o),t.activities),guards:U(U({},s),t.guards),services:U(U({},a),t.services),delays:U(U({},l),t.delays)},r??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return se(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:eo(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var r=t===Rs,n=this.transitions.filter(function(i){var o=i.eventType===t;return r?o:o||i.eventType===au});return this.__cache.candidates[t]=n,n},e.prototype.getDelayedTransitions=function(){var t=this,r=this.config.after;if(!r)return[];var n=function(o,s){var a=se(o)?"".concat(t.id,":delay[").concat(s,"]"):o,l=M1(a,t.id);return t.onEntry.push(bg(l,{delay:o})),t.onExit.push(j1(l)),l},i=Ti(r)?r.map(function(o,s){var a=n(o.delay,s);return U(U({},o),{event:a})}):be(Object.keys(r).map(function(o,s){var a=r[o],l=ae(a)?{target:a}:a,u=isNaN(+o)?o:+o,c=n(u,s);return Rt(l).map(function(h){return U(U({},h),{event:c,delay:u})})}));return i.map(function(o){var s=o.delay;return U(U({},t.formatTransition(o)),{delay:s})})},e.prototype.getStateNodes=function(t){var r,n=this;if(!t)return[];var i=t instanceof Pt?t.value:yo(t,this.delimiter);if(ae(i)){var o=this.getStateNode(i).initial;return o!==void 0?this.getStateNodes((r={},r[i]=o,r)):[this,this.states[i]]}var s=Object.keys(i),a=[this];return a.push.apply(a,ye([],oe(be(s.map(function(l){return n.getStateNode(l).getStateNodes(i[l])}))),!1)),a},e.prototype.handles=function(t){var r=vg(t);return this.events.includes(r)},e.prototype.resolveState=function(t){var r=t instanceof Pt?t:Pt.create(t),n=Array.from(ro([],this.getStateNodes(r.value)));return new Pt(U(U({},r),{value:this.resolve(r.value),configuration:n,done:ra(n,this),tags:mp(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,r,n){var i=this.getStateNode(t),o=i.next(r,n);return!o||!o.transitions.length?this.next(r,n):o},e.prototype.transitionCompoundNode=function(t,r,n){var i=Object.keys(t),o=this.getStateNode(i[0]),s=o._transition(t[i[0]],r,n);return!s||!s.transitions.length?this.next(r,n):s},e.prototype.transitionParallelNode=function(t,r,n){var i,o,s={};try{for(var a=re(Object.keys(t)),l=a.next();!l.done;l=a.next()){var u=l.value,c=t[u];if(c){var h=this.getStateNode(u),f=h._transition(c,r,n);f&&(s[u]=f)}}}catch(y){i={error:y}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}var d=Object.keys(s).map(function(y){return s[y]}),m=be(d.map(function(y){return y.transitions})),x=d.some(function(y){return y.transitions.length>0});if(!x)return this.next(r,n);var w=be(Object.keys(s).map(function(y){return s[y].configuration}));return{transitions:m,exitSet:be(d.map(function(y){return y.exitSet})),configuration:w,source:r,actions:be(Object.keys(s).map(function(y){return s[y].actions}))}},e.prototype._transition=function(t,r,n){return ae(t)?this.transitionLeafNode(t,r,n):Object.keys(t).length===1?this.transitionCompoundNode(t,r,n):this.transitionParallelNode(t,r,n)},e.prototype.getTransitionData=function(t,r){return this._transition(t.value,t,Be(r))},e.prototype.next=function(t,r){var n,i,o=this,s=r.name,a=[],l=[],u;try{for(var c=re(this.getCandidates(s)),h=c.next();!h.done;h=c.next()){var f=h.value,d=f.cond,m=f.in,x=t.context,w=m?ae(m)&&_n(m)?t.matches(yo(this.getStateNodeById(m).path,this.delimiter)):wd(yo(m,this.delimiter),y1(this.path.slice(0,-2))(t.value)):!0,y=!1;try{y=!d||xg(this.machine,d,x,r,t)}catch(b){throw new Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(y&&w){f.target!==void 0&&(l=f.target),a.push.apply(a,ye([],oe(f.actions),!1)),u=f;break}}}catch(b){n={error:b}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var p=be(l.map(function(b){return o.getRelativeStateNodes(b,t.historyValue)})),g=!!u.internal;return{transitions:[u],exitSet:g?[]:be(l.map(function(b){return o.getPotentiallyReenteringNodes(b)})),configuration:p,source:t,actions:a}}},e.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var r=[],n=this,i=t;n&&n!==i;)r.push(n),n=n.parent;return n!==i?[]:(r.push(i),r)},e.prototype.getActions=function(t,r,n,i,o,s,a){var l,u,c,h,f=this,d=s?ro([],this.getStateNodes(s.value)):[],m=new Set;try{for(var x=re(Array.from(t).sort(function(M,q){return M.order-q.order})),w=x.next();!w.done;w=x.next()){var y=w.value;(!no(d,y)||no(n.exitSet,y)||y.parent&&m.has(y.parent))&&m.add(y)}}catch(M){l={error:M}}finally{try{w&&!w.done&&(u=x.return)&&u.call(x)}finally{if(l)throw l.error}}try{for(var p=re(d),g=p.next();!g.done;g=p.next()){var y=g.value;(!no(t,y)||no(n.exitSet,y.parent))&&n.exitSet.push(y)}}catch(M){c={error:M}}finally{try{g&&!g.done&&(h=p.return)&&h.call(p)}finally{if(c)throw c.error}}n.exitSet.sort(function(M,q){return q.order-M.order});var b=Array.from(m).sort(function(M,q){return M.order-q.order}),S=new Set(n.exitSet),_=be(b.map(function(M){var q=[];if(M.type!=="final")return q;var G=M.parent;if(!G.parent)return q;q.push(Is(M.id,M.doneData),Is(G.id,M.doneData?La(M.doneData,i,o):void 0));var Y=G.parent;return Y.type==="parallel"&&qo(Y).every(function(H){return ra(n.configuration,H)})&&q.push(Is(Y.id)),q})),N=b.map(function(M){var q=M.onEntry,G=M.activities.map(function(Y){return R1(Y)});return{type:"entry",actions:_r(a?ye(ye([],oe(q),!1),oe(G),!1):ye(ye([],oe(G),!1),oe(q),!1),f.machine.options.actions)}}).concat({type:"state_done",actions:_.map(function(M){return N1(M)})}),O=Array.from(S).map(function(M){return{type:"exit",actions:_r(ye(ye([],oe(M.onExit),!1),oe(M.activities.map(function(q){return P1(q)})),!1),f.machine.options.actions)}}),P=O.concat({type:"transition",actions:_r(n.actions,this.machine.options.actions)}).concat(N);if(r){var A=_r(be(ye([],oe(t),!1).sort(function(M,q){return q.order-M.order}).map(function(M){return M.onExit})),this.machine.options.actions).filter(function(M){return!_c(M)});return P.concat({type:"stop",actions:A})}return P},e.prototype.transition=function(t,r,n,i){t===void 0&&(t=this.initialState);var o=Be(r),s;if(t instanceof Pt)s=n===void 0?t:this.resolveState(Pt.from(t,n));else{var a=ae(t)?this.resolve(Ma(this.getResolvedPath(t))):this.resolve(t),l=n??this.machine.context;s=this.resolveState(Pt.from(a,l))}if(this.strict&&!this.events.includes(o.name)&&!x1(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(s.value,s,o)||{transitions:[],configuration:[],exitSet:[],source:s,actions:[]},c=ro([],this.getStateNodes(s.value)),h=u.configuration.length?ro(c,u.configuration):c;return u.configuration=ye([],oe(h),!1),this.resolveTransition(u,s,s.context,i,o)},e.prototype.resolveRaisedTransition=function(t,r,n,i){var o,s=t.actions;return t=this.transition(t,r,void 0,i),t._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,ye([],oe(s),!1)),t},e.prototype.resolveTransition=function(t,r,n,i,o){var s,a,l,u,c=this;o===void 0&&(o=ni);var h=t.configuration,f=!r||t.transitions.length>0,d=f?t.configuration:r?r.configuration:[],m=ra(d,this),x=f?V1(this.machine,h):void 0,w=r?r.historyValue?r.historyValue:t.source?this.machine.historyValue(r.value):void 0:void 0,y=this.getActions(new Set(d),m,t,n,o,r,i),p=r?U({},r.activities):{};try{for(var g=re(y),b=g.next();!b.done;b=g.next()){var S=b.value;try{for(var _=(l=void 0,re(S.actions)),N=_.next();!N.done;N=_.next()){var O=N.value;O.type===Sc?p[O.activity.id||O.activity.type]=O:O.type===gd&&(p[O.activity.id||O.activity.type]=!1)}}catch(R){l={error:R}}finally{try{N&&!N.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}}}catch(R){s={error:R}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}var P=oe(Fa(this,r,n,o,y,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=P[0],M=P[1],q=oe(b1(A,_c),2),G=q[0],Y=q[1],H=A.filter(function(R){var Q;return R.type===Sc&&((Q=R.activity)===null||Q===void 0?void 0:Q.type)===Ec}),J=H.reduce(function(R,Q){return R[Q.activity.id]=F1(Q.activity,c.machine,M,o),R},r?U({},r.children):{}),k=new Pt({value:x||r.value,context:M,_event:o,_sessionid:r?r._sessionid:null,historyValue:x?w?S1(w,x):void 0:r?r.historyValue:void 0,history:!x||t.source?r:void 0,actions:x?Y:[],activities:x?p:r?r.activities:{},events:[],configuration:d,transitions:t.transitions,children:J,done:m,tags:mp(d),machine:this}),E=n!==M;k.changed=o.name===hg||E;var C=k.history;C&&delete C.history;var F=!m&&(this._transient||h.some(function(R){return R._transient}));if(!f&&(!F||o.name===Rs))return k;var D=k;if(!m)for(F&&(D=this.resolveRaisedTransition(D,{type:c1},o,i));G.length;){var V=G.shift();D=this.resolveRaisedTransition(D,V._event,o,i)}var ve=D.changed||(C?!!D.actions.length||E||typeof C.value!=typeof D.value||!Ng(D.value,C.value):void 0);return D.changed=ve,D.history=C,D},e.prototype.getStateNode=function(t){if(_n(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[t];if(!r)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return r},e.prototype.getStateNodeById=function(t){var r=_n(t)?t.slice(Cc.length):t;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&_n(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var r=Tc(t,this.delimiter).slice(),n=this;r.length;){var i=r.shift();if(!i.length)break;n=n.getStateNode(i)}return n},e.prototype.resolve=function(t){var r,n=this;if(!t)return this.initialStateValue||Tn;switch(this.type){case"parallel":return eo(this.initialStateValue,function(o,s){return o?n.getStateNode(s).resolve(t[s]||o):Tn});case"compound":if(ae(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(r={},r[t]=i.initialStateValue,r):t}return Object.keys(t).length?eo(t,function(o,s){return o?n.getStateNode(s).resolve(o):Tn}):this.initialStateValue||{};default:return t||Tn}},e.prototype.getResolvedPath=function(t){if(_n(t)){var r=this.machine.idMap[t.slice(Cc.length)];if(!r)throw new Error("Unable to find state node '".concat(t,"'"));return r.path}return Tc(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=dp(this.states,function(n){return n.initialStateValue||Tn},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=Ua(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,r){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var r=this.config;ae(r.target)?t=_n(r.target)?Ma(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:t=r.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,r,n){return n===void 0&&(n=!0),n?t.type==="history"?t.resolveHistory(r):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(Ua(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var r=ea(this.initialStateValue);return be(r.map(function(n){return t.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var r=oe(t),n=r[0],i=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if(o.type==="history")return o.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:dp(this.states,function(r,n){if(!t)return r.historyValue();var i=ae(t)?void 0:t[n];return r.historyValue(i||r.initialStateValue)},function(r){return!r.history})}},e.prototype.resolveHistory=function(t){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!t){var i=this.target;return i?be(ea(i).map(function(s){return n.getFromRelativePath(s)})):n.initialStateNodes}var o=g1(n.path,"states")(t).current;return ae(o)?[n.getStateNode(o)]:be(ea(o).map(function(s){return r.history==="deep"?n.getFromRelativePath(s):[n.states[s[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,r=be(Object.keys(this.states).map(function(n){return t.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,r,n,i;if(this.__cache.events)return this.__cache.events;var o=this.states,s=new Set(this.ownEvents);if(o)try{for(var a=re(Object.keys(o)),l=a.next();!l.done;l=a.next()){var u=l.value,c=o[u];if(c.states)try{for(var h=(n=void 0,re(c.events)),f=h.next();!f.done;f=h.next()){var d=f.value;s.add("".concat(d))}}catch(m){n={error:m}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(m){t={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var r=this;if(t!==void 0)return t.map(function(n){if(!ae(n))return n;var i=n[0]===r.delimiter;if(i&&!r.parent)return r.getStateNodeByPath(n.slice(1));var o=i?r.key+n:n;if(r.parent)try{var s=r.parent.getStateNodeByPath(o);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(a.message))}else return r.getStateNodeByPath(o)})},e.prototype.formatTransition=function(t){var r=this,n=_1(t.target),i="internal"in t?t.internal:n?n.some(function(l){return ae(l)&&l[0]===r.delimiter}):!0,o=this.machine.options.guards,s=this.resolveTarget(n),a=U(U({},t),{actions:_r(Rt(t.actions)),cond:gg(t.cond,o),target:s,source:this,internal:i,eventType:t.event,toJSON:function(){return U(U({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(r.id)})}});return a},e.prototype.formatTransitions=function(){var t,r,n=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var o=this.config.on,s=au,a=o[s],l=a===void 0?[]:a,u=yd(o,[typeof s=="symbol"?s:s+""]);i=be(Object.keys(u).map(function(p){var g=kn(p,u[p]);return g}).concat(kn(au,l)))}var c=this.config.always?kn("",this.config.always):[],h=this.config.onDone?kn(String(Is(this.id)),this.config.onDone):[],f=be(this.invoke.map(function(p){var g=[];return p.onDone&&g.push.apply(g,ye([],oe(kn(String(ta(p.id)),p.onDone)),!1)),p.onError&&g.push.apply(g,ye([],oe(kn(String(to(p.id)),p.onError)),!1)),g})),d=this.after,m=be(ye(ye(ye(ye([],oe(h),!1),oe(f),!1),oe(i),!1),oe(c),!1).map(function(p){return Rt(p).map(function(g){return n.formatTransition(g)})}));try{for(var x=re(d),w=x.next();!w.done;w=x.next()){var y=w.value;m.push(y)}}catch(p){t={error:p}}finally{try{w&&!w.done&&(r=x.return)&&r.call(x)}finally{if(t)throw t.error}}return m},e}();function ss(e,t){return new rS(e,t)}var Oe=D1,Ut=bg;/*! js-cookie v3.0.5 | MIT */function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var nS={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ic(e,t){function r(i,o,s){if(!(typeof document>"u")){s=Ps({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(s[c]=e.read(u,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",Ps({},o,{expires:-1}))},withAttributes:function(i){return Ic(this.converter,Ps({},this.attributes,i))},withConverter:function(i){return Ic(Ps({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var jc=Ic(nS,{path:"/"}),Rc={exports:{}};(function(e,t){(function(r){function n(i){var o=i&&i.Promise||r.Promise,s=i&&i.XMLHttpRequest||r.XMLHttpRequest;return function(){var a=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(l,u){u(t)}(this,function(l){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof u<"u"&&u,c={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(k){return k&&DataView.prototype.isPrototypeOf(k)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(k){return k&&f.indexOf(Object.prototype.toString.call(k))>-1};function m(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function x(k){return typeof k!="string"&&(k=String(k)),k}function w(k){var E={next:function(){var C=k.shift();return{done:C===void 0,value:C}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function y(k){this.map={},k instanceof y?k.forEach(function(E,C){this.append(C,E)},this):Array.isArray(k)?k.forEach(function(E){this.append(E[0],E[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(E){this.append(E,k[E])},this)}y.prototype.append=function(k,E){k=m(k),E=x(E);var C=this.map[k];this.map[k]=C?C+", "+E:E},y.prototype.delete=function(k){delete this.map[m(k)]},y.prototype.get=function(k){return k=m(k),this.has(k)?this.map[k]:null},y.prototype.has=function(k){return this.map.hasOwnProperty(m(k))},y.prototype.set=function(k,E){this.map[m(k)]=x(E)},y.prototype.forEach=function(k,E){for(var C in this.map)this.map.hasOwnProperty(C)&&k.call(E,this.map[C],C,this)},y.prototype.keys=function(){var k=[];return this.forEach(function(E,C){k.push(C)}),w(k)},y.prototype.values=function(){var k=[];return this.forEach(function(E){k.push(E)}),w(k)},y.prototype.entries=function(){var k=[];return this.forEach(function(E,C){k.push([C,E])}),w(k)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function p(k){if(k.bodyUsed)return o.reject(new TypeError("Already read"));k.bodyUsed=!0}function g(k){return new o(function(E,C){k.onload=function(){E(k.result)},k.onerror=function(){C(k.error)}})}function b(k){var E=new FileReader,C=g(E);return E.readAsArrayBuffer(k),C}function S(k){var E=new FileReader,C=g(E);return E.readAsText(k),C}function _(k){for(var E=new Uint8Array(k),C=new Array(E.length),F=0;F<E.length;F++)C[F]=String.fromCharCode(E[F]);return C.join("")}function N(k){if(k.slice)return k.slice(0);var E=new Uint8Array(k.byteLength);return E.set(new Uint8Array(k)),E.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:c.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:c.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():c.arrayBuffer&&c.blob&&h(k)?(this._bodyArrayBuffer=N(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||d(k))?this._bodyArrayBuffer=N(k):this._bodyText=k=Object.prototype.toString.call(k):this._bodyText="",this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var k=p(this);if(k)return k;if(this._bodyBlob)return o.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return o.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return o.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=p(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?o.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):o.resolve(this._bodyArrayBuffer))}else return this.blob().then(b)}),this.text=function(){var k=p(this);if(k)return k;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return o.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return o.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(k){var E=k.toUpperCase();return P.indexOf(E)>-1?E:k}function M(k,E){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var C=E.body;if(k instanceof M){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,E.headers||(this.headers=new y(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!C&&k._bodyInit!=null&&(C=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new y(E.headers)),this.method=A(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&C)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(C),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var F=/([?&])_=[^&]*/;if(F.test(this.url))this.url=this.url.replace(F,"$1_="+new Date().getTime());else{var D=/\?/;this.url+=(D.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function q(k){var E=new FormData;return k.trim().split("&").forEach(function(C){if(C){var F=C.split("="),D=F.shift().replace(/\+/g," "),V=F.join("=").replace(/\+/g," ");E.append(decodeURIComponent(D),decodeURIComponent(V))}}),E}function G(k){var E=new y,C=k.replace(/\r?\n[\t ]+/g," ");return C.split("\r").map(function(F){return F.indexOf(`
`)===0?F.substr(1,F.length):F}).forEach(function(F){var D=F.split(":"),V=D.shift().trim();if(V){var ve=D.join(":").trim();E.append(V,ve)}}),E}O.call(M.prototype);function Y(k,E){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"",this.headers=new y(E.headers),this.url=E.url||"",this._initBody(k)}O.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},Y.error=function(){var k=new Y(null,{status:0,statusText:""});return k.type="error",k};var H=[301,302,303,307,308];Y.redirect=function(k,E){if(H.indexOf(E)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:E,headers:{location:k}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(E,C){this.message=E,this.name=C;var F=Error(E);this.stack=F.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function J(k,E){return new o(function(C,F){var D=new M(k,E);if(D.signal&&D.signal.aborted)return F(new l.DOMException("Aborted","AbortError"));var V=new s;function ve(){V.abort()}V.onload=function(){var Q={status:V.status,statusText:V.statusText,headers:G(V.getAllResponseHeaders()||"")};Q.url="responseURL"in V?V.responseURL:Q.headers.get("X-Request-URL");var K="response"in V?V.response:V.responseText;setTimeout(function(){C(new Y(K,Q))},0)},V.onerror=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){F(new TypeError("Network request failed"))},0)},V.onabort=function(){setTimeout(function(){F(new l.DOMException("Aborted","AbortError"))},0)};function R(Q){try{return Q===""&&u.location.href?u.location.href:Q}catch{return Q}}V.open(D.method,R(D.url),!0),D.credentials==="include"?V.withCredentials=!0:D.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(c.blob?V.responseType="blob":c.arrayBuffer&&D.headers.get("Content-Type")&&D.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(V.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof y)?Object.getOwnPropertyNames(E.headers).forEach(function(Q){V.setRequestHeader(Q,x(E.headers[Q]))}):D.headers.forEach(function(Q,K){V.setRequestHeader(K,Q)}),D.signal&&(D.signal.addEventListener("abort",ve),V.onreadystatechange=function(){V.readyState===4&&D.signal.removeEventListener("abort",ve)}),V.send(typeof D._bodyInit>"u"?null:D._bodyInit)})}J.polyfill=!0,u.fetch||(u.fetch=J,u.Headers=y,u.Request=M,u.Response=Y),l.Headers=y,l.Request=M,l.Response=Y,l.fetch=J,Object.defineProperty(l,"__esModule",{value:!0})}),{fetch:a.fetch,Headers:a.Headers,Request:a.Request,Response:a.Response,DOMException:a.DOMException}}()}e.exports=n})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Pl)})(Rc,Rc.exports);var iS=Rc.exports;const Ed=Zo(iS),Vi="nhostRefreshToken",As="nhostRefreshTokenId",Nn="nhostRefreshTokenExpiresAt",oS=3,gp=60,xp=5,Og=0,Cg=1,Yr=10,yl=20;class Cn extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),t instanceof Error?(this.name=t.name,this.error={error:t.name,status:Cg,message:t.message}):(this.name=t.error,this.error=t)}}const Ht={status:Yr,error:"invalid-email",message:"Email is incorrectly formatted"},Pc={status:Yr,error:"invalid-password",message:"Password is incorrectly formatted"},wp={status:Yr,error:"invalid-phone-number",message:"Phone number is incorrectly formatted"},sS={status:Yr,error:"invalid-mfa-ticket",message:"MFA ticket is invalid"},aS={status:Yr,error:"no-mfa-ticket",message:"No MFA ticket has been provided"},lS={status:Yr,error:"no-refresh-token",message:"No refresh token has been provided"},uS={status:yl,error:"refresher-already-running",message:"The token refresher is already running. You must wait until is has finished before submitting a new token."},ut={status:yl,error:"already-signed-in",message:"User is already signed in"},cS={status:yl,error:"unauthenticated-user",message:"User is not authenticated"},fS={status:yl,error:"unverified-user",message:"Email needs verification"},dS={status:Yr,error:"invalid-refresh-token",message:"Invalid or expired refresh token"},hS={status:Cg,error:"invalid-sign-in-method",message:"Invalid sign-in method"},lu={user:null,mfa:null,accessToken:{value:null,expiresAt:null,expiresInSeconds:15},refreshTimer:{startedAt:null,attempts:0,lastAttempt:null},refreshToken:{value:null},importTokenAttempts:0,errors:{}};function pS(e){return new TextEncoder().encode(e)}function nr(e){const t=new Uint8Array(e);let r="";for(const n of t)r+=String.fromCharCode(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function kd(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),i=atob(n),o=new ArrayBuffer(i.length),s=new Uint8Array(o);for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return o}function Ig(){return(window==null?void 0:window.PublicKeyCredential)!==void 0&&typeof window.PublicKeyCredential=="function"}function jg(e){const{id:t}=e;return{...e,id:kd(t),transports:e.transports}}function Rg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}let Ge=class extends Error{constructor({message:t,code:r,cause:n,name:i}){super(t,{cause:n}),this.name=i??n.name,this.code=r}};function vS({error:e,options:t}){var r,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)==null?void 0:r.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(((n=i.authenticatorSelection)==null?void 0:n.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Rg(o)){if(i.rp.id!==o)return new Ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}let mS=class{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}};const Pg=new mS,yS=["cross-platform","platform"];function Ag(e){if(e&&!(yS.indexOf(e)<0))return e}async function Dg(e){var t;if(!Ig())throw new Error("WebAuthn is not supported in this browser");const r={publicKey:{...e,challenge:kd(e.challenge),user:{...e.user,id:pS(e.user.id)},excludeCredentials:(t=e.excludeCredentials)==null?void 0:t.map(jg)}};r.signal=Pg.createNewAbortSignal();let n;try{n=await navigator.credentials.create(r)}catch(f){throw vS({error:f,options:r})}if(!n)throw new Error("Registration was not completed");const{id:i,rawId:o,response:s,type:a}=n;let l;typeof s.getTransports=="function"&&(l=s.getTransports());let u;if(typeof s.getPublicKeyAlgorithm=="function")try{u=s.getPublicKeyAlgorithm()}catch(f){uu("getPublicKeyAlgorithm()",f)}let c;if(typeof s.getPublicKey=="function")try{const f=s.getPublicKey();f!==null&&(c=nr(f))}catch(f){uu("getPublicKey()",f)}let h;if(typeof s.getAuthenticatorData=="function")try{h=nr(s.getAuthenticatorData())}catch(f){uu("getAuthenticatorData()",f)}return{id:i,rawId:nr(o),response:{attestationObject:nr(s.attestationObject),clientDataJSON:nr(s.clientDataJSON),transports:l,publicKeyAlgorithm:u,publicKey:c,authenticatorData:h},type:a,clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:Ag(n.authenticatorAttachment)}}function uu(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.
`,t)}function gS(e){return new TextDecoder("utf-8").decode(e)}function xS(){const e=window.PublicKeyCredential;return e.isConditionalMediationAvailable===void 0?new Promise(t=>t(!1)):e.isConditionalMediationAvailable()}function wS({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Rg(n)){if(r.rpId!==n)return new Ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}async function Ac(e,t=!1){var r,n;if(!Ig())throw new Error("WebAuthn is not supported in this browser");let i;((r=e.allowCredentials)==null?void 0:r.length)!==0&&(i=(n=e.allowCredentials)==null?void 0:n.map(jg));const o={...e,challenge:kd(e.challenge),allowCredentials:i},s={};if(t){if(!await xS())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');s.mediation="conditional",o.allowCredentials=[]}s.publicKey=o,s.signal=Pg.createNewAbortSignal();let a;try{a=await navigator.credentials.get(s)}catch(d){throw wS({error:d,options:s})}if(!a)throw new Error("Authentication was not completed");const{id:l,rawId:u,response:c,type:h}=a;let f;return c.userHandle&&(f=gS(c.userHandle)),{id:l,rawId:nr(u),response:{authenticatorData:nr(c.authenticatorData),clientDataJSON:nr(c.clientDataJSON),signature:nr(c.signature),userHandle:f},type:h,clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:Ag(a.authenticatorAttachment)}}const gl=typeof window<"u",na=new Map,bS=e=>{var t;return gl&&typeof localStorage<"u"?localStorage.getItem(e):(t=na.get(e))!=null?t:null},SS=(e,t)=>{gl&&typeof localStorage<"u"?t?localStorage.setItem(e,t):localStorage.removeItem(e):t?na.set(e,t):na.has(e)&&na.delete(e)},ES=(e,t)=>{if(e==="localStorage"||e==="web")return bS;if(e==="cookie")return r=>{var n;return gl&&(n=jc.get(r))!=null?n:null};if(!t)throw Error(`clientStorageType is set to '${e}' but no clientStorage has been given`);if(e==="react-native")return r=>{var n;return(n=t.getItem)==null?void 0:n.call(t,r)};if(e==="capacitor")return r=>{var n;return(n=t.get)==null?void 0:n.call(t,{key:r})};if(e==="expo-secure-storage")return r=>{var n;return(n=t.getItemAsync)==null?void 0:n.call(t,r)};if(e==="custom"){if(t.getItem&&t.removeItem)return t.getItem;if(t.getItemAsync)return t.getItemAsync;throw Error(`clientStorageType is set to 'custom' but clientStorage is missing either "getItem" and "removeItem" properties or "getItemAsync" property`)}throw Error(`Unknown storage type: ${e}`)},kS=(e,t)=>{if(e==="localStorage"||e==="web")return SS;if(e==="cookie")return(r,n)=>{gl&&(n?jc.set(r,n,{expires:30,sameSite:"lax",httpOnly:!1}):jc.remove(r))};if(!t)throw Error(`clientStorageType is set to '${e}' but no clienStorage has been given`);if(e==="react-native")return(r,n)=>{var i,o;return n?(i=t.setItem)==null?void 0:i.call(t,r,n):(o=t.removeItem)==null?void 0:o.call(t,r)};if(e==="capacitor")return(r,n)=>{var i,o;return n?(i=t.set)==null?void 0:i.call(t,{key:r,value:n}):(o=t.remove)==null?void 0:o.call(t,{key:r})};if(e==="expo-secure-storage")return async(r,n)=>{var i,o;return n?(i=t.setItemAsync)==null?void 0:i.call(t,r,n):(o=t.deleteItemAsync)==null?void 0:o.call(t,r)};if(e==="custom"){if(!t.removeItem)throw Error("clientStorageType is set to 'custom' but clientStorage is missing a removeItem property");if(t.setItem)return(r,n)=>{var i,o;return n?(i=t.setItem)==null?void 0:i.call(t,r,n):(o=t.removeItem)==null?void 0:o.call(t,r)};if(t.setItemAsync)return async(r,n)=>{var i,o;return n?(i=t.setItemAsync)==null?void 0:i.call(t,r,n):(o=t.removeItem)==null?void 0:o.call(t,r)};throw Error("clientStorageType is set to 'custom' but clientStorage is missing setItem or setItemAsync property")}throw Error(`Unknown storage type: ${e}`)},Ds=e=>!e||!e.accessToken.value||!e.accessToken.expiresAt||!e.user?null:{accessToken:e.accessToken.value,accessTokenExpiresIn:(e.accessToken.expiresAt.getTime()-Date.now())/1e3,refreshToken:e.refreshToken.value,user:e.user},Ct=({accessToken:e,refreshToken:t,isError:r,user:n,error:i})=>r?{session:null,error:i}:n&&e?{session:{accessToken:e,accessTokenExpiresIn:0,refreshToken:t,user:n},error:null}:{session:null,error:null},bp=()=>typeof window<"u"&&typeof window.location<"u";let Mg=globalThis.fetch;typeof EdgeRuntime!="string"&&(Mg=Ed().fetch);const TS=async(e,t,{token:r,body:n,extraHeaders:i}={})=>{const o={"Content-Type":"application/json",Accept:"*/*"};r&&(o.Authorization=`Bearer ${r}`);const s={...o,...i},a={method:t,headers:s};n&&(a.body=JSON.stringify(n));try{const l=await Mg(e,a);if(!l.ok){const u=await l.json();return Promise.reject({error:u})}try{return{data:await l.json(),error:null}}catch{return console.warn(`Unexpected response: can't parse the response of the server at ${e}`),{data:"OK",error:null}}}catch{const l={message:"Network Error",status:Og,error:"network"};return Promise.reject({error:l})}},Vt=async(e,t,r,n)=>TS(e,"POST",{token:r,body:t,extraHeaders:n}),Dc=(e,t)=>{const r=t&&Object.entries(t).map(([n,i])=>{const o=Array.isArray(i)?i.join(","):typeof i=="object"?JSON.stringify(i):i;return`${n}=${encodeURIComponent(o)}`}).join("&");return r?`${e}?${r}`:e},xt=(e,t)=>{if(!(t!=null&&t.redirectTo))return t;const{redirectTo:r,...n}=t;if(!e)return r.startsWith("/")?n:t;const i=new URL(e),o=Object.fromEntries(new URLSearchParams(i.search)),s=new URL(r.startsWith("/")?i.origin+r:r),a=new URLSearchParams(s.search);let l=Object.fromEntries(a);r.startsWith("/")&&(l={...o,...l});let u=i.pathname;return s.pathname.length>1&&(u+=s.pathname.slice(1)),{...n,redirectTo:Dc(s.origin+u,l)}};function Ms(e,t){var r;if(!t){if(typeof window>"u")return;t=((r=window.location)==null?void 0:r.href)||""}e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function Sp(e){var t;if(typeof window>"u")return;const r=window==null?void 0:window.location;if(r&&r){const n=new URLSearchParams(r.search),i=new URLSearchParams((t=r.hash)==null?void 0:t.slice(1));n.delete(e),i.delete(e);let o=window.location.pathname;Array.from(n).length&&(o+=`?${n.toString()}`),Array.from(i).length&&(o+=`#${i.toString()}`),window.history.pushState({},"",o)}}const Gt=e=>!!e&&typeof e=="string"&&!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Mc=e=>!!e&&typeof e=="string"&&e.length>=oS,Ep=e=>!!e&&typeof e=="string",_S=e=>e&&typeof e=="string"&&e.match(/^mfaTotp:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),NS=({backendUrl:e,clientUrl:t,broadcastKey:r,clientStorageType:n="web",clientStorage:i,refreshIntervalTime:o,autoRefreshToken:s=!0,autoSignIn:a=!0})=>{const l=ES(n,i),u=kS(n,i),c=async(f,d,m,x)=>(await Vt(`${e}${f}`,d,m,x)).data;let h=null;if(typeof window<"u"&&r)try{h=new BroadcastChannel(r)}catch{}return ss({schema:{context:{},events:{},services:{}},tsTypes:{},context:lu,predictableActionArguments:!0,id:"nhost",type:"parallel",states:{authentication:{initial:"starting",on:{SESSION_UPDATE:[{cond:"hasSession",actions:["saveSession","resetTimer","reportTokenChanged"],target:".signedIn"}]},states:{starting:{tags:["loading"],always:{cond:"isSignedIn",target:"signedIn"},invoke:{id:"importRefreshToken",src:"importRefreshToken",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"signedIn"},{target:"signedOut"}],onError:[{cond:"shouldRetryImportToken",actions:"incrementTokenImportAttempts",target:"retryTokenImport"},{actions:["saveAuthenticationError"],target:"signedOut"}]}},retryTokenImport:{tags:["loading"],after:{RETRY_IMPORT_TOKEN_DELAY:"starting"}},signedOut:{initial:"noErrors",entry:"reportSignedOut",states:{noErrors:{},success:{},needsSmsOtp:{},needsMfa:{},failed:{},signingOut:{entry:["clearContextExceptTokens"],exit:["destroyAccessToken","destroyRefreshToken","reportTokenChanged"],invoke:{src:"signout",id:"signingOut",onDone:{target:"success"},onError:{target:"failed",actions:["saveAuthenticationError"]}}}},on:{SIGNIN_PASSWORD:"authenticating.password",SIGNIN_ANONYMOUS:"authenticating.anonymous",SIGNIN_SECURITY_KEY_EMAIL:"authenticating.securityKeyEmail",SIGNIN_SECURITY_KEY:"authenticating.securityKey",SIGNIN_MFA_TOTP:"authenticating.mfa.totp",SIGNIN_PAT:"authenticating.pat",SIGNIN_ID_TOKEN:"authenticating.idToken"}},authenticating:{entry:"resetErrors",states:{password:{invoke:{src:"signInPassword",id:"authenticateUserWithPassword",onDone:[{cond:"hasMfaTicket",actions:["saveMfaTicket"],target:"#nhost.authentication.signedOut.needsMfa"},{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"}],onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}},pat:{invoke:{src:"signInPAT",id:"authenticateWithPAT",onDone:{actions:["savePATSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},idToken:{invoke:{src:"signInIdToken",id:"authenticateWithIdToken",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},anonymous:{invoke:{src:"signInAnonymous",id:"authenticateAnonymously",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}}},mfa:{states:{totp:{invoke:{src:"signInMfaTotp",id:"signInMfaTotp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:["saveAuthenticationError"],target:"#nhost.authentication.signedOut.failed"}}}}},securityKeyEmail:{invoke:{src:"signInSecurityKeyEmail",id:"authenticateUserWithSecurityKey",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}},securityKey:{invoke:{src:"signInSecurityKey",id:"authenticateUserWithSecurityKey",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:[{cond:"unverified",target:["#nhost.authentication.signedOut","#nhost.registration.incomplete.needsEmailVerification"]},{actions:"saveAuthenticationError",target:"#nhost.authentication.signedOut.failed"}]}}}},signedIn:{type:"parallel",entry:["reportSignedIn","cleanUrl","broadcastToken","resetErrors"],on:{SIGNOUT:"signedOut.signingOut"},states:{refreshTimer:{id:"timer",initial:"idle",states:{disabled:{type:"final"},stopped:{always:{cond:"noToken",target:"idle"}},idle:{always:[{cond:"isAutoRefreshDisabled",target:"disabled"},{cond:"isRefreshTokenPAT",target:"disabled"},{cond:"hasRefreshToken",target:"running"}]},running:{initial:"pending",entry:"resetTimer",states:{pending:{after:{1e3:{internal:!1,target:"pending"}},always:{cond:"refreshTimerShouldRefresh",target:"refreshing"}},refreshing:{invoke:{src:"refreshToken",id:"refreshToken",onDone:{actions:["saveSession","resetTimer","reportTokenChanged","broadcastToken"],target:"pending"},onError:[{cond:"isUnauthorizedError",target:"#nhost.authentication.signedOut"},{actions:"saveRefreshAttempt",target:"pending"}]}}}}}}}}}},token:{initial:"idle",states:{idle:{on:{TRY_TOKEN:"running"},initial:"noErrors",states:{noErrors:{},error:{}}},running:{invoke:{src:"refreshToken",id:"authenticateWithToken",onDone:{actions:["saveSession","reportTokenChanged","broadcastToken"],target:["#nhost.authentication.signedIn","idle.noErrors"]},onError:[{cond:"isSignedIn",target:"idle.error"},{actions:"saveAuthenticationError",target:["#nhost.authentication.signedOut.failed","idle.error"]}]}}}},registration:{initial:"incomplete",on:{SIGNED_IN:[{cond:"isAnonymous",target:".incomplete"},".complete"]},states:{incomplete:{on:{SIGNUP_EMAIL_PASSWORD:"emailPassword",SIGNUP_SECURITY_KEY:"securityKey",PASSWORDLESS_EMAIL:"passwordlessEmail",PASSWORDLESS_SMS:"passwordlessSms",PASSWORDLESS_SMS_OTP:"passwordlessSmsOtp",SIGNIN_EMAIL_OTP:"signInEmailOTP",VERIFY_EMAIL_OTP:"verifyEmailOTP"},initial:"noErrors",states:{noErrors:{},needsEmailVerification:{},needsOtp:{},failed:{}}},emailPassword:{entry:["resetErrors"],invoke:{src:"signUpEmailPassword",id:"signUpEmailPassword",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},securityKey:{entry:["resetErrors"],invoke:{src:"signUpSecurityKey",id:"signUpSecurityKey",onDone:[{cond:"hasSession",actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]}],onError:[{cond:"unverified",target:"incomplete.needsEmailVerification"},{actions:"saveRegistrationError",target:"incomplete.failed"}]}},passwordlessEmail:{entry:["resetErrors"],invoke:{src:"passwordlessEmail",id:"passwordlessEmail",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsEmailVerification"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSms:{entry:["resetErrors"],invoke:{src:"passwordlessSms",id:"passwordlessSms",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsOtp"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},passwordlessSmsOtp:{entry:["resetErrors"],invoke:{src:"passwordlessSmsOtp",id:"passwordlessSmsOtp",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},signInEmailOTP:{entry:["resetErrors"],invoke:{src:"signInEmailOTP",id:"signInEmailOTP",onDone:{actions:"clearContext",target:["#nhost.authentication.signedOut","incomplete.needsOtp"]},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},verifyEmailOTP:{entry:["resetErrors"],invoke:{src:"verifyEmailOTP",id:"verifyEmailOTP",onDone:{actions:["saveSession","reportTokenChanged"],target:"#nhost.authentication.signedIn"},onError:{actions:"saveRegistrationError",target:"incomplete.failed"}}},complete:{on:{SIGNED_OUT:"incomplete"}}}}}},{actions:{reportSignedIn:Ut("SIGNED_IN"),reportSignedOut:Ut("SIGNED_OUT"),reportTokenChanged:Ut("TOKEN_CHANGED"),incrementTokenImportAttempts:Oe({importTokenAttempts:({importTokenAttempts:f})=>f+1}),clearContext:Oe(()=>(u(Nn,null),u(Vi,null),u(As,null),{...lu})),clearContextExceptTokens:Oe(({accessToken:f,refreshToken:d})=>({...lu,accessToken:f,refreshToken:d})),saveSession:Oe({user:(f,{data:d})=>{var m;return((m=d==null?void 0:d.session)==null?void 0:m.user)||null},accessToken:(f,{data:d})=>{if(d.session){const{accessTokenExpiresIn:m,accessToken:x}=d.session,w=new Date(Date.now()+m*1e3);return u(Nn,w.toISOString()),{value:x,expiresAt:w,expiresInSeconds:m}}return u(Nn,null),{value:null,expiresAt:null,expiresInSeconds:null}},refreshToken:(f,{data:d})=>{var m,x;const w=((m=d.session)==null?void 0:m.refreshToken)||null,y=((x=d.session)==null?void 0:x.refreshTokenId)||null;return w&&u(Vi,w),y&&u(As,y),{value:w}}}),savePATSession:Oe({user:(f,{data:d})=>{var m;return((m=d==null?void 0:d.session)==null?void 0:m.user)||null},accessToken:(f,{data:d})=>{if(d.session){const{accessTokenExpiresIn:m,accessToken:x}=d.session,w=new Date(Date.now()+m*1e3);return u(Nn,w.toISOString()),{value:x,expiresAt:w,expiresInSeconds:m}}return u(Nn,null),{value:null,expiresAt:null,expiresInSeconds:null}},refreshToken:(f,{data:d})=>{var m,x;const w=((m=d.session)==null?void 0:m.refreshToken)||null,y=((x=d.session)==null?void 0:x.refreshTokenId)||null;return w&&u(Vi,w),y&&u(As,y),{value:w,isPAT:!0}}}),saveMfaTicket:Oe({mfa:(f,d)=>{var m;return(m=d.data)==null?void 0:m.mfa}}),resetTimer:Oe({refreshTimer:f=>({startedAt:new Date,attempts:0,lastAttempt:null})}),saveRefreshAttempt:Oe({refreshTimer:(f,d)=>({startedAt:f.refreshTimer.startedAt,attempts:f.refreshTimer.attempts+1,lastAttempt:new Date})}),saveAuthenticationError:Oe({errors:({errors:f},{data:{error:d}})=>({...f,authentication:d})}),resetErrors:Oe({errors:f=>({}),importTokenAttempts:f=>0}),saveRegistrationError:Oe({errors:({errors:f},{data:{error:d}})=>({...f,registration:d})}),destroyRefreshToken:Oe({refreshToken:f=>(u(Vi,null),u(As,null),{value:null})}),destroyAccessToken:Oe({accessToken:f=>(u(Nn,null),{value:null,expiresAt:null,expiresInSeconds:null})}),cleanUrl:()=>{a&&Ms("refreshToken")&&(Sp("refreshToken"),Sp("type"))},broadcastToken:f=>{if(a&&r&&h)try{h.postMessage({type:"broadcast_session",payload:{token:f.refreshToken.value,accessToken:f.accessToken.value,user:f.user,expiresAt:f.accessToken.expiresAt?f.accessToken.expiresAt.toISOString():null,expiresInSeconds:f.accessToken.expiresInSeconds}})}catch{}}},guards:{isAnonymous:(f,d)=>{var m;return!!((m=f.user)!=null&&m.isAnonymous)},isSignedIn:f=>!!f.user&&!!f.accessToken.value,noToken:f=>!f.refreshToken.value,isRefreshTokenPAT:f=>{var d;return!!((d=f.refreshToken)!=null&&d.isPAT)},hasRefreshToken:f=>!!f.refreshToken.value,isAutoRefreshDisabled:()=>!s,refreshTimerShouldRefresh:f=>{const{expiresAt:d}=f.accessToken;if(!d)return!1;if(f.refreshTimer.lastAttempt)return f.refreshTimer.attempts>xp?!1:Date.now()-f.refreshTimer.lastAttempt.getTime()>Math.pow(2,f.refreshTimer.attempts-1)*5e3;if(d.getTime()<Date.now()||o&&Date.now()-f.refreshTimer.startedAt.getTime()>o*1e3)return!0;if(!f.accessToken.expiresInSeconds)return!1;const m=d.getTime()-Date.now();return m<=gp*1e3/2||m<=gp*1e3&&Math.random()<.1},shouldRetryImportToken:(f,d)=>f.importTokenAttempts<xp&&(d.data.error.status===Og||d.data.error.status>=500),unverified:(f,{data:{error:d}})=>d.status===401&&(d.message==="Email is not verified"||d.error==="unverified-user"),hasSession:(f,d)=>{var m;return!!((m=d.data)!=null&&m.session)},hasMfaTicket:(f,d)=>{var m;return!!((m=d.data)!=null&&m.mfa)},isUnauthorizedError:(f,{data:{error:d}})=>d.status===401},services:{signInPassword:(f,{email:d,password:m})=>Gt(d)?Mc(m)?c("/signin/email-password",{email:d,password:m}):Promise.reject({error:Pc}):Promise.reject({error:Ht}),signInPAT:(f,{pat:d})=>c("/signin/pat",{personalAccessToken:d}),signInIdToken:(f,{provider:d,idToken:m,nonce:x})=>c("/signin/idtoken",{provider:d,idToken:m,...x&&{nonce:x}}),passwordlessSms:(f,{phoneNumber:d,options:m})=>{var x;return Ep(d)?(x=f.user)!=null&&x.isAnonymous?(console.warn("Deanonymisation from a phone number is not yet implemented in hasura-auth"),c("/user/deanonymize",{signInMethod:"passwordless",connection:"sms",phoneNumber:d,options:xt(t,m)},f.accessToken.value)):c("/signin/passwordless/sms",{phoneNumber:d,options:xt(t,m)}):Promise.reject({error:wp})},passwordlessSmsOtp:(f,{phoneNumber:d,otp:m})=>Ep(d)?c("/signin/passwordless/sms/otp",{phoneNumber:d,otp:m}):Promise.reject({error:wp}),signInEmailOTP:(f,{email:d,options:m})=>Gt(d)?c("/signin/otp/email",{email:d,options:xt(t,m)}):Promise.reject({error:Ht}),verifyEmailOTP:(f,{email:d,otp:m})=>Gt(d)?c("/signin/otp/email/verify",{email:d,otp:m}):Promise.reject({error:Ht}),passwordlessEmail:(f,{email:d,options:m})=>{var x;return Gt(d)?(x=f.user)!=null&&x.isAnonymous?c("/user/deanonymize",{signInMethod:"passwordless",connection:"email",email:d,options:xt(t,m)},f.accessToken.value):c("/signin/passwordless/email",{email:d,options:xt(t,m)}):Promise.reject({error:Ht})},signInAnonymous:f=>c("/signin/anonymous"),signInMfaTotp:(f,d)=>{var m;const x=d.ticket||((m=f.mfa)==null?void 0:m.ticket);return x?_S(x)?c("/signin/mfa/totp",{ticket:x,otp:d.otp}):Promise.reject({error:sS}):Promise.reject({error:aS})},signInSecurityKeyEmail:async(f,{email:d})=>{if(!Gt(d))throw new Cn(Ht);const m=await c("/signin/webauthn",{email:d});let x;try{x=await Ac(m)}catch(w){throw new Cn(w)}return c("/signin/webauthn/verify",{email:d,credential:x})},refreshToken:async(f,d)=>{const m=d.type==="TRY_TOKEN"?d.token:f.refreshToken.value;return{session:await c("/token",{refreshToken:m}),error:null}},signInSecurityKey:async()=>{try{const f=await c("/signin/webauthn",{});let d;try{d=await Ac(f)}catch(m){throw new Cn(m)}return c("/signin/webauthn/verify",{credential:d})}catch(f){throw new Cn(f)}},signout:async(f,d)=>{const m=await c("/signout",{refreshToken:f.refreshToken.value,all:!!d.all},d.all?f.accessToken.value:void 0);if(r&&h)try{h.postMessage({type:"signout"})}catch{}return m},signUpEmailPassword:async(f,{email:d,password:m,options:x,requestOptions:w})=>{var y;return Gt(d)?Mc(m)?(y=f.user)!=null&&y.isAnonymous?c("/user/deanonymize",{signInMethod:"email-password",email:d,password:m,options:xt(t,x)},f.accessToken.value,w==null?void 0:w.headers):c("/signup/email-password",{email:d,password:m,options:xt(t,x)},null,w==null?void 0:w.headers):Promise.reject({error:Pc}):Promise.reject({error:Ht})},signUpSecurityKey:async(f,{email:d,options:m,requestOptions:x})=>{if(!Gt(d))return Promise.reject({error:Ht});const w=m==null?void 0:m.nickname;w&&delete m.nickname;const y=await c("/signup/webauthn",{email:d,options:m},null,x==null?void 0:x.headers);let p;try{p=await Dg(y)}catch(g){throw new Cn(g)}return c("/signup/webauthn/verify",{credential:p,options:{redirectTo:m==null?void 0:m.redirectTo,nickname:w,displayName:m==null?void 0:m.displayName,...(m==null?void 0:m.metadata)&&{metadata:m==null?void 0:m.metadata}}})},importRefreshToken:async f=>{if(f.user&&f.refreshToken.value&&f.accessToken.value&&f.accessToken.expiresAt)return{session:{accessToken:f.accessToken.value,accessTokenExpiresIn:f.accessToken.expiresAt.getTime()-Date.now(),refreshToken:f.refreshToken.value,user:f.user},error:null};let d=null;if(a){const x=Ms("refreshToken")||null;if(x)try{return{session:await c("/token",{refreshToken:x}),error:null}}catch(w){d=w.error}else{const w=Ms("error"),y=Ms("errorDescription");if(w&&y!=="social user already exists")return Promise.reject({session:null,error:{status:Yr,error:w,message:y||w}})}}const m=await l(Vi);if(m)try{return{session:await c("/token",{refreshToken:m}),error:null}}catch(x){d=x.error}return d?Promise.reject({error:d,session:null}):{error:null,session:null}}},delays:{RETRY_IMPORT_TOKEN_DELAY:({importTokenAttempts:f})=>Math.pow(2,f-1)*5e3}})},OS=({backendUrl:e,clientUrl:t,interpreter:r})=>ss({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changeEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:Oe({error:n=>Ht}),saveRequestError:Oe({error:(n,{data:{error:i}})=>i}),reportError:Ut(n=>({type:"ERROR",error:n.error})),reportSuccess:Ut("SUCCESS")},guards:{invalidEmail:(n,{email:i})=>!Gt(i)},services:{requestChange:async(n,{email:i,options:o})=>(await Vt(`${e}/user/email/change`,{newEmail:i,options:xt(t,o)},r==null?void 0:r.getSnapshot().context.accessToken.value)).data}}),CS=({backendUrl:e,interpreter:t})=>ss({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidPassword",actions:"saveInvalidPasswordError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidPasswordError:Oe({error:r=>Pc}),saveRequestError:Oe({error:(r,{data:{error:n}})=>n}),reportError:Ut(r=>({type:"ERROR",error:r.error})),reportSuccess:Ut("SUCCESS")},guards:{invalidPassword:(r,{password:n})=>!Mc(n)},services:{requestChange:(r,{password:n,ticket:i})=>Vt(`${e}/user/password`,{newPassword:n,ticket:i},t==null?void 0:t.getSnapshot().context.accessToken.value)}}),IS=({backendUrl:e,clientUrl:t})=>ss({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"changePassword",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"requestChange",id:"requestChange",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:Oe({error:r=>Ht}),saveRequestError:Oe({error:(r,{data:{error:n}})=>n}),reportError:Ut(r=>({type:"ERROR",error:r.error})),reportSuccess:Ut("SUCCESS")},guards:{invalidEmail:(r,{email:n})=>!Gt(n)},services:{requestChange:(r,{email:n,options:i})=>Vt(`${e}/user/password/reset`,{email:n,options:xt(t,i)})}}),jS=({backendUrl:e,clientUrl:t})=>ss({schema:{context:{},events:{},services:{}},tsTypes:{},predictableActionArguments:!0,id:"sendVerificationEmail",initial:"idle",context:{error:null},states:{idle:{on:{REQUEST:[{cond:"invalidEmail",actions:"saveInvalidEmailError",target:".error"},{target:"requesting"}]},initial:"initial",states:{initial:{},success:{},error:{}}},requesting:{invoke:{src:"request",id:"request",onDone:{target:"idle.success",actions:"reportSuccess"},onError:{actions:["saveRequestError","reportError"],target:"idle.error"}}}}},{actions:{saveInvalidEmailError:Oe({error:r=>Ht}),saveRequestError:Oe({error:(r,{data:{error:n}})=>n}),reportError:Ut(r=>({type:"ERROR",error:r.error})),reportSuccess:Ut("SUCCESS")},guards:{invalidEmail:(r,{email:n})=>!Gt(n)},services:{request:async(r,{email:n,options:i})=>(await Vt(`${e}/user/email/send-verification-email`,{email:n,options:xt(t,i)})).data}});class RS{constructor({clientStorageType:t="web",autoSignIn:r=!0,autoRefreshToken:n=!0,start:i=!0,backendUrl:o,clientUrl:s,broadcastKey:a,devTools:l,...u}){var c;if(this._started=!1,this._subscriptionsQueue=new Set,this._subscriptions=new Set,this.backendUrl=o,this.clientUrl=s,this._machine=NS({...u,backendUrl:o,clientUrl:s,broadcastKey:a,clientStorageType:t,autoSignIn:r,autoRefreshToken:n}),i&&this.start({devTools:l}),typeof window<"u"&&a)try{this._channel=new BroadcastChannel(a),r&&((c=this._channel)==null||c.addEventListener("message",h=>{var f;const{type:d,payload:m}=h.data;if(d==="broadcast_session"){const x=(f=this.interpreter)==null?void 0:f.getSnapshot().context,w=x==null?void 0:x.refreshToken.value;this.interpreter&&m.token&&m.token!==w&&this.interpreter.send("SESSION_UPDATE",{data:{session:{user:m.user,accessToken:m.accessToken,refreshToken:m.token,accessTokenExpiresIn:m.expiresInSeconds}}})}})),this._channel.addEventListener("message",h=>{const{type:f}=h.data;f==="signout"&&this.interpreter&&this.interpreter.send("SIGNOUT")})}catch{}}start({devTools:t=!1,initialSession:r,interpreter:n}={}){var i,o;const s={...this.machine.context,accessToken:{...this.machine.context.accessToken},refreshToken:{...this.machine.context.refreshToken}};r&&(s.user=r.user,s.refreshToken.value=(i=r.refreshToken)!=null?i:null,s.accessToken.value=(o=r.accessToken)!=null?o:null,s.accessToken.expiresAt=new Date(Date.now()+r.accessTokenExpiresIn*1e3));const a=this.machine.withContext(s);this._interpreter||(this._interpreter=n||an(a,{devTools:t})),(!this._started||typeof window>"u")&&(this._interpreter.initialized&&(this._interpreter.stop(),this._subscriptions.forEach(l=>l())),this._interpreter.start(a.initialState),this._subscriptionsQueue.forEach(l=>l(this))),this._started=!0}get machine(){return this._machine}get interpreter(){return this._interpreter}get started(){return this._started}subscribe(t){if(this.started){const r=t(this);return this._subscriptions.add(r),r}else return this._subscriptionsQueue.add(t),()=>{console.log("onTokenChanged was added before the interpreter started. Cannot unsubscribe listener.")}}}const PS=async({backendUrl:e,interpreter:t},r)=>{try{const{data:n}=await Vt(`${e}/user/webauthn/add`,{},t==null?void 0:t.getSnapshot().context.accessToken.value);let i;try{i=await Dg(n)}catch(s){throw new Cn(s)}const{data:o}=await Vt(`${e}/user/webauthn/verify`,{credential:i,nickname:r},t==null?void 0:t.getSnapshot().context.accessToken.value);return{key:o,isError:!1,error:null,isSuccess:!0}}catch(n){const{error:i}=n;return{isError:!0,error:i,isSuccess:!1}}},AS=async(e,t,r)=>new Promise(n=>{e.send("REQUEST",{email:t,options:r}),e.onTransition(i=>{i.matches({idle:"error"})?n({error:i.context.error,isError:!0,needsEmailVerification:!1}):i.matches({idle:"success"})&&n({error:null,isError:!1,needsEmailVerification:!0})})}),DS=async(e,t,r)=>new Promise(n=>{e.send("REQUEST",{password:t,ticket:r}),e.onTransition(i=>{i.matches({idle:"error"})?n({error:i.context.error,isError:!0,isSuccess:!1}):i.matches({idle:"success"})&&n({error:null,isError:!1,isSuccess:!0})})}),MS=async(e,t,r)=>new Promise(n=>{e.send("REQUEST",{email:t,options:r}),e.onTransition(i=>{i.matches({idle:"error"})?n({error:i.context.error,isError:!0,isSent:!1}):i.matches({idle:"success"})&&n({error:null,isError:!1,isSent:!0})})}),LS=(e,t,r)=>new Promise(n=>{e.send("REQUEST",{email:t,options:r}),e.onTransition(i=>{i.matches({idle:"error"})?n({error:i.context.error,isError:!0,isSent:!1}):i.matches({idle:"success"})&&n({error:null,isError:!1,isSent:!0})})}),FS=e=>new Promise(t=>{const{changed:r}=e.send("SIGNIN_ANONYMOUS");r||t({isSuccess:!1,isError:!0,error:ut,user:null,accessToken:null,refreshToken:null}),e.onTransition(n=>{n.matches({authentication:"signedIn"})&&t({isSuccess:!0,isError:!1,error:null,user:n.context.user,accessToken:n.context.accessToken.value,refreshToken:n.context.refreshToken.value}),n.matches({authentication:{signedOut:"failed"}})&&t({isSuccess:!1,isError:!0,error:n.context.errors.authentication||null,user:null,accessToken:null,refreshToken:null})})}),Lg=(e,t,r)=>new Promise(n=>{const{changed:i,context:o}=e.send("SIGNIN_PASSWORD",{email:t,password:r});if(!i)return n({accessToken:o.accessToken.value,refreshToken:o.refreshToken.value,error:ut,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:o.user});e.onTransition(s=>{s.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?n({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,needsMfaOtp:!1,mfa:null,user:null}):s.matches({authentication:{signedOut:"needsMfa"}})?n({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!0,mfa:s.context.mfa,user:null}):s.matches({authentication:{signedOut:"failed"}})?n({accessToken:null,refreshToken:null,error:s.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:null}):s.matches({authentication:"signedIn"})&&n({accessToken:s.context.accessToken.value,refreshToken:s.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,needsMfaOtp:!1,mfa:null,user:s.context.user})})}),kp=(e,t,r)=>new Promise(n=>{const{changed:i}=e.send("PASSWORDLESS_EMAIL",{email:t,options:r});if(!i)return n({error:ut,isError:!0,isSuccess:!1});e.onTransition(o=>{o.matches("registration.incomplete.failed")?n({error:o.context.errors.registration||null,isError:!0,isSuccess:!1}):o.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})&&n({error:null,isError:!1,isSuccess:!0})})}),US=(e,t)=>new Promise(r=>{const{changed:n,context:i}=e.send({type:"SIGNIN_SECURITY_KEY_EMAIL",email:t});if(!n)return r({accessToken:i.accessToken.value,refreshToken:i.refreshToken.value,error:ut,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:i.user});e.onTransition(o=>{o.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?r({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):o.matches({authentication:{signedOut:"failed"}})?r({accessToken:null,refreshToken:null,error:o.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):o.matches({authentication:"signedIn"})&&r({accessToken:o.context.accessToken.value,refreshToken:o.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:o.context.user})})});function Tp(e){return{error:e.message||"Something went wrong!",status:e.status||1,message:e.message||"Something went wrong!"}}const $S=async(e,t)=>{var r,n;const i=(r=e.interpreter)==null?void 0:r.getSnapshot(),o=i==null?void 0:i.context.accessToken.value;let s;try{s=(await Vt(`${e.backendUrl}/elevate/webauthn`,{email:t},o)).data}catch(l){return{error:Tp(l),isError:!0,isSuccess:!1,elevated:!1}}let a;try{a=await Ac(s)}catch(l){return{error:Tp(l),isError:!0,isSuccess:!1,elevated:!1}}try{const{data:{session:l},error:u}=await Vt(`${e.backendUrl}/elevate/webauthn/verify`,{email:t,credential:a},o);return l&&!u?((n=e.interpreter)==null||n.send({type:"SESSION_UPDATE",data:{session:l}}),{error:null,isError:!1,isSuccess:!0,elevated:!0}):{error:u,isError:!0,isSuccess:!1,elevated:!1}}catch(l){const{error:u}=l;return{error:u,isError:!0,isSuccess:!1,elevated:!1}}},Fg=(e,t,r)=>new Promise(n=>{const{changed:i,context:o}=e.send("SIGNIN_MFA_TOTP",{otp:t,ticket:r});if(!i)return n({accessToken:o.accessToken.value,refreshToken:o.refreshToken.value,error:ut,isError:!0,isSuccess:!1,user:o.user});e.onTransition(s=>{s.matches({authentication:{signedOut:"failed"}})?n({accessToken:null,refreshToken:null,error:s.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null}):s.matches({authentication:"signedIn"})&&n({accessToken:s.context.accessToken.value,refreshToken:s.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,user:s.context.user})})}),zS=(e,t)=>new Promise(r=>{const{changed:n}=e.send("SIGNIN_PAT",{pat:t});n||r({isSuccess:!1,isError:!0,error:ut,user:null,accessToken:null,refreshToken:null}),e.onTransition(i=>{if(i.matches({authentication:{signedOut:"failed"}}))return r({accessToken:null,refreshToken:null,user:null,error:i.context.errors.authentication||null,isError:!0,isSuccess:!1});if(i.matches({authentication:"signedIn"}))return r({accessToken:i.context.accessToken.value,refreshToken:i.context.refreshToken.value,user:i.context.user,error:null,isError:!1,isSuccess:!0})})}),_p=(e,t,r)=>new Promise(n=>{const{changed:i}=e.send("PASSWORDLESS_SMS",{phoneNumber:t,options:r});if(!i)return n({error:ut,isError:!0,isSuccess:!1,needsOtp:!1});e.onTransition(o=>{o.matches("registration.incomplete.needsOtp")?n({error:null,isError:!1,isSuccess:!1,needsOtp:!0}):o.matches("registration.incomplete.failed")&&n({error:o.context.errors.authentication||null,isError:!0,isSuccess:!1,needsOtp:!1})})}),VS=(e,t,r)=>new Promise(n=>{const{changed:i}=e.send({type:"PASSWORDLESS_SMS_OTP",phoneNumber:t,otp:r});if(!i)return n({error:ut,isError:!0,isSuccess:!1,user:null,accessToken:null,refreshToken:null});e.onTransition(o=>{o.matches({authentication:"signedIn"})?n({error:null,isError:!1,isSuccess:!0,user:o.context.user,accessToken:o.context.accessToken.value,refreshToken:o.context.refreshToken.value}):o.matches({registration:{incomplete:"failed"}})&&n({error:o.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null,accessToken:null,refreshToken:null})})}),Ug=async(e,t)=>new Promise(r=>{const{event:n}=e.send("SIGNOUT",{all:t});if(n.type!=="SIGNED_OUT")return r({isSuccess:!1,isError:!0,error:cS});e.onTransition(i=>{i.matches({authentication:{signedOut:"success"}})?r({isSuccess:!0,isError:!1,error:null}):i.matches("authentication.signedOut.failed")&&r({isSuccess:!1,isError:!0,error:i.context.errors.signout||null})})}),Lc=(e,t,r,n,i)=>new Promise(o=>{const{changed:s,context:a}=e.send("SIGNUP_EMAIL_PASSWORD",{email:t,password:r,options:n,requestOptions:i});if(!s)return o({error:ut,accessToken:a.accessToken.value,refreshToken:a.refreshToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:a.user});e.onTransition(l=>{l.matches("registration.incomplete.failed")?o({accessToken:null,refreshToken:null,error:l.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):l.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?o({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):l.matches({authentication:"signedIn",registration:"complete"})&&o({accessToken:l.context.accessToken.value,refreshToken:l.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:l.context.user})})}),BS=(e,t,r,n)=>new Promise(i=>{const{changed:o,context:s}=e.send("SIGNUP_SECURITY_KEY",{email:t,options:r,requestOptions:n});if(!o)return i({error:ut,accessToken:s.accessToken.value,refreshToken:s.refreshToken.value,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:s.user});e.onTransition(a=>{a.matches("registration.incomplete.failed")?i({accessToken:null,refreshToken:null,error:a.context.errors.registration||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):a.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?i({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):a.matches({authentication:"signedIn",registration:"complete"})&&i({accessToken:a.context.accessToken.value,refreshToken:a.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:a.context.user})})}),qS=(e,t,r)=>new Promise(n=>{const{changed:i}=e.send("SIGNIN_EMAIL_OTP",{email:t,options:r});if(!i)return n({error:ut,isError:!0,isSuccess:!1,needsOtp:!1});e.onTransition(o=>{o.matches("registration.incomplete.needsOtp")?n({error:null,isError:!1,isSuccess:!0,needsOtp:!0}):o.matches("registration.incomplete.failed")&&n({error:o.context.errors.authentication||null,isError:!0,isSuccess:!1,needsOtp:!1})})}),QS=(e,t,r)=>new Promise(n=>{const{changed:i}=e.send({type:"VERIFY_EMAIL_OTP",email:t,otp:r});if(!i)return n({error:ut,isError:!0,isSuccess:!1,user:null,accessToken:null,refreshToken:null});e.onTransition(o=>{o.matches({authentication:"signedIn"})?n({error:null,isError:!1,isSuccess:!0,user:o.context.user,accessToken:o.context.accessToken.value,refreshToken:o.context.refreshToken.value}):o.matches({registration:{incomplete:"failed"}})&&n({error:o.context.errors.authentication||null,isError:!0,isSuccess:!1,user:null,accessToken:null,refreshToken:null})})}),WS=(e,{provider:t,idToken:r,nonce:n})=>new Promise(i=>{const{changed:o}=e.send("SIGNIN_ID_TOKEN",{provider:t,idToken:r,...n&&{nonce:n}});o||i({isSuccess:!1,isError:!0,error:ut,user:null,accessToken:null,refreshToken:null}),e.onTransition(s=>{if(s.matches({authentication:{signedOut:"failed"}}))return i({accessToken:null,refreshToken:null,user:null,error:s.context.errors.authentication||null,isError:!0,isSuccess:!1});if(s.matches({authentication:"signedIn"}))return i({accessToken:s.context.accessToken.value,refreshToken:s.context.refreshToken.value,user:s.context.user,error:null,isError:!1,isSuccess:!0})})}),HS=async({backendUrl:e,interpreter:t},{provider:r,idToken:n,nonce:i})=>{try{return await Vt(`${e}/link/idtoken`,{provider:r,idToken:n,...i&&{nonce:i}},t==null?void 0:t.getSnapshot().context.accessToken.value),{isError:!1,error:null,isSuccess:!0}}catch(o){const{error:s}=o;return{isError:!0,error:s,isSuccess:!1}}},GS=e=>new Promise(t=>{const{changed:r,context:n}=e.send({type:"SIGNIN_SECURITY_KEY"});if(!r)return t({accessToken:n.accessToken.value,refreshToken:n.refreshToken.value,error:ut,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:n.user});e.onTransition(i=>{i.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}})?t({accessToken:null,refreshToken:null,error:null,isError:!1,isSuccess:!1,needsEmailVerification:!0,user:null}):i.matches({authentication:{signedOut:"failed"}})?t({accessToken:null,refreshToken:null,error:i.context.errors.authentication||null,isError:!0,isSuccess:!1,needsEmailVerification:!1,user:null}):i.matches({authentication:"signedIn"})&&t({accessToken:i.context.accessToken.value,refreshToken:i.context.refreshToken.value,error:null,isError:!1,isSuccess:!0,needsEmailVerification:!1,user:i.context.user})})}),KS=async({backendUrl:e,interpreter:t},{expiresAt:r,metadata:n})=>{try{const{data:i}=await Vt(`${e}/pat`,{expiresAt:r.toISOString(),metadata:n},t==null?void 0:t.getSnapshot().context.accessToken.value);return{data:i?{id:i.id||null,personalAccessToken:i.personalAccessToken||null}:null,isError:!1,error:null,isSuccess:!0}}catch(i){const{error:o}=i;return{isError:!0,error:o,isSuccess:!1,data:null}}};class YS{constructor({url:t,broadcastKey:r,autoRefreshToken:n=!0,autoSignIn:i=!0,clientStorage:o,clientStorageType:s,refreshIntervalTime:a,start:l=!0}){var u;this.url=t,this._client=new RS({backendUrl:t,clientUrl:typeof window<"u"&&((u=window.location)==null?void 0:u.origin)||"",broadcastKey:r,autoRefreshToken:n,autoSignIn:i,start:l,clientStorage:o,clientStorageType:s,refreshIntervalTime:a})}async signUp(t,r){const n=await this.waitUntilReady();if("securityKey"in t){const{email:a,options:l}=t;return Ct(await BS(n,a,l,r))}const{email:i,password:o,options:s}=t;return Ct(await Lc(n,i,o,s,r))}async connectProvider(t){const r=(await this.waitUntilReady()).getSnapshot().context.accessToken.value,{provider:n,options:i}=t,o=Dc(`${this._client.backendUrl}/signin/provider/${n}`,xt(this._client.clientUrl,{...i,connect:r}));return bp()&&(window.location.href=o),{providerUrl:o}}async signInIdToken(t){const r=await this.waitUntilReady(),n=await WS(r,t);return{...Ct(n),mfa:null}}async linkIdToken(t){return HS(this._client,t)}async signIn(t){const r=await this.waitUntilReady();if(!t){const n=await FS(r);return{...Ct(n),mfa:null}}if("provider"in t){const{provider:n,options:i}=t,o=Dc(`${this._client.backendUrl}/signin/provider/${n}`,xt(this._client.clientUrl,i));return bp()&&(window.location.href=o),{providerUrl:o,provider:n,session:null,mfa:null,error:null}}if("email"in t&&"password"in t){const n=await Lg(r,t.email,t.password);return n.needsEmailVerification?{session:null,mfa:null,error:fS}:n.needsMfaOtp?{session:null,mfa:n.mfa,error:null}:{...Ct(n),mfa:null}}if("email"in t&&"securityKey"in t){if(t.securityKey!==!0)throw Error("securityKey must be true");const n=await US(r,t.email);return{...Ct(n),mfa:null}}if("email"in t){const{email:n,options:i}=t,{error:o}=await kp(r,n,i);return{session:null,mfa:null,error:o}}if("phoneNumber"in t&&"otp"in t){const n=await VS(r,t.phoneNumber,t.otp);return{...Ct(n),mfa:null}}if("phoneNumber"in t){const{error:n}=await _p(r,t.phoneNumber,t.options);return{error:n,mfa:null,session:null}}if("otp"in t){const n=await Fg(r,t.otp,t.ticket);return{...Ct(n),mfa:null}}return{error:hS,mfa:null,session:null}}async signInPAT(t){const r=await this.waitUntilReady(),n=await zS(r,t);return Ct(n)}async signInEmailOTP(t,r){const n=await this.waitUntilReady(),{error:i}=await qS(n,t,r);return{error:i,session:null,mfa:null}}async verifyEmailOTP(t,r){const n=await this.waitUntilReady(),i=await QS(n,t,r);return{...Ct(i),mfa:null}}async signInSecurityKey(){const t=await this.waitUntilReady(),r=await GS(t);return{...Ct(r),mfa:null}}async signOut(t){const r=await this.waitUntilReady(),{error:n}=await Ug(r,t==null?void 0:t.all);return{error:n}}async resetPassword({email:t,options:r}){const n=an(IS(this._client)).start(),{error:i}=await MS(n,t,r);return{error:i}}async changePassword({newPassword:t,ticket:r}){const n=an(CS(this._client)).start(),{error:i}=await DS(n,t,r);return{error:i}}async sendVerificationEmail({email:t,options:r}){const n=an(jS(this._client)).start(),{error:i}=await LS(n,t,r);return{error:i}}async changeEmail({newEmail:t,options:r}){const n=an(OS(this._client)).start(),{error:i}=await AS(n,t,r);return{error:i}}async deanonymize(t){const r=await this.waitUntilReady();if(t.signInMethod==="passwordless"){if(t.connection==="email"){const{error:n}=await kp(r,t.email,t.options);return{error:n}}if(t.connection==="sms"){const{error:n}=await _p(r,t.phoneNumber,t.options);return{error:n}}}if(t.signInMethod==="email-password"){const{error:n}=await Lc(r,t.email,t.password,t.options);return{error:n}}throw Error("Unknown deanonymization method")}async addSecurityKey(t){const{error:r,key:n}=await PS(this._client,t);return{error:r,key:n}}async elevateEmailSecurityKey(t){if(!t)throw Error("A user email is required");return{...await $S(this._client,t),mfa:null}}async createPAT(t,r){return KS(this._client,{expiresAt:t,metadata:r})}onTokenChanged(t){return this._client.subscribe(()=>{var r;const n=(r=this._client.interpreter)==null?void 0:r.onTransition(({event:i,context:o})=>{i.type==="TOKEN_CHANGED"&&t(Ds(o))});return()=>n==null?void 0:n.stop()})}onAuthStateChanged(t){return this._client.subscribe(()=>{var r;const n=(r=this._client.interpreter)==null?void 0:r.onTransition(({event:i,context:o})=>{(i.type==="SIGNED_IN"||i.type==="SIGNED_OUT")&&t(i.type,Ds(o))});return()=>n==null?void 0:n.stop()})}isAuthenticated(){var t;return!!((t=this._client.interpreter)!=null&&t.getSnapshot().matches({authentication:"signedIn"}))}async isAuthenticatedAsync(){return(await this.waitUntilReady()).getSnapshot().matches({authentication:"signedIn"})}getAuthenticationStatus(){var t;const r=((t=this.client.interpreter)==null?void 0:t.getSnapshot().context.importTokenAttempts)||0;return this.isReady()?{isAuthenticated:this.isAuthenticated(),isLoading:!1,connectionAttempts:r}:{isAuthenticated:!1,isLoading:!0,connectionAttempts:r}}getAccessToken(){var t,r;return(r=(t=this._client.interpreter)==null?void 0:t.getSnapshot().context.accessToken.value)!=null?r:void 0}getDecodedAccessToken(){const t=this.getAccessToken();return t?md(t):null}getHasuraClaims(){var t;return((t=this.getDecodedAccessToken())==null?void 0:t["https://hasura.io/jwt/claims"])||null}getHasuraClaim(t){var r;return((r=this.getHasuraClaims())==null?void 0:r[t.startsWith("x-hasura-")?t:`x-hasura-${t}`])||null}async refreshSession(t){try{const r=await this.waitUntilReady();return new Promise(n=>{const i=t||r.getSnapshot().context.refreshToken.value;if(!i)return n({session:null,error:lS});const{changed:o}=r.send("TRY_TOKEN",{token:i});if(!o)return n({session:null,error:uS});r.onTransition(s=>{s.matches({token:{idle:"error"}})?n({session:null,error:dS}):s.event.type==="TOKEN_CHANGED"&&n({session:Ds(s.context),error:null})})})}catch(r){return{session:null,error:r.message}}}getSession(){var t,r;return Ds((r=(t=this._client.interpreter)==null?void 0:t.getSnapshot())==null?void 0:r.context)}async initWithSession({session:t}){this.client.start({initialSession:t}),await this.waitUntilReady()}getUser(){var t,r,n;return((n=(r=(t=this._client.interpreter)==null?void 0:t.getSnapshot())==null?void 0:r.context)==null?void 0:n.user)||null}waitUntilReady(){const t=this._client.interpreter;if(!t)throw Error("Auth interpreter not set");return t.getSnapshot().hasTag("loading")?new Promise((r,n)=>{let i=setTimeout(()=>n("The state machine is not yet ready after 15 seconds."),15e3);t.onTransition(o=>{if(!o.hasTag("loading"))return clearTimeout(i),r(t)})}):Promise.resolve(t)}isReady(){var t,r;return!((r=(t=this._client.interpreter)==null?void 0:t.getSnapshot())!=null&&r.hasTag("loading"))}get client(){return this._client}}var JS=typeof self=="object"?self.FormData:window.FormData;const $g=Zo(JS);var XS=Object.defineProperty,ZS=(e,t,r)=>t in e?XS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qn=(e,t,r)=>ZS(e,typeof t!="symbol"?t+"":t,r);let Np=globalThis.fetch;const Op=async(e,t,{accessToken:r,name:n,fileId:i,bucketId:o,adminSecret:s,onUploadProgress:a,headers:l={}}={})=>{var u;const c={...l};o&&t.append("bucket-id",o),s&&(c["x-hasura-admin-secret"]=s),r&&(c.Authorization=`Bearer ${r}`);const h=`${e}/files`;if(typeof XMLHttpRequest>"u")try{t instanceof $g&&(Np=Ed().fetch);const f=await Np(h,{method:"POST",headers:c,body:t}),d=await f.json();return f.ok?{fileMetadata:d,error:null}:{error:{status:f.status,message:((u=d==null?void 0:d.error)==null?void 0:u.message)||f.statusText,error:f.statusText},fileMetadata:null}}catch(f){return{error:{status:0,message:f.message,error:f.message},fileMetadata:null}}return new Promise(f=>{let d=new XMLHttpRequest;d.responseType="json",d.onload=()=>{var m,x,w,y,p,g,b,S;if(d.status<200||d.status>=300){const _={error:(p=(y=(x=(m=d.response)==null?void 0:m.error)==null?void 0:x.message)!=null?y:(w=d.response)==null?void 0:w.error)!=null?p:d.response,message:(S=(b=(g=d.response)==null?void 0:g.error)==null?void 0:b.message)!=null?S:d.response,status:d.status};return f({fileMetadata:null,error:_})}return f({fileMetadata:d.response,error:null})},d.onerror=()=>{const m={error:d.statusText,message:d.statusText,status:d.status};return f({fileMetadata:null,error:m})},a&&d.upload.addEventListener("progress",a,!1),d.open("POST",h,!0),Object.entries(c).forEach(([m,x])=>{d.setRequestHeader(m,x)}),d.send(t)})};function Fc(e,t){if(!t||Object.keys(t).length===0)return e;const r=new URL(e),n=Object.entries(t).reduce((i,[o,s])=>({...i,[o.charAt(0)]:s}),{});return Object.entries(n).forEach(([i,o])=>{o&&r.searchParams.set(i,o)}),r.toString()}let xo;typeof xo>"u"&&(xo=Ed().fetch);class eE{constructor({url:t}){Qn(this,"url"),Qn(this,"accessToken"),Qn(this,"adminSecret"),Qn(this,"headers",{}),this.url=t}async uploadFormData({formData:t,bucketId:r,headers:n}){const{error:i,fileMetadata:o}=await Op(this.url,t,{bucketId:r,headers:{...this.headers,...n},accessToken:this.accessToken,adminSecret:this.adminSecret});return i?{fileMetadata:null,error:i}:o&&!("processedFiles"in o)?{fileMetadata:{processedFiles:[o]},error:null}:{fileMetadata:o,error:null}}async uploadFile({file:t,bucketId:r,id:n,name:i,headers:o}){const s=typeof window>"u"?new $g:new FormData;s.append("file[]",t),s.append("metadata[]",JSON.stringify({id:n,name:i}));const{error:a,fileMetadata:l}=await Op(this.url,s,{accessToken:this.accessToken,adminSecret:this.adminSecret,bucketId:r,fileId:n,name:i,headers:{...this.headers,...o}});return a?{fileMetadata:null,error:a}:l&&"processedFiles"in l?{fileMetadata:l.processedFiles[0],error:null}:{fileMetadata:l,error:null}}async downloadFile(t){try{const{fileId:r,headers:n,...i}=t,o=Fc(`${this.url}/files/${r}`,i),s=await xo(o,{method:"GET",headers:{...this.generateAuthHeaders(),...this.headers,...n}});if(!s.ok)throw new Error(await s.text());return{file:await s.blob(),error:null}}catch(r){return{file:null,error:r}}}async getPresignedUrl(t){try{const{fileId:r,headers:n}=t,i=await xo(`${this.url}/files/${r}/presignedurl`,{method:"GET",headers:{...this.generateAuthHeaders(),...this.headers,...n}});if(!i.ok)throw new Error(await i.text());return{presignedUrl:await i.json(),error:null}}catch(r){return{presignedUrl:null,error:r}}}async delete(t){try{const{fileId:r,headers:n}=t,i=await xo(`${this.url}/files/${r}`,{method:"DELETE",headers:{...this.generateAuthHeaders(),...this.headers,...n}});if(!i.ok)throw new Error(await i.text());return{error:null}}catch(r){return{error:r}}}setAccessToken(t){return this.accessToken=t,this}setAdminSecret(t){return this.adminSecret=t,this}getHeaders(){return this.headers}setHeaders(t){return t?(this.headers={...this.headers,...t},this):this}unsetHeaders(){const t=this.headers["x-hasura-role"];return this.headers=t?{"x-hasura-role":t}:{},this}generateAuthHeaders(){if(!(!this.adminSecret&&!this.accessToken))return this.adminSecret?{"x-hasura-admin-secret":this.adminSecret}:{Authorization:`Bearer ${this.accessToken}`}}}class tE{constructor({url:t,adminSecret:r}){Qn(this,"url"),Qn(this,"api"),this.url=t,this.api=new eE({url:t}),this.setAdminSecret(r)}async upload(t){return"file"in t?this.api.uploadFile(t):this.api.uploadFormData(t)}getPublicUrl(t){const{fileId:r,...n}=t;return Fc(`${this.url}/files/${r}`,n)}async getPresignedUrl(t){const{fileId:r,headers:n,...i}=t,{presignedUrl:o,error:s}=await this.api.getPresignedUrl(t);if(s)return{presignedUrl:null,error:s};if(!o)return{presignedUrl:null,error:new Error("Invalid file id")};const a=Fc(o.url,i);return{presignedUrl:{...o,url:a},error:null}}async download(t){const{file:r,error:n}=await this.api.downloadFile(t);return n?{file:null,error:n}:r?{file:r,error:null}:{file:null,error:new Error("File does not exist")}}async delete(t){const{error:r}=await this.api.delete(t);return r?{error:r}:{error:null}}setAccessToken(t){return this.api.setAccessToken(t),this}setAdminSecret(t){return this.api.setAdminSecret(t),this}getHeaders(){return this.api.getHeaders()}setHeaders(t){return this.api.setHeaders(t),this}unsetHeaders(){return this.api.unsetHeaders(),this}}function rE(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],s=[],a={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return s},get:function(c){return a[c.toLowerCase()]},has:function(c){return c.toLowerCase()in a}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,h,f){o.push(h=h.toLowerCase()),s.push([h,f]),a[h]=a[h]?a[h]+","+f:f}),r(l())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)})}const nE=Object.freeze(Object.defineProperty({__proto__:null,default:rE},Symbol.toStringTag,{value:"Module"})),Cp=Ax(nE);var iE=self.fetch||(self.fetch=Cp.default||Cp);const zg=Zo(iE);function ia(e,t){if(!!!e)throw new Error(t)}function oE(e){return typeof e=="object"&&e!==null}function sE(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const aE=/\r\n|[\n\r]/g;function Uc(e,t){let r=0,n=1;for(const i of e.body.matchAll(aE)){if(typeof i.index=="number"||sE(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function lE(e){return Vg(e.source,Uc(e.source,e.start))}function Vg(e,t){const r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=t.line===1?r:0,l=t.column+a,u=`${e.name}:${s}:${l}
`,c=n.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){const f=Math.floor(l/80),d=l%80,m=[];for(let x=0;x<h.length;x+=80)m.push(h.slice(x,x+80));return u+Ip([[`${s} |`,m[0]],...m.slice(1,f+1).map(x=>["|",x]),["|","^".padStart(d)],["|",m[f+1]]])}return u+Ip([[`${s-1} |`,c[i-1]],[`${s} |`,h],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function Ip(e){const t=e.filter(([n,i])=>i!==void 0),r=Math.max(...t.map(([n])=>n.length));return t.map(([n,i])=>n.padStart(r)+(i?" "+i:"")).join(`
`)}function uE(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Td extends Error{constructor(t,...r){var n,i,o;const{nodes:s,source:a,positions:l,path:u,originalError:c,extensions:h}=uE(r);super(t),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=jp(Array.isArray(s)?s:s?[s]:void 0);const f=jp((n=this.nodes)===null||n===void 0?void 0:n.map(m=>m.loc).filter(m=>m!=null));this.source=a??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=l??(f==null?void 0:f.map(m=>m.start)),this.locations=l&&a?l.map(m=>Uc(a,m)):f==null?void 0:f.map(m=>Uc(m.source,m.start));const d=oE(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(o=h??d)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Td):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const r of this.nodes)r.loc&&(t+=`

`+lE(r.loc));else if(this.source&&this.locations)for(const r of this.locations)t+=`

`+Vg(this.source,r);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function jp(e){return e===void 0||e.length===0?void 0:e}function Ue(e,t,r){return new Td(`Syntax Error: ${r}`,{source:e,positions:[t]})}class cE{constructor(t,r,n){this.start=t.start,this.end=r.end,this.startToken=t,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Bg{constructor(t,r,n,i,o,s){this.kind=t,this.start=r,this.end=n,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const qg={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},fE=new Set(Object.keys(qg));function Rp(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&fE.has(t)}var Wn;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Wn||(Wn={}));var $c;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})($c||($c={}));var z;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(z||(z={}));function zc(e){return e===9||e===32}function Qo(e){return e>=48&&e<=57}function Qg(e){return e>=97&&e<=122||e>=65&&e<=90}function Wg(e){return Qg(e)||e===95}function dE(e){return Qg(e)||Qo(e)||e===95}function hE(e){var t;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let s=0;s<e.length;++s){var o;const a=e[s],l=pE(a);l!==a.length&&(n=(o=n)!==null&&o!==void 0?o:s,i=s,s!==0&&l<r&&(r=l))}return e.map((s,a)=>a===0?s:s.slice(r)).slice((t=n)!==null&&t!==void 0?t:0,i+1)}function pE(e){let t=0;for(;t<e.length&&zc(e.charCodeAt(t));)++t;return t}function vE(e,t){const r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(d=>d.length===0||zc(d.charCodeAt(0))),s=r.endsWith('\\"""'),a=e.endsWith('"')&&!s,l=e.endsWith("\\"),u=a||l,c=!(t!=null&&t.minimize)&&(!i||e.length>70||u||o||s);let h="";const f=i&&zc(e.charCodeAt(0));return(c&&!f||o)&&(h+=`
`),h+=r,(c||u)&&(h+=`
`),'"""'+h+'"""'}var j;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(j||(j={}));class mE{constructor(t){const r=new Bg(j.SOF,0,0,0,0);this.source=t,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==j.EOF)do if(t.next)t=t.next;else{const r=gE(this,t.end);t.next=r,r.prev=t,t=r}while(t.kind===j.COMMENT);return t}}function yE(e){return e===j.BANG||e===j.DOLLAR||e===j.AMP||e===j.PAREN_L||e===j.PAREN_R||e===j.SPREAD||e===j.COLON||e===j.EQUALS||e===j.AT||e===j.BRACKET_L||e===j.BRACKET_R||e===j.BRACE_L||e===j.PIPE||e===j.BRACE_R}function _i(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function xl(e,t){return Hg(e.charCodeAt(t))&&Gg(e.charCodeAt(t+1))}function Hg(e){return e>=55296&&e<=56319}function Gg(e){return e>=56320&&e<=57343}function mn(e,t){const r=e.source.body.codePointAt(t);if(r===void 0)return j.EOF;if(r>=32&&r<=126){const n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function Re(e,t,r,n,i){const o=e.line,s=1+r-e.lineStart;return new Bg(t,r,n,o,s,i)}function gE(e,t){const r=e.source.body,n=r.length;let i=t;for(;i<n;){const o=r.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:r.charCodeAt(i+1)===10?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return xE(e,i);case 33:return Re(e,j.BANG,i,i+1);case 36:return Re(e,j.DOLLAR,i,i+1);case 38:return Re(e,j.AMP,i,i+1);case 40:return Re(e,j.PAREN_L,i,i+1);case 41:return Re(e,j.PAREN_R,i,i+1);case 46:if(r.charCodeAt(i+1)===46&&r.charCodeAt(i+2)===46)return Re(e,j.SPREAD,i,i+3);break;case 58:return Re(e,j.COLON,i,i+1);case 61:return Re(e,j.EQUALS,i,i+1);case 64:return Re(e,j.AT,i,i+1);case 91:return Re(e,j.BRACKET_L,i,i+1);case 93:return Re(e,j.BRACKET_R,i,i+1);case 123:return Re(e,j.BRACE_L,i,i+1);case 124:return Re(e,j.PIPE,i,i+1);case 125:return Re(e,j.BRACE_R,i,i+1);case 34:return r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34?TE(e,i):bE(e,i)}if(Qo(o)||o===45)return wE(e,i,o);if(Wg(o))return _E(e,i);throw Ue(e.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:_i(o)||xl(r,i)?`Unexpected character: ${mn(e,i)}.`:`Invalid character: ${mn(e,i)}.`)}return Re(e,j.EOF,n,n)}function xE(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){const o=r.charCodeAt(i);if(o===10||o===13)break;if(_i(o))++i;else if(xl(r,i))i+=2;else break}return Re(e,j.COMMENT,t,i,r.slice(t+1,i))}function wE(e,t,r){const n=e.source.body;let i=t,o=r,s=!1;if(o===45&&(o=n.charCodeAt(++i)),o===48){if(o=n.charCodeAt(++i),Qo(o))throw Ue(e.source,i,`Invalid number, unexpected digit after 0: ${mn(e,i)}.`)}else i=cu(e,i,o),o=n.charCodeAt(i);if(o===46&&(s=!0,o=n.charCodeAt(++i),i=cu(e,i,o),o=n.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=n.charCodeAt(++i),(o===43||o===45)&&(o=n.charCodeAt(++i)),i=cu(e,i,o),o=n.charCodeAt(i)),o===46||Wg(o))throw Ue(e.source,i,`Invalid number, expected digit but got: ${mn(e,i)}.`);return Re(e,s?j.FLOAT:j.INT,t,i,n.slice(t,i))}function cu(e,t,r){if(!Qo(r))throw Ue(e.source,t,`Invalid number, expected digit but got: ${mn(e,t)}.`);const n=e.source.body;let i=t+1;for(;Qo(n.charCodeAt(i));)++i;return i}function bE(e,t){const r=e.source.body,n=r.length;let i=t+1,o=i,s="";for(;i<n;){const a=r.charCodeAt(i);if(a===34)return s+=r.slice(o,i),Re(e,j.STRING,t,i+1,s);if(a===92){s+=r.slice(o,i);const l=r.charCodeAt(i+1)===117?r.charCodeAt(i+2)===123?SE(e,i):EE(e,i):kE(e,i);s+=l.value,i+=l.size,o=i;continue}if(a===10||a===13)break;if(_i(a))++i;else if(xl(r,i))i+=2;else throw Ue(e.source,i,`Invalid character within String: ${mn(e,i)}.`)}throw Ue(e.source,i,"Unterminated string.")}function SE(e,t){const r=e.source.body;let n=0,i=3;for(;i<12;){const o=r.charCodeAt(t+i++);if(o===125){if(i<5||!_i(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|io(o),n<0)break}throw Ue(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}function EE(e,t){const r=e.source.body,n=Pp(r,t+2);if(_i(n))return{value:String.fromCodePoint(n),size:6};if(Hg(n)&&r.charCodeAt(t+6)===92&&r.charCodeAt(t+7)===117){const i=Pp(r,t+8);if(Gg(i))return{value:String.fromCodePoint(n,i),size:12}}throw Ue(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}function Pp(e,t){return io(e.charCodeAt(t))<<12|io(e.charCodeAt(t+1))<<8|io(e.charCodeAt(t+2))<<4|io(e.charCodeAt(t+3))}function io(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function kE(e,t){const r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ue(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}function TE(e,t){const r=e.source.body,n=r.length;let i=e.lineStart,o=t+3,s=o,a="";const l=[];for(;o<n;){const u=r.charCodeAt(o);if(u===34&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34){a+=r.slice(s,o),l.push(a);const c=Re(e,j.BLOCK_STRING,t,o+3,hE(l).join(`
`));return e.line+=l.length-1,e.lineStart=i,c}if(u===92&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34&&r.charCodeAt(o+3)===34){a+=r.slice(s,o),s=o+1,o+=4;continue}if(u===10||u===13){a+=r.slice(s,o),l.push(a),u===13&&r.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(_i(u))++o;else if(xl(r,o))o+=2;else throw Ue(e.source,o,`Invalid character within String: ${mn(e,o)}.`)}throw Ue(e.source,o,"Unterminated string.")}function _E(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){const o=r.charCodeAt(i);if(dE(o))++i;else break}return Re(e,j.NAME,t,i,r.slice(t,i))}const NE=10,Kg=2;function _d(e){return wl(e,[])}function wl(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return OE(e,t);default:return String(e)}}function OE(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(CE(e)){const n=e.toJSON();if(n!==e)return typeof n=="string"?n:wl(n,r)}else if(Array.isArray(e))return jE(e,r);return IE(e,r)}function CE(e){return typeof e.toJSON=="function"}function IE(e,t){const r=Object.entries(e);return r.length===0?"{}":t.length>Kg?"["+RE(e)+"]":"{ "+r.map(([i,o])=>i+": "+wl(o,t)).join(", ")+" }"}function jE(e,t){if(e.length===0)return"[]";if(t.length>Kg)return"[Array]";const r=Math.min(NE,e.length),n=e.length-r,i=[];for(let o=0;o<r;++o)i.push(wl(e[o],t));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function RE(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}const PE=globalThis.process&&!0,AE=PE?function(t,r){return t instanceof r}:function(t,r){if(t instanceof r)return!0;if(typeof t=="object"&&t!==null){var n;const i=r.prototype[Symbol.toStringTag],o=Symbol.toStringTag in t?t[Symbol.toStringTag]:(n=t.constructor)===null||n===void 0?void 0:n.name;if(i===o){const s=_d(t);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Yg{constructor(t,r="GraphQL request",n={line:1,column:1}){typeof t=="string"||ia(!1,`Body must be a string. Received: ${_d(t)}.`),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||ia(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ia(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function DE(e){return AE(e,Yg)}function Jg(e,t){const r=new ME(e,t),n=r.parseDocument();return Object.defineProperty(n,"tokenCount",{enumerable:!1,value:r.tokenCount}),n}class ME{constructor(t,r={}){const n=DE(t)?t:new Yg(t);this._lexer=new mE(n),this._options=r,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(j.NAME);return this.node(t,{kind:z.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:z.DOCUMENT,definitions:this.many(j.SOF,this.parseDefinition,j.EOF)})}parseDefinition(){if(this.peek(j.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),r=t?this._lexer.lookahead():this._lexer.token;if(r.kind===j.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ue(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(j.BRACE_L))return this.node(t,{kind:z.OPERATION_DEFINITION,operation:Wn.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const r=this.parseOperationType();let n;return this.peek(j.NAME)&&(n=this.parseName()),this.node(t,{kind:z.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(j.NAME);switch(t.value){case"query":return Wn.QUERY;case"mutation":return Wn.MUTATION;case"subscription":return Wn.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(j.PAREN_L,this.parseVariableDefinition,j.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:z.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(j.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(j.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(j.DOLLAR),this.node(t,{kind:z.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:z.SELECTION_SET,selections:this.many(j.BRACE_L,this.parseSelection,j.BRACE_R)})}parseSelection(){return this.peek(j.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,r=this.parseName();let n,i;return this.expectOptionalToken(j.COLON)?(n=r,i=this.parseName()):i=r,this.node(t,{kind:z.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(j.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const r=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(j.PAREN_L,r,j.PAREN_R)}parseArgument(t=!1){const r=this._lexer.token,n=this.parseName();return this.expectToken(j.COLON),this.node(r,{kind:z.ARGUMENT,name:n,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(j.SPREAD);const r=this.expectOptionalKeyword("on");return!r&&this.peek(j.NAME)?this.node(t,{kind:z.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:z.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:z.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const r=this._lexer.token;switch(r.kind){case j.BRACKET_L:return this.parseList(t);case j.BRACE_L:return this.parseObject(t);case j.INT:return this.advanceLexer(),this.node(r,{kind:z.INT,value:r.value});case j.FLOAT:return this.advanceLexer(),this.node(r,{kind:z.FLOAT,value:r.value});case j.STRING:case j.BLOCK_STRING:return this.parseStringLiteral();case j.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:z.BOOLEAN,value:!0});case"false":return this.node(r,{kind:z.BOOLEAN,value:!1});case"null":return this.node(r,{kind:z.NULL});default:return this.node(r,{kind:z.ENUM,value:r.value})}case j.DOLLAR:if(t)if(this.expectToken(j.DOLLAR),this._lexer.token.kind===j.NAME){const n=this._lexer.token.value;throw Ue(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:z.STRING,value:t.value,block:t.kind===j.BLOCK_STRING})}parseList(t){const r=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:z.LIST,values:this.any(j.BRACKET_L,r,j.BRACKET_R)})}parseObject(t){const r=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:z.OBJECT,fields:this.any(j.BRACE_L,r,j.BRACE_R)})}parseObjectField(t){const r=this._lexer.token,n=this.parseName();return this.expectToken(j.COLON),this.node(r,{kind:z.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t)})}parseDirectives(t){const r=[];for(;this.peek(j.AT);)r.push(this.parseDirective(t));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const r=this._lexer.token;return this.expectToken(j.AT),this.node(r,{kind:z.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let r;if(this.expectOptionalToken(j.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(j.BRACKET_R),r=this.node(t,{kind:z.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(j.BANG)?this.node(t,{kind:z.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:z.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(j.STRING)||this.peek(j.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.many(j.BRACE_L,this.parseOperationTypeDefinition,j.BRACE_R);return this.node(t,{kind:z.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:i})}parseOperationTypeDefinition(){const t=this._lexer.token,r=this.parseOperationType();this.expectToken(j.COLON);const n=this.parseNamedType();return this.node(t,{kind:z.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();return this.node(t,{kind:z.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i})}parseObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:z.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(j.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(j.BRACE_L,this.parseFieldDefinition,j.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(j.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:z.FIELD_DEFINITION,description:r,name:n,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(j.PAREN_L,this.parseInputValueDef,j.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(j.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(j.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:z.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:z.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(t,{kind:z.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(j.EQUALS)?this.delimitedMany(j.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(t,{kind:z.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(j.BRACE_L,this.parseEnumValueDefinition,j.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(t,{kind:z.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ue(this._lexer.source,this._lexer.token.start,`${Ls(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(t,{kind:z.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(j.BRACE_L,this.parseInputValueDef,j.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===j.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.optionalMany(j.BRACE_L,this.parseOperationTypeDefinition,j.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:z.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(t,{kind:z.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:z.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(t,{kind:z.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:z.UNION_TYPE_EXTENSION,name:r,directives:n,types:i})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:z.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:z.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i})}parseDirectiveDefinition(){const t=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(j.AT);const n=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:z.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(j.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call($c,r.value))return r;throw this.unexpected(t)}node(t,r){return this._options.noLocation!==!0&&(r.loc=new cE(t,this._lexer.lastToken,this._lexer.source)),r}peek(t){return this._lexer.token.kind===t}expectToken(t){const r=this._lexer.token;if(r.kind===t)return this.advanceLexer(),r;throw Ue(this._lexer.source,r.start,`Expected ${Xg(t)}, found ${Ls(r)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const r=this._lexer.token;if(r.kind===j.NAME&&r.value===t)this.advanceLexer();else throw Ue(this._lexer.source,r.start,`Expected "${t}", found ${Ls(r)}.`)}expectOptionalKeyword(t){const r=this._lexer.token;return r.kind===j.NAME&&r.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const r=t??this._lexer.token;return Ue(this._lexer.source,r.start,`Unexpected ${Ls(r)}.`)}any(t,r,n){this.expectToken(t);const i=[];for(;!this.expectOptionalToken(n);)i.push(r.call(this));return i}optionalMany(t,r,n){if(this.expectOptionalToken(t)){const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(t,r,n){this.expectToken(t);const i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(t,r){this.expectOptionalToken(t);const n=[];do n.push(r.call(this));while(this.expectOptionalToken(t));return n}advanceLexer(){const{maxTokens:t}=this._options,r=this._lexer.advance();if(r.kind!==j.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw Ue(this._lexer.source,r.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Ls(e){const t=e.value;return Xg(e.kind)+(t!=null?` "${t}"`:"")}function Xg(e){return yE(e)?`"${e}"`:e}function LE(e){return`"${e.replace(FE,UE)}"`}const FE=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function UE(e){return $E[e.charCodeAt(0)]}const $E=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],bl=Object.freeze({});function Bt(e,t,r=qg){const n=new Map;for(const y of Object.values(z))n.set(y,zE(t,y));let i,o=Array.isArray(e),s=[e],a=-1,l=[],u=e,c,h;const f=[],d=[];do{a++;const y=a===s.length,p=y&&l.length!==0;if(y){if(c=d.length===0?void 0:f[f.length-1],u=h,h=d.pop(),p)if(o){u=u.slice();let b=0;for(const[S,_]of l){const N=S-b;_===null?(u.splice(N,1),b++):u[N]=_}}else{u={...u};for(const[b,S]of l)u[b]=S}a=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(h){if(c=o?a:s[a],u=h[c],u==null)continue;f.push(c)}let g;if(!Array.isArray(u)){var m,x;Rp(u)||ia(!1,`Invalid AST Node: ${_d(u)}.`);const b=y?(m=n.get(u.kind))===null||m===void 0?void 0:m.leave:(x=n.get(u.kind))===null||x===void 0?void 0:x.enter;if(g=b==null?void 0:b.call(t,u,c,h,f,d),g===bl)break;if(g===!1){if(!y){f.pop();continue}}else if(g!==void 0&&(l.push([c,g]),!y))if(Rp(g))u=g;else{f.pop();continue}}if(g===void 0&&p&&l.push([c,u]),y)f.pop();else{var w;i={inArray:o,index:a,keys:s,edits:l,prev:i},o=Array.isArray(u),s=o?u:(w=r[u.kind])!==null&&w!==void 0?w:[],a=-1,l=[],h&&d.push(h),h=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:e}function zE(e,t){const r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function Zg(e){return Bt(e,BE)}const VE=80,BE={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>W(e.definitions,`

`)},OperationDefinition:{leave(e){const t=ee("(",W(e.variableDefinitions,", "),")"),r=W([e.operation,W([e.name,t]),W(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+ee(" = ",r)+ee(" ",W(n," "))},SelectionSet:{leave:({selections:e})=>It(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){const o=ee("",e,": ")+t;let s=o+ee("(",W(r,", "),")");return s.length>VE&&(s=o+ee(`(
`,oa(W(r,`
`)),`
)`)),W([s,W(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+ee(" ",W(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>W(["...",ee("on ",e),W(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${ee("(",W(r,", "),")")} on ${t} ${ee("",W(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?vE(e):LE(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+W(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+W(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+ee("(",W(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>ee("",e,`
`)+W(["schema",W(t," "),It(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>ee("",e,`
`)+W(["scalar",t,W(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>ee("",e,`
`)+W(["type",t,ee("implements ",W(r," & ")),W(n," "),It(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>ee("",e,`
`)+t+(Ap(r)?ee(`(
`,oa(W(r,`
`)),`
)`):ee("(",W(r,", "),")"))+": "+n+ee(" ",W(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>ee("",e,`
`)+W([t+": "+r,ee("= ",n),W(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>ee("",e,`
`)+W(["interface",t,ee("implements ",W(r," & ")),W(n," "),It(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>ee("",e,`
`)+W(["union",t,W(r," "),ee("= ",W(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>ee("",e,`
`)+W(["enum",t,W(r," "),It(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>ee("",e,`
`)+W([t,W(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>ee("",e,`
`)+W(["input",t,W(r," "),It(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>ee("",e,`
`)+"directive @"+t+(Ap(r)?ee(`(
`,oa(W(r,`
`)),`
)`):ee("(",W(r,", "),")"))+(n?" repeatable":"")+" on "+W(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>W(["extend schema",W(e," "),It(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>W(["extend scalar",e,W(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>W(["extend type",e,ee("implements ",W(t," & ")),W(r," "),It(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>W(["extend interface",e,ee("implements ",W(t," & ")),W(r," "),It(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>W(["extend union",e,W(t," "),ee("= ",W(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>W(["extend enum",e,W(t," "),It(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>W(["extend input",e,W(t," "),It(r)]," ")}};function W(e,t=""){var r;return(r=e==null?void 0:e.filter(n=>n).join(t))!==null&&r!==void 0?r:""}function It(e){return ee(`{
`,oa(W(e,`
`)),`
}`)}function ee(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function oa(e){return ee("  ",e.replace(/\n/g,`
  `))}function Ap(e){var t;return(t=e==null?void 0:e.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}function Dp(e){return e.kind===z.FIELD||e.kind===z.FRAGMENT_SPREAD||e.kind===z.INLINE_FRAGMENT}function qE(e,t,r){return e.document?e:{document:e,variables:t,config:r}}function Mp(e){var t;let r;const n=e.definitions.filter(i=>i.kind==="OperationDefinition");return n.length===1&&(r=(t=n[0].name)==null?void 0:t.value),r}function QE(e){if(typeof e=="string"){let r;try{const n=Jg(e);r=Mp(n)}catch{}return{query:e,operationName:r}}const t=Mp(e);return{query:Zg(e),operationName:t}}let WE=class{constructor(t){this.headers={},this.isAccessTokenValidOrNull=()=>{if(!this.accessToken)return!0;try{const i=md(this.accessToken);return i.exp!=null&&i.exp*1e3>Date.now()}catch(i){return console.error("Error decoding token:",i),!1}},this.awaitForValidAccessTokenOrNull=async()=>{if(this.isAccessTokenValidOrNull())return!0;const i=()=>this.isAccessTokenValidOrNull()?Promise.resolve(!0):new Promise(o=>{setTimeout(()=>i().then(o),100)});return i()};const{url:r,adminSecret:n}=t;this._url=r,this.accessToken=null,this.adminSecret=n}async request(t,...r){const[n,i]=r,o=qE(t,n,i),{headers:s,...a}=i||{},{query:l,operationName:u}=QE(o.document);typeof process<"u"&&!{}.TEST_MODE&&await this.awaitForValidAccessTokenOrNull();try{const c=await zg(this.httpUrl,{method:"POST",body:JSON.stringify({operationName:u,query:l,variables:n}),headers:{"Content-Type":"application/json",...this.generateAccessTokenHeaders(),...this.headers,...s},...a});if(!c.ok)return{data:null,error:{error:c.statusText,message:c.statusText,status:c.status}};const{data:h,errors:f}=await c.json();return f?{data:null,error:f}:typeof h!="object"||Array.isArray(h)||h===null?{data:null,error:{error:"invalid-response",message:"incorrect response data from GraphQL server",status:0}}:{data:h,error:null}}catch(c){const h=c;return{data:null,error:{message:h.message,status:h.name==="AbortError"?0:500,error:h.name==="AbortError"?"abort-error":"unknown"}}}}get httpUrl(){return this._url}get wsUrl(){return this._url.replace(/^(http)(s?):\/\//,"ws$2://")}get url(){return this._url}getUrl(){return this._url}setAccessToken(t){if(!t){this.accessToken=null;return}this.accessToken=t}getHeaders(){return this.headers}setHeaders(t){t&&(this.headers={...this.headers,...t})}unsetHeaders(){const t=this.headers["x-hasura-role"];this.headers=t?{"x-hasura-role":t}:{}}generateAccessTokenHeaders(){return this.adminSecret?{"x-hasura-admin-secret":this.adminSecret}:this.accessToken?{Authorization:`Bearer ${this.accessToken}`}:{}}};var HE=Object.defineProperty,GE=(e,t,r)=>t in e?HE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kt=(e,t,r)=>GE(e,typeof t!="symbol"?t+"":t,r);const KE=/^((?<protocol>http[s]?):\/\/)?(?<host>(localhost|local))(:(?<port>(\d+|__\w+__)))?$/;function Sl(e,t){const{subdomain:r,region:n}=e;if(!r)throw new Error("A `subdomain` must be set.");const i=r.match(KE);if(i!=null&&i.groups){const{protocol:o,host:s,port:a}=i.groups;return XE(t)||(s==="localhost"?(console.warn('The `subdomain` is set to "localhost". Support for this will be removed in a future release. Please use "local" instead.'),`${o||"http"}://localhost:${a||1337}/v1/${t}`):a?`${o||"https"}://local.${t}.local.nhost.run:${a}/v1`:`${o||"https"}://local.${t}.local.nhost.run/v1`)}if(!n)throw new Error('`region` must be set when using a `subdomain` other than "local".');return`https://${r}.${t}.${n}.nhost.run/v1`}function YE(){return typeof window<"u"}function JE(){return typeof process<"u"&&process.env}function XE(e){return YE()||!JE()?null:process.env[`NHOST_${e.toUpperCase()}_URL`]}function ZE(e,t){const r=t.startsWith("/")?t:`/${t}`;return e+r}function ek(e){const t="subdomain"in e?Sl(e,"auth"):e.authUrl,{subdomain:r,region:n}=e;if(!t)throw new Error("Please provide `subdomain` or `authUrl`.");return new YS({url:t,broadcastKey:`${r}${n??"local"}`,...e})}function tk(e){const t="subdomain"in e?Sl(e,"functions"):e.functionsUrl;if(!t)throw new Error("Please provide `subdomain` or `functionsUrl`.");return new rk({url:t,...e})}class rk{constructor(t){Kt(this,"url"),Kt(this,"accessToken"),Kt(this,"adminSecret"),Kt(this,"headers",{});const{url:r,adminSecret:n}=t;this.url=r,this.accessToken=null,this.adminSecret=n}async call(t,r,n){var i,o;const s={"Content-Type":"application/json",...this.generateAccessTokenHeaders(),...n==null?void 0:n.headers,...this.headers},a=ZE(this.url,t);try{const l=await zg(a,{body:r?JSON.stringify(r):null,headers:s,method:"POST"});if(!l.ok){let c;return(i=l.headers.get("content-type"))!=null&&i.includes("application/json")?c=await l.json():c=await l.text(),{res:null,error:{message:c,error:l.statusText,status:l.status}}}let u;return(o=l.headers.get("content-type"))!=null&&o.includes("application/json")?u=await l.json():u=await l.text(),{res:{data:u,status:l.status,statusText:l.statusText},error:null}}catch(l){const u=l;return{res:null,error:{message:u.message,status:u.name==="AbortError"?0:500,error:u.name==="AbortError"?"abort-error":"unknown"}}}}setAccessToken(t){if(!t){this.accessToken=null;return}this.accessToken=t}getHeaders(){return this.headers}setHeaders(t){t&&(this.headers={...this.headers,...t})}unsetHeaders(){const t=this.headers["x-hasura-role"];this.headers=t?{"x-hasura-role":t}:{}}generateAccessTokenHeaders(){return this.adminSecret?{"x-hasura-admin-secret":this.adminSecret}:this.accessToken?{Authorization:`Bearer ${this.accessToken}`}:{}}}function nk(e){const t="subdomain"in e?Sl(e,"graphql"):e.graphqlUrl;if(!t)throw new Error("Please provide `subdomain` or `graphqlUrl`.");return new WE({url:t,...e})}function ik(e){const t="subdomain"in e?Sl(e,"storage"):e.storageUrl;if(!t)throw new Error("Please provide `subdomain` or `storageUrl`.");return new tE({url:t,...e})}class ok{constructor({refreshIntervalTime:t,clientStorage:r,clientStorageType:n,autoRefreshToken:i,autoSignIn:o,adminSecret:s,devTools:a,start:l=!0,...u}){Kt(this,"auth"),Kt(this,"storage"),Kt(this,"functions"),Kt(this,"graphql"),Kt(this,"_adminSecret"),Kt(this,"devTools"),this.auth=ek({refreshIntervalTime:t,clientStorage:r,clientStorageType:n,autoRefreshToken:i,autoSignIn:o,start:l,...u}),this.storage=ik({adminSecret:s,...u}),this.functions=tk({adminSecret:s,...u}),this.graphql=nk({adminSecret:s,...u}),this.auth.onAuthStateChanged((c,h)=>{if(c==="SIGNED_OUT"){this.storage.setAccessToken(void 0),this.functions.setAccessToken(void 0),this.graphql.setAccessToken(void 0);return}const f=h==null?void 0:h.accessToken;this.storage.setAccessToken(f),this.functions.setAccessToken(f),this.graphql.setAccessToken(f)}),this.auth.onTokenChanged(c=>{const h=c==null?void 0:c.accessToken;this.storage.setAccessToken(h),this.functions.setAccessToken(h),this.graphql.setAccessToken(h)}),this._adminSecret=s,this.devTools=a}get adminSecret(){return this._adminSecret}set adminSecret(t){this._adminSecret=t,this.storage.setAdminSecret(t)}setRole(t){this.graphql.setHeaders({"x-hasura-role":t}),this.storage.setHeaders({"x-hasura-role":t}),this.functions.setHeaders({"x-hasura-role":t})}unsetRole(){this.graphql.setHeaders((({"x-hasura-role":t,...r})=>r)(this.graphql.getHeaders())),this.storage.setHeaders((({"x-hasura-role":t,...r})=>r)(this.storage.getHeaders())),this.functions.setHeaders((({"x-hasura-role":t,...r})=>r)(this.functions.getHeaders()))}}var e0={exports:{}},t0={},r0={exports:{}},n0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=I;function sk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ak=typeof Object.is=="function"?Object.is:sk,lk=yi.useState,uk=yi.useEffect,ck=yi.useLayoutEffect,fk=yi.useDebugValue;function dk(e,t){var r=t(),n=lk({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return ck(function(){i.value=r,i.getSnapshot=t,fu(i)&&o({inst:i})},[e,r,t]),uk(function(){return fu(i)&&o({inst:i}),e(function(){fu(i)&&o({inst:i})})},[e]),fk(r),r}function fu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ak(e,r)}catch{return!0}}function hk(e,t){return t()}var pk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hk:dk;n0.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:pk;r0.exports=n0;var vk=r0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=I,mk=vk;function yk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gk=typeof Object.is=="function"?Object.is:yk,xk=mk.useSyncExternalStore,wk=El.useRef,bk=El.useEffect,Sk=El.useMemo,Ek=El.useDebugValue;t0.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=wk(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Sk(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&s.hasValue){var m=s.value;if(i(m,d))return h=m}return h=d}if(m=h,gk(c,d))return m;var x=n(d);return i!==void 0&&i(m,x)?(c=d,m):(c=d,h=x)}var u=!1,c,h,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var a=xk(e,o[0],o[1]);return bk(function(){s.hasValue=!0,s.value=a},[a]),Ek(a),a};e0.exports=t0;var kk=e0.exports,Tk=I.useLayoutEffect;function Lp(e){var t=I.useRef();return t.current||(t.current={v:e()}),t.current.v}var $a=globalThis&&globalThis.__assign||function(){return $a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$a.apply(this,arguments)},_k=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Nk=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o};function Ok(e,t){var r=Lp(function(){return typeof e=="function"?e():e}),n=t.context,i=t.guards,o=t.actions,s=t.activities,a=t.services,l=t.delays;t.state;var u=_k(t,["context","guards","actions","activities","services","delays","state"]),c=Lp(function(){var h={context:n,guards:i,actions:o,activities:s,services:a,delays:l},f=r.withConfig(h,function(){return $a($a({},r.context),n)});return an(f,u)});return Tk(function(){Object.assign(c.machine.options.actions,o),Object.assign(c.machine.options.guards,i),Object.assign(c.machine.options.activities,s),Object.assign(c.machine.options.services,a),Object.assign(c.machine.options.delays,l)},[o,i,s,a,l]),c}function Ck(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Nk(t,2),i=n[0],o=i===void 0?{}:i,s=n[1],a=Ok(e,o);return I.useEffect(function(){if(s){var l=a.subscribe(go(s));return function(){l.unsubscribe()}}},[s]),I.useEffect(function(){var l=o.state;return a.start(l?Pt.create(l):void 0),function(){a.stop(),a.status=Ae.NotStarted}},[]),a}globalThis&&globalThis.__read;globalThis&&globalThis.__values;function Ik(e){return e.status!==0?e.getSnapshot():e.machine.initialState}function jk(e){return"state"in e&&"machine"in e}function Rk(e){return"state"in e}var Pk=function(e,t){return e===t},Ak=function(e,t){if(jk(e)){if(e.status===0&&t.current)return t.current;var r=Ik(e);return t.current=e.status===0?r:null,r}return Rk(e)?e.state:void 0};function Te(e,t,r,n){r===void 0&&(r=Pk);var i=I.useRef(null),o=I.useCallback(function(l){var u=e.subscribe(l).unsubscribe;return u},[e]),s=I.useCallback(function(){return n?n(e):Ak(e,i)},[e,n]),a=kk.useSyncExternalStoreWithSelector(o,s,s,t,r);return a}const Dk=ok;class Mk extends Dk{constructor(t){super({...t,start:!1})}}const i0=I.createContext({}),Lk=({nhost:e,initial:t,...r})=>{const n=Ck(e.auth.client.machine,{devTools:e.devTools});e.auth.client.start({interpreter:n,initialSession:t,devTools:e.devTools});const i=I.useRef(!0);return I.useEffect(()=>{i.current?i.current=!1:t&&n.send("SESSION_UPDATE",{data:{session:t}})},[t,n]),Za.createElement(i0.Provider,{value:e},r.children)},as=()=>{var e;const t=(e=I.useContext(i0).auth)==null?void 0:e.client.interpreter;if(!t)throw Error("Could not find the Nhost auth client. Did you wrap your app in <NhostProvider />?");return t},Fk=()=>{const e=as();return Te(e,t=>({isAuthenticated:t.matches({authentication:"signedIn"}),isLoading:t.hasTag("loading"),error:t.context.errors.authentication||null,isError:t.matches({authentication:{signedOut:"failed"}}),connectionAttempts:t.context.importTokenAttempts}),(t,r)=>t.isAuthenticated===r.isAuthenticated&&t.isLoading===r.isLoading&&t.connectionAttempts===r.connectionAttempts)},Uk=()=>{const e=as(),t=(d,m)=>Lg(e,d,m),r=d=>Fg(e,d),n=Te(e,d=>d.context.user,(d,m)=>(d==null?void 0:d.id)===(m==null?void 0:m.id)),i=Te(e,d=>d.context.accessToken.value),o=Te(e,d=>d.context.refreshToken.value),s=Te(e,d=>d.context.errors.authentication||null,(d,m)=>(d==null?void 0:d.error)===(m==null?void 0:m.error)),a=Te(e,d=>d.matches({authentication:"signedIn"})),l=Te(e,d=>d.matches({authentication:{authenticating:"password"}}),(d,m)=>d===m),u=Te(e,d=>d.matches({authentication:{signedOut:"noErrors"},registration:{incomplete:"needsEmailVerification"}}),(d,m)=>d===m),c=Te(e,d=>d.context.mfa!==null),h=Te(e,d=>d.matches({authentication:{signedOut:"failed"}}),(d,m)=>d===m),f=Te(e,d=>d.context.mfa);return{accessToken:i,refreshToken:o,error:s,isError:h,isLoading:l,isSuccess:a,needsEmailVerification:u,needsMfaOtp:c,mfa:f,sendMfaOtp:r,signInEmailPassword:t,user:n}},$k=(e=!1)=>{const t=as(),r=o=>Ug(t,typeof o=="boolean"?o:e),n=Te(t,o=>o.matches({authentication:{signedOut:"success"}}),(o,s)=>o===s),i=Te(t,o=>o.context.errors.signout||null,(o,s)=>(o==null?void 0:o.error)===(s==null?void 0:s.error));return{signOut:r,isSuccess:n,error:i}},zk=e=>{const t=as(),r=Te(t,h=>!!h.context.errors.registration),n=Te(t,h=>h.context.errors.registration||null,(h,f)=>(h==null?void 0:h.error)===(f==null?void 0:f.error)),i=Te(t,h=>h.matches("registration.emailPassword")),o=Te(t,h=>h.matches("registration.incomplete.needsEmailVerification")),s=Te(t,h=>h.matches({authentication:"signedIn",registration:"complete"})),a=(h,f,d=e,m)=>Lc(t,h,f,d,m),l=Te(t,h=>h.context.user,(h,f)=>(h==null?void 0:h.id)===(f==null?void 0:f.id)),u=Te(t,h=>h.context.accessToken.value),c=Te(t,h=>h.context.refreshToken.value);return{accessToken:u,refreshToken:c,error:n,isError:r,isLoading:i,isSuccess:s,needsEmailVerification:o,signUpEmailPassword:a,user:l}},o0=()=>{const e=as();return Te(e,t=>{var r;return(r=t.context.user)==null?void 0:r.id},(t,r)=>t===r)};var Vc=function(e,t){return Vc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Vc(e,t)};function qt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var T=function(){return T=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},T.apply(this,arguments)};function kt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function wr(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function br(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ye(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var du="Invariant Violation",Fp=Object.setPrototypeOf,Vk=Fp===void 0?function(e,t){return e.__proto__=t,e}:Fp,s0=function(e){qt(t,e);function t(r){r===void 0&&(r=du);var n=e.call(this,typeof r=="number"?du+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=du,Vk(n,t.prototype),n}return t}(Error);function rn(e,t){if(!e)throw new s0(t)}var a0=["debug","log","warn","error","silent"],Bk=a0.indexOf("log");function Fs(e){return function(){if(a0.indexOf(e)>=Bk){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Fs("debug"),e.log=Fs("log"),e.warn=Fs("warn"),e.error=Fs("error")})(rn||(rn={}));var Nd="3.13.9";function Mt(e){try{return e()}catch{}}const Bc=Mt(function(){return globalThis})||Mt(function(){return window})||Mt(function(){return self})||Mt(function(){return global})||Mt(function(){return Mt.constructor("return this")()});var Up=new Map;function qc(e){var t=Up.get(e)||1;return Up.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function l0(e,t){t===void 0&&(t=0);var r=qc("stringifyForDisplay");return JSON.stringify(e,function(n,i){return i===void 0?r:i},t).split(JSON.stringify(r)).join("<undefined>")}function Us(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(typeof t=="number"){var i=t;t=Od(i),t||(t=Cd(i,r),r=[])}e.apply(void 0,[t].concat(r))}}var $=Object.assign(function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t||rn(t,Od(r,n)||Cd(r,n))},{debug:Us(rn.debug),log:Us(rn.log),warn:Us(rn.warn),error:Us(rn.error)});function et(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new s0(Od(e,t)||Cd(e,t))}var $p=Symbol.for("ApolloErrorMessageHandler_"+Nd);function u0(e){if(typeof e=="string")return e;try{return l0(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function Od(e,t){if(t===void 0&&(t=[]),!!e)return Bc[$p]&&Bc[$p](e,t.map(u0))}function Cd(e,t){if(t===void 0&&(t=[]),!!e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Nd,message:e,args:t.map(u0)})))}function ls(e,t){var r=e.directives;return!r||!r.length?!0:Wk(r).every(function(n){var i=n.directive,o=n.ifArgument,s=!1;return o.value.kind==="Variable"?(s=t&&t[o.value.name.value],$(s!==void 0,78,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function Wo(e,t,r){var n=new Set(e),i=n.size;return Bt(t,{Directive:function(o){if(n.delete(o.name.value)&&(!r||!n.size))return bl}}),r?!n.size:n.size<i}function qk(e){return e&&Wo(["client","export"],e,!0)}function Qk(e){var t=e.name.value;return t==="skip"||t==="include"}function Wk(e){var t=[];return e&&e.length&&e.forEach(function(r){if(Qk(r)){var n=r.arguments,i=r.name.value;$(n&&n.length===1,79,i);var o=n[0];$(o.name&&o.name.value==="if",80,i);var s=o.value;$(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),81,i),t.push({directive:r,ifArgument:o})}}),t}function Hk(e){var t,r,n=(t=e.directives)===null||t===void 0?void 0:t.find(function(o){var s=o.name;return s.value==="unmask"});if(!n)return"mask";var i=(r=n.arguments)===null||r===void 0?void 0:r.find(function(o){var s=o.name;return s.value==="mode"});return globalThis.__DEV__!==!1&&i&&(i.value.kind===z.VARIABLE?globalThis.__DEV__!==!1&&$.warn(82):i.value.kind!==z.STRING?globalThis.__DEV__!==!1&&$.warn(83):i.value.value!=="migrate"&&globalThis.__DEV__!==!1&&$.warn(84,i.value.value)),i&&"value"in i.value&&i.value.value==="migrate"?"migrate":"unmask"}const Gk=()=>Object.create(null),{forEach:Kk,slice:zp}=Array.prototype,{hasOwnProperty:Yk}=Object.prototype;class hr{constructor(t=!0,r=Gk){this.weakness=t,this.makeData=r}lookup(){return this.lookupArray(arguments)}lookupArray(t){let r=this;return Kk.call(t,n=>r=r.getChildTrie(n)),Yk.call(r,"data")?r.data:r.data=this.makeData(zp.call(t))}peek(){return this.peekArray(arguments)}peekArray(t){let r=this;for(let n=0,i=t.length;r&&n<i;++n){const o=r.mapFor(t[n],!1);r=o&&o.get(t[n])}return r&&r.data}remove(){return this.removeArray(arguments)}removeArray(t){let r;if(t.length){const n=t[0],i=this.mapFor(n,!1),o=i&&i.get(n);o&&(r=o.removeArray(zp.call(t,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(n))}else r=this.data,delete this.data;return r}getChildTrie(t){const r=this.mapFor(t,!0);let n=r.get(t);return n||r.set(t,n=new hr(this.weakness,this.makeData)),n}mapFor(t,r){return this.weakness&&Jk(t)?this.weak||(r?this.weak=new WeakMap:void 0):this.strong||(r?this.strong=new Map:void 0)}}function Jk(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var c0=Mt(function(){return navigator.product})=="ReactNative",bn=typeof WeakMap=="function"&&!(c0&&!global.HermesInternal),Id=typeof WeakSet=="function",jd=typeof Symbol=="function"&&typeof Symbol.for=="function",kl=jd&&Symbol.asyncIterator,f0=typeof Mt(function(){return window.document.createElement})=="function",Xk=Mt(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,Zk=(f0||c0)&&!Xk;function we(e){return e!==null&&typeof e=="object"}function eT(e,t){var r=t,n=[];e.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw et(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&n.push(o)}),typeof r>"u"&&($(n.length===1,86,n.length),r=n[0].name.value);var i=T(T({},e),{definitions:Ye([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)});return i}function Ni(e){e===void 0&&(e=[]);var t={};return e.forEach(function(r){t[r.name.value]=r}),t}function Tl(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var r=e.name.value;if(typeof t=="function")return t(r);var n=t&&t[r];return $(n,87,r),n||null}default:return null}}function tT(e){var t=!0;return Bt(e,{FragmentSpread:function(r){if(t=!!r.directives&&r.directives.some(function(n){return n.name.value==="unmask"}),!t)return bl}}),t}function rT(){}class Qc{constructor(t=1/0,r=rT){this.max=t,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}has(t){return this.map.has(t)}get(t){const r=this.getNode(t);return r&&r.value}get size(){return this.map.size}getNode(t){const r=this.map.get(t);if(r&&r!==this.newest){const{older:n,newer:i}=r;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(t,r){let n=this.getNode(t);return n?n.value=r:(n={key:t,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(t){const r=this.map.get(t);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(t),this.dispose(r.value,t),!0):!1}}function Wc(){}const nT=Wc,iT=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},oT=typeof WeakMap<"u"?WeakMap:Map,sT=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Wc,unregister:Wc}},aT=10024;class za{constructor(t=1/0,r=nT){this.max=t,this.dispose=r,this.map=new oT,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let i=0;i<aT;i++){const o=n.next().value;if(!o)break;this.unfinalizedNodes.delete(o);const s=o.key;delete o.key,o.keyRef=new iT(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new sT(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const r=this.getNode(t);return r&&r.value}getNode(t){const r=this.map.get(t);if(r&&r!==this.newest){const{older:n,newer:i}=r;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(t,r){let n=this.getNode(t);return n?n.value=r:(n={key:t,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(t,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const r=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,r),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),r&&this.map.delete(r)}delete(t){const r=this.map.get(t);return r?(this.deleteNode(r),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var hu=new WeakSet;function d0(e){e.size<=(e.max||-1)||hu.has(e)||(hu.add(e),setTimeout(function(){e.clean(),hu.delete(e)},100))}var Rd=function(e,t){var r=new za(e,t);return r.set=function(n,i){var o=za.prototype.set.call(this,n,i);return d0(this),o},r},lT=function(e,t){var r=new Qc(e,t);return r.set=function(n,i){var o=Qc.prototype.set.call(this,n,i);return d0(this),o},r},uT=Symbol.for("apollo.cacheSize"),er=T({},Bc[uT]),en={};function Pd(e,t){en[e]=t}var cT=globalThis.__DEV__!==!1?pT:void 0,fT=globalThis.__DEV__!==!1?vT:void 0,dT=globalThis.__DEV__!==!1?h0:void 0;function hT(){var e={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(e).map(function(t){var r=t[0],n=t[1];return[r,er[r]||n]}))}function pT(){var e,t,r,n,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:hT(),sizes:T({print:(e=en.print)===null||e===void 0?void 0:e.call(en),parser:(t=en.parser)===null||t===void 0?void 0:t.call(en),canonicalStringify:(r=en.canonicalStringify)===null||r===void 0?void 0:r.call(en),links:Gc(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:v0(this.queryManager.documentTransform)}},(i=(n=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(n))}}function h0(){return{cache:{fragmentQueryDocuments:Sr(this.getFragmentDoc)}}}function vT(){var e=this.config.fragments;return T(T({},h0.apply(this)),{addTypenameDocumentTransform:v0(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Sr(this.storeReader.executeSelectionSet),executeSubSelectedArray:Sr(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Sr(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Sr(e==null?void 0:e.findFragmentSpreads),lookup:Sr(e==null?void 0:e.lookup),transform:Sr(e==null?void 0:e.transform)}})}function mT(e){return!!e&&"dirtyKey"in e}function Sr(e){return mT(e)?e.size:void 0}function p0(e){return e!=null}function v0(e){return Hc(e).map(function(t){return{cache:t}})}function Hc(e){return e?Ye(Ye([Sr(e==null?void 0:e.performWork)],Hc(e==null?void 0:e.left),!0),Hc(e==null?void 0:e.right),!0).filter(p0):[]}function Gc(e){var t;return e?Ye(Ye([(t=e==null?void 0:e.getMemoryInternals)===null||t===void 0?void 0:t.call(e)],Gc(e==null?void 0:e.left),!0),Gc(e==null?void 0:e.right),!0).filter(p0):[]}var Ur=Object.assign(function(t){return JSON.stringify(t,yT)},{reset:function(){Hn=new lT(er.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&Pd("canonicalStringify",function(){return Hn.size});var Hn;Ur.reset();function yT(e,t){if(t&&typeof t=="object"){var r=Object.getPrototypeOf(t);if(r===Object.prototype||r===null){var n=Object.keys(t);if(n.every(gT))return t;var i=JSON.stringify(n),o=Hn.get(i);if(!o){n.sort();var s=JSON.stringify(n);o=Hn.get(s)||n,Hn.set(i,o),Hn.set(s,o)}var a=Object.create(r);return o.forEach(function(l){a[l]=t[l]}),a}}return t}function gT(e,t,r){return t===0||r[t-1]<=e}function ii(e){return{__ref:String(e)}}function le(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function xT(e){return we(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function wT(e){return e.kind==="StringValue"}function bT(e){return e.kind==="BooleanValue"}function ST(e){return e.kind==="IntValue"}function ET(e){return e.kind==="FloatValue"}function kT(e){return e.kind==="Variable"}function TT(e){return e.kind==="ObjectValue"}function _T(e){return e.kind==="ListValue"}function NT(e){return e.kind==="EnumValue"}function OT(e){return e.kind==="NullValue"}function gi(e,t,r,n){if(ST(r)||ET(r))e[t.value]=Number(r.value);else if(bT(r)||wT(r))e[t.value]=r.value;else if(TT(r)){var i={};r.fields.map(function(s){return gi(i,s.name,s.value,n)}),e[t.value]=i}else if(kT(r)){var o=(n||{})[r.name.value];e[t.value]=o}else if(_T(r))e[t.value]=r.values.map(function(s){var a={};return gi(a,t,s,n),a[t.value]});else if(NT(r))e[t.value]=r.value;else if(OT(r))e[t.value]=null;else throw et(96,t.value,r.kind)}function CT(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return gi(r[i.name.value],s,a,t)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(i){var o=i.name,s=i.value;return gi(n,o,s,t)})),m0(e.name.value,n,r)}var IT=["connection","include","skip","client","rest","export","nonreactive"],Bi=Ur,m0=Object.assign(function(e,t,r){if(t&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(a){i[a]=t[a]}),"".concat(r.connection.key,"(").concat(Bi(i),")")}else return r.connection.key;var o=e;if(t){var s=Bi(t);o+="(".concat(s,")")}return r&&Object.keys(r).forEach(function(a){IT.indexOf(a)===-1&&(r[a]&&Object.keys(r[a]).length?o+="@".concat(a,"(").concat(Bi(r[a]),")"):o+="@".concat(a))}),o},{setStringify:function(e){var t=Bi;return Bi=e,t}});function _l(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(n){var i=n.name,o=n.value;return gi(r,i,o,t)}),r}return null}function fr(e){return e.alias?e.alias.value:e.name.value}function Kc(e,t,r){for(var n,i=0,o=t.selections;i<o.length;i++){var s=o[i];if(Br(s)){if(s.name.value==="__typename")return e[fr(s)]}else n?n.push(s):n=[s]}if(typeof e.__typename=="string")return e.__typename;if(n)for(var a=0,l=n;a<l.length;a++){var s=l[a],u=Kc(e,Tl(s,r).selectionSet,r);if(typeof u=="string")return u}}function Br(e){return e.kind==="Field"}function jT(e){return e.kind==="InlineFragment"}function Oi(e){$(e&&e.kind==="Document",88);var t=e.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw et(89,r.kind);return r});return $(t.length<=1,90,t.length),e}function yn(e){return Oi(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function oo(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function Ci(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function y0(e){var t=yn(e);return $(t&&t.operation==="query",91),t}function g0(e){$(e.kind==="Document",92),$(e.definitions.length<=1,93);var t=e.definitions[0];return $(t.kind==="FragmentDefinition",94),t}function Ii(e){Oi(e);for(var t,r=0,n=e.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!t&&(t=i)}if(t)return t;throw et(95)}function Ad(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&gi(t,n.variable.name,n.defaultValue)}),t}let ze=null;const Vp={};let RT=1;const PT=()=>class{constructor(){this.id=["slot",RT++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=ze;t;t=t.parent)if(this.id in t.slots){const r=t.slots[this.id];if(r===Vp)break;return t!==ze&&(ze.slots[this.id]=r),!0}return ze&&(ze.slots[this.id]=Vp),!1}getValue(){if(this.hasValue())return ze.slots[this.id]}withValue(t,r,n,i){const o={__proto__:null,[this.id]:t},s=ze;ze={parent:s,slots:o};try{return r.apply(i,n)}finally{ze=s}}static bind(t){const r=ze;return function(){const n=ze;try{return ze=r,t.apply(this,arguments)}finally{ze=n}}}static noContext(t,r,n){if(ze){const i=ze;try{return ze=null,t.apply(n,r)}finally{ze=i}}else return t.apply(n,r)}};function Bp(e){try{return e()}catch{}}const pu="@wry/context:Slot",AT=Bp(()=>globalThis)||Bp(()=>global)||Object.create(null),qp=AT,Nl=qp[pu]||Array[pu]||function(e){try{Object.defineProperty(qp,pu,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(PT()),Ol=new Nl,{hasOwnProperty:DT}=Object.prototype,Dd=Array.from||function(e){const t=[];return e.forEach(r=>t.push(r)),t};function Va(e){const{unsubscribe:t}=e;typeof t=="function"&&(e.unsubscribe=void 0,t())}const Ho=[],MT=100;function xi(e,t){if(!e)throw new Error(t||"assertion failure")}function x0(e,t){const r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function w0(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function b0(e){return e.slice(0)}class Cl{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Cl.count}peek(){if(this.value.length===1&&!qr(this))return Qp(this),this.value[0]}recompute(t){return xi(!this.recomputing,"already recomputing"),Qp(this),qr(this)?LT(this,t):w0(this.value)}setDirty(){this.dirty||(this.dirty=!0,S0(this),Va(this))}dispose(){this.setDirty(),N0(this),Md(this,(t,r)=>{t.setDirty(),O0(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=Ho.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&(Dd(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),Ho.push(this.deps),this.deps=null)}}Cl.count=0;function Qp(e){const t=Ol.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),qr(e)?k0(t,e):T0(t,e),t}function LT(e,t){return N0(e),Ol.withValue(e,FT,[e,t]),$T(e,t)&&UT(e),w0(e.value)}function FT(e,t){e.recomputing=!0;const{normalizeResult:r}=e;let n;r&&e.value.length===1&&(n=b0(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),r&&n&&!x0(n,e.value))try{e.value[0]=r(e.value[0],n[0])}catch{}}catch(i){e.value[1]=i}e.recomputing=!1}function qr(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function UT(e){e.dirty=!1,!qr(e)&&E0(e)}function S0(e){Md(e,k0)}function E0(e){Md(e,T0)}function Md(e,t){const r=e.parents.size;if(r){const n=Dd(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function k0(e,t){xi(e.childValues.has(t)),xi(qr(t));const r=!qr(e);if(!e.dirtyChildren)e.dirtyChildren=Ho.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),r&&S0(e)}function T0(e,t){xi(e.childValues.has(t)),xi(!qr(t));const r=e.childValues.get(t);r.length===0?e.childValues.set(t,b0(t.value)):x0(r,t.value)||e.setDirty(),_0(e,t),!qr(e)&&E0(e)}function _0(e,t){const r=e.dirtyChildren;r&&(r.delete(t),r.size===0&&(Ho.length<MT&&Ho.push(r),e.dirtyChildren=null))}function N0(e){e.childValues.size>0&&e.childValues.forEach((t,r)=>{O0(e,r)}),e.forgetDeps(),xi(e.dirtyChildren===null)}function O0(e,t){t.parents.delete(e),e.childValues.delete(t),_0(e,t)}function $T(e,t){if(typeof e.subscribe=="function")try{Va(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}const zT={setDirty:!0,dispose:!0,forget:!0};function C0(e){const t=new Map,r=e&&e.subscribe;function n(i){const o=Ol.getValue();if(o){let s=t.get(i);s||t.set(i,s=new Set),o.dependOn(s),typeof r=="function"&&(Va(s),s.unsubscribe=r(i))}}return n.dirty=function(o,s){const a=t.get(o);if(a){const l=s&&DT.call(zT,s)?s:"setDirty";Dd(a).forEach(u=>u[l]()),t.delete(o),Va(a)}},n}let Wp;function VT(...e){return(Wp||(Wp=new hr(typeof WeakMap=="function"))).lookupArray(e)}const vu=new Set;function Go(e,{max:t=Math.pow(2,16),keyArgs:r,makeCacheKey:n=VT,normalizeResult:i,subscribe:o,cache:s=Qc}=Object.create(null)){const a=typeof s=="function"?new s(t,f=>f.dispose()):s,l=function(){const f=n.apply(null,r?r.apply(null,arguments):arguments);if(f===void 0)return e.apply(null,arguments);let d=a.get(f);d||(a.set(f,d=new Cl(e)),d.normalizeResult=i,d.subscribe=o,d.forget=()=>a.delete(f));const m=d.recompute(Array.prototype.slice.call(arguments));return a.set(f,d),vu.add(a),Ol.hasValue()||(vu.forEach(x=>x.clean()),vu.clear()),m};Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:o,cache:a});function u(f){const d=f&&a.get(f);d&&d.setDirty()}l.dirtyKey=u,l.dirty=function(){u(n.apply(null,arguments))};function c(f){const d=f&&a.get(f);if(d)return d.peek()}l.peekKey=c,l.peek=function(){return c(n.apply(null,arguments))};function h(f){return f?a.delete(f):!1}return l.forgetKey=h,l.forget=function(){return h(n.apply(null,arguments))},l.makeCacheKey=n,l.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(l)}function BT(e){return e}var I0=function(){function e(t,r){r===void 0&&(r=Object.create(null)),this.resultCache=Id?new WeakSet:new Set,this.transform=t,r.getCacheKey&&(this.getCacheKey=r.getCacheKey),this.cached=r.cache!==!1,this.resetCache()}return e.prototype.getCacheKey=function(t){return[t]},e.identity=function(){return new e(BT,{cache:!1})},e.split=function(t,r,n){return n===void 0&&(n=e.identity()),Object.assign(new e(function(i){var o=t(i)?r:n;return o.transformDocument(i)},{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new hr(bn);this.performWork=Go(e.prototype.performWork.bind(this),{makeCacheKey:function(n){var i=t.getCacheKey(n);if(i)return $(Array.isArray(i),77),r.lookupArray(i)},max:er["documentTransform.cache"],cache:za})}},e.prototype.performWork=function(t){return Oi(t),this.transform(t)},e.prototype.transformDocument=function(t){if(this.resultCache.has(t))return t;var r=this.performWork(t);return this.resultCache.add(r),r},e.prototype.concat=function(t){var r=this;return Object.assign(new e(function(n){return t.transformDocument(r.transformDocument(n))},{cache:!1}),{left:this,right:t})},e}(),wo,Cr=Object.assign(function(e){var t=wo.get(e);return t||(t=Zg(e),wo.set(e,t)),t},{reset:function(){wo=new Rd(er.print||2e3)}});Cr.reset();globalThis.__DEV__!==!1&&Pd("print",function(){return wo?wo.size:0});var Ne=Array.isArray;function Nt(e){return Array.isArray(e)&&e.length>0}var Hp={kind:z.FIELD,name:{kind:z.NAME,value:"__typename"}};function j0(e,t){return!e||e.selectionSet.selections.every(function(r){return r.kind===z.FRAGMENT_SPREAD&&j0(t[r.name.value],t)})}function qT(e){return j0(yn(e)||g0(e),Ni(Ci(e)))?null:e}function QT(e){var t=new Map,r=new Map;return e.forEach(function(n){n&&(n.name?t.set(n.name,n):n.test&&r.set(n.test,n))}),function(n){var i=t.get(n.name.value);return!i&&r.size&&r.forEach(function(o,s){s(n)&&(i=o)}),i}}function Gp(e){var t=new Map;return function(n){n===void 0&&(n=e);var i=t.get(n);return i||t.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function R0(e,t){Oi(t);for(var r=Gp(""),n=Gp(""),i=function(y){for(var p=0,g=void 0;p<y.length&&(g=y[p]);++p)if(!Ne(g)){if(g.kind===z.OPERATION_DEFINITION)return r(g.name&&g.name.value);if(g.kind===z.FRAGMENT_DEFINITION)return n(g.name.value)}return globalThis.__DEV__!==!1&&$.error(97),null},o=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===z.OPERATION_DEFINITION&&++o;var a=QT(e),l=function(y){return Nt(y)&&y.map(a).some(function(p){return p&&p.remove})},u=new Map,c=!1,h={enter:function(y){if(l(y.directives))return c=!0,null}},f=Bt(t,{Field:h,InlineFragment:h,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(y,p,g,b,S){var _=i(S);_&&_.variables.add(y.name.value)}},FragmentSpread:{enter:function(y,p,g,b,S){if(l(y.directives))return c=!0,null;var _=i(S);_&&_.fragmentSpreads.add(y.name.value)}},FragmentDefinition:{enter:function(y,p,g,b){u.set(JSON.stringify(b),y)},leave:function(y,p,g,b){var S=u.get(JSON.stringify(b));if(y===S)return y;if(o>0&&y.selectionSet.selections.every(function(_){return _.kind===z.FIELD&&_.name.value==="__typename"}))return n(y.name.value).removed=!0,c=!0,null}},Directive:{leave:function(y){if(a(y))return c=!0,null}}});if(!c)return t;var d=function(y){return y.transitiveVars||(y.transitiveVars=new Set(y.variables),y.removed||y.fragmentSpreads.forEach(function(p){d(n(p)).transitiveVars.forEach(function(g){y.transitiveVars.add(g)})})),y},m=new Set;f.definitions.forEach(function(y){y.kind===z.OPERATION_DEFINITION?d(r(y.name&&y.name.value)).fragmentSpreads.forEach(function(p){m.add(p)}):y.kind===z.FRAGMENT_DEFINITION&&o===0&&!n(y.name.value).removed&&m.add(y.name.value)}),m.forEach(function(y){d(n(y)).fragmentSpreads.forEach(function(p){m.add(p)})});var x=function(y){return!!(!m.has(y)||n(y).removed)},w={enter:function(y){if(x(y.name.value))return null}};return qT(Bt(f,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave:function(y){if(y.variableDefinitions){var p=d(r(y.name&&y.name.value)).transitiveVars;if(p.size<y.variableDefinitions.length)return T(T({},y),{variableDefinitions:y.variableDefinitions.filter(function(g){return p.has(g.variable.name.value)})})}}}}))}var Ld=Object.assign(function(e){return Bt(e,{SelectionSet:{enter:function(t,r,n){if(!(n&&n.kind===z.OPERATION_DEFINITION)){var i=t.selections;if(i){var o=i.some(function(a){return Br(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=n;if(!(Br(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return T(T({},t),{selections:Ye(Ye([],i,!0),[Hp],!1)})}}}}}})},{added:function(e){return e===Hp}});function WT(e){var t=Ii(e),r=t.operation;if(r==="query")return e;var n=Bt(e,{OperationDefinition:{enter:function(i){return T(T({},i),{operation:"query"})}}});return n}function P0(e){Oi(e);var t=R0([{test:function(r){return r.name.value==="client"},remove:!0}],e);return t}function HT(e){return Oi(e),Bt(e,{FragmentSpread:function(t){var r;if(!(!((r=t.directives)===null||r===void 0)&&r.some(function(n){return n.name.value==="unmask"})))return T(T({},t),{directives:Ye(Ye([],t.directives||[],!0),[{kind:z.DIRECTIVE,name:{kind:z.NAME,value:"nonreactive"}}],!1)})}})}var GT=Object.prototype.hasOwnProperty;function Kp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Il(e)}function Il(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new Qr,i=1;i<r;++i)t=n.merge(t,e[i]);return t}var KT=function(e,t,r){return this.merge(e[r],t[r])},Qr=function(){function e(t){t===void 0&&(t=KT),this.reconciler=t,this.isObject=we,this.pastCopies=new Set}return e.prototype.merge=function(t,r){for(var n=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return we(r)&&we(t)?(Object.keys(r).forEach(function(s){if(GT.call(t,s)){var a=t[s];if(r[s]!==a){var l=n.reconciler.apply(n,Ye([t,r,s],i,!1));l!==a&&(t=n.shallowCopyForMerge(t),t[s]=l)}}else t=n.shallowCopyForMerge(t),t[s]=r[s]}),t):r},e.prototype.shallowCopyForMerge=function(t){return we(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=T({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function YT(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=JT(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JT(e,t){if(e){if(typeof e=="string")return Yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yp(e,t)}}function Yp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fd(e,t,r){return t&&Jp(e.prototype,t),r&&Jp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ud=function(){return typeof Symbol=="function"},$d=function(e){return Ud()&&!!Symbol[e]},zd=function(e){return $d(e)?Symbol[e]:"@@"+e};Ud()&&!$d("observable")&&(Symbol.observable=Symbol("observable"));var XT=zd("iterator"),Yc=zd("observable"),A0=zd("species");function Ba(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function qi(e){var t=e.constructor;return t!==void 0&&(t=t[A0],t===null&&(t=void 0)),t!==void 0?t:ue}function ZT(e){return e instanceof ue}function wi(e){wi.log?wi.log(e):setTimeout(function(){throw e})}function sa(e){Promise.resolve().then(function(){try{e()}catch(t){wi(t)}})}function D0(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=Ba(t,"unsubscribe");r&&r.call(t)}}catch(n){wi(n)}}function Jc(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function e_(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(M0(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function M0(e,t,r){e._state="running";var n=e._observer;try{var i=Ba(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(Jc(e),i)i.call(n,r);else throw r;break;case"complete":Jc(e),i&&i.call(n);break}}catch(o){wi(o)}e._state==="closed"?D0(e):e._state==="running"&&(e._state="ready")}function mu(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],sa(function(){return e_(e)});return}M0(e,t,r)}}var t_=function(){function e(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new r_(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Jc(this),D0(this))},Fd(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),r_=function(){function e(r){this._subscription=r}var t=e.prototype;return t.next=function(n){mu(this._subscription,"next",n)},t.error=function(n){mu(this._subscription,"error",n)},t.complete=function(){mu(this._subscription,"complete")},Fd(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),ue=function(){function e(r){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var t=e.prototype;return t.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new t_(n,this._subscriber)},t.forEach=function(n){var i=this;return new Promise(function(o,s){if(typeof n!="function"){s(new TypeError(n+" is not a function"));return}function a(){l.unsubscribe(),o()}var l=i.subscribe({next:function(u){try{n(u,a)}catch(c){s(c),l.unsubscribe()}},error:s,complete:o})})},t.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=qi(this);return new o(function(s){return i.subscribe({next:function(a){try{a=n(a)}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},t.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=qi(this);return new o(function(s){return i.subscribe({next:function(a){try{if(!n(a))return}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},t.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=qi(this),s=arguments.length>1,a=!1,l=arguments[1],u=l;return new o(function(c){return i.subscribe({next:function(h){var f=!a;if(a=!0,!f||s)try{u=n(u,h)}catch(d){return c.error(d)}else u=h},error:function(h){c.error(h)},complete:function(){if(!a&&!s)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},t.concat=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=qi(this);return new a(function(l){var u,c=0;function h(f){u=f.subscribe({next:function(d){l.next(d)},error:function(d){l.error(d)},complete:function(){c===o.length?(u=void 0,l.complete()):h(a.from(o[c++]))}})}return h(n),function(){u&&(u.unsubscribe(),u=void 0)}})},t.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=qi(this);return new o(function(s){var a=[],l=i.subscribe({next:function(c){if(n)try{c=n(c)}catch(f){return s.error(f)}var h=o.from(c).subscribe({next:function(f){s.next(f)},error:function(f){s.error(f)},complete:function(){var f=a.indexOf(h);f>=0&&a.splice(f,1),u()}});a.push(h)},error:function(c){s.error(c)},complete:function(){u()}});function u(){l.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},t[Yc]=function(){return this},e.from=function(n){var i=typeof this=="function"?this:e;if(n==null)throw new TypeError(n+" is not an object");var o=Ba(n,Yc);if(o){var s=o.call(n);if(Object(s)!==s)throw new TypeError(s+" is not an object");return ZT(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if($d("iterator")&&(o=Ba(n,XT),o))return new i(function(a){sa(function(){if(!a.closed){for(var l=YT(o.call(n)),u;!(u=l()).done;){var c=u.value;if(a.next(c),a.closed)return}a.complete()}})});if(Array.isArray(n))return new i(function(a){sa(function(){if(!a.closed){for(var l=0;l<n.length;++l)if(a.next(n[l]),a.closed)return;a.complete()}})});throw new TypeError(n+" is not observable")},e.of=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=typeof this=="function"?this:e;return new s(function(a){sa(function(){if(!a.closed){for(var l=0;l<i.length;++l)if(a.next(i[l]),a.closed)return;a.complete()}})})},Fd(e,null,[{key:A0,get:function(){return this}}]),e}();Ud()&&Object.defineProperty(ue,Symbol("extensions"),{value:{symbol:Yc,hostReportError:wi},configurable:!0});function n_(e){var t,r=e.Symbol;if(typeof r=="function")if(r.observable)t=r.observable;else{typeof r.for=="function"?t=r.for("https://github.com/benlesh/symbol-observable"):t=r("https://github.com/benlesh/symbol-observable");try{r.observable=t}catch{}}else t="@@observable";return t}var In;typeof self<"u"?In=self:typeof window<"u"?In=window:typeof global<"u"?In=global:typeof bf<"u"?In=bf:In=Function("return this")();n_(In);var Xp=ue.prototype,Zp="@@observable";Xp[Zp]||(Xp[Zp]=function(){return this});function i_(e){return e.catch(function(){}),e}var o_=Object.prototype.toString;function L0(e){return Xc(e)}function Xc(e,t){switch(o_.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach(function(i,o){r[o]=Xc(i,t)}),r}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach(function(i){n[i]=Xc(e[i],t)}),n}default:return e}}function s_(e){var t=new Set([e]);return t.forEach(function(r){we(r)&&a_(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){we(r[n])&&t.add(r[n])})}),e}function a_(e){if(globalThis.__DEV__!==!1&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function bi(e){return globalThis.__DEV__!==!1&&s_(e),e}function bo(e,t,r){var n=[];e.forEach(function(i){return i[t]&&n.push(i)}),n.forEach(function(i){return i[t](r)})}function yu(e,t,r){return new ue(function(n){var i={then:function(l){return new Promise(function(u){return u(l())})}};function o(l,u){return function(c){if(l){var h=function(){return n.closed?0:l(c)};i=i.then(h,h).then(function(f){return n.next(f)},function(f){return n.error(f)})}else n[u](c)}}var s={next:o(t,"next"),error:o(r,"error"),complete:function(){i.then(function(){return n.complete()})}},a=e.subscribe(s);return function(){return a.unsubscribe()}})}function F0(e){function t(r){Object.defineProperty(e,r,{value:ue})}return jd&&Symbol.species&&t(Symbol.species),t("@@species"),e}function ev(e){return e&&typeof e.then=="function"}var jn=function(e){qt(t,e);function t(r){var n=e.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.promise=new Promise(function(i,o){n.resolve=i,n.reject=o}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],n.notify("next",i),bo(n.observers,"next",i))},error:function(i){var o=n.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),n.notify("error",i),bo(n.observers,"error",i))},complete:function(){var i=n,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var l=a.shift();l?ev(l)?l.then(function(u){return n.sub=u.subscribe(n.handlers)},n.handlers.error):n.sub=l.subscribe(n.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),bo(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.error(i)},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new ue(r)]),ev(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return t.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},t.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},t.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},t.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(r,n){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(r,n)}))},t.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(i,o){n||(n=!0,r(i,o))})},t}(ue);F0(jn);function oi(e){return"incremental"in e}function l_(e){return"hasNext"in e&&"data"in e}function u_(e){return oi(e)||l_(e)}function c_(e){return we(e)&&"payload"in e}function U0(e,t){var r=e,n=new Qr;return oi(t)&&Nt(t.incremental)&&t.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var l=s[a],u=!isNaN(+l),c=u?[]:{};c[l]=o,o=c}r=n.merge(r,o)}),r}function aa(e){var t=Zc(e);return Nt(t)}function Zc(e){var t=Nt(e.errors)?e.errors.slice(0):[];return oi(e)&&Nt(e.incremental)&&e.incremental.forEach(function(r){r.errors&&t.push.apply(t,r.errors)}),t}function gn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach(function(n){n&&Object.keys(n).forEach(function(i){var o=n[i];o!==void 0&&(r[i]=o)})}),r}function So(e,t){return gn(e,t,t.variables&&{variables:gn(T(T({},e&&e.variables),t.variables))})}function gu(e){return new ue(function(t){t.error(e)})}var $0=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n};function f_(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw et(46,i)}return e}function d_(e,t){var r=T({},e),n=function(o){typeof o=="function"?r=T(T({},r),o(r)):r=T(T({},r),o)},i=function(){return T({},r)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:n}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),t}function h_(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?oo(t.query)||void 0:""),t}function p_(e,t){var r=T({},e),n=new Set(Object.keys(e));return Bt(t,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&n.delete(i.name.value)}}),n.forEach(function(i){delete r[i]}),r}function tv(e,t){return t?t(e):ue.of()}function Qi(e){return typeof e=="function"?new pr(e):e}function $s(e){return e.request.length<=1}var pr=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return ue.of()})},e.from=function(t){return t.length===0?e.empty():t.map(Qi).reduce(function(r,n){return r.concat(n)})},e.split=function(t,r,n){var i=Qi(r),o=Qi(n||new e(tv)),s;return $s(i)&&$s(o)?s=new e(function(a){return t(a)?i.request(a)||ue.of():o.request(a)||ue.of()}):s=new e(function(a,l){return t(a)?i.request(a,l)||ue.of():o.request(a,l)||ue.of()}),Object.assign(s,{left:i,right:o})},e.execute=function(t,r){return t.request(d_(r.context,h_(f_(r))))||ue.of()},e.concat=function(t,r){var n=Qi(t);if($s(n))return globalThis.__DEV__!==!1&&$.warn(38,n),n;var i=Qi(r),o;return $s(i)?o=new e(function(s){return n.request(s,function(a){return i.request(a)||ue.of()})||ue.of()}):o=new e(function(s,a){return n.request(s,function(l){return i.request(l,a)||ue.of()})||ue.of()}),Object.assign(o,{left:n,right:i})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(tv)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,r){throw et(39)},e.prototype.onError=function(t,r){if(r&&r.error)return r.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),v_=pr.from,m_=pr.split,ef=pr.execute;function y_(e){var t,r=e[Symbol.asyncIterator]();return t={next:function(){return r.next()}},t[Symbol.asyncIterator]=function(){return this},t}function g_(e){var t=null,r=null,n=!1,i=[],o=[];function s(h){if(!r){if(o.length){var f=o.shift();if(Array.isArray(f)&&f[0])return f[0]({value:h,done:!1})}i.push(h)}}function a(h){r=h;var f=o.slice();f.forEach(function(d){d[1](h)}),!t||t()}function l(){n=!0;var h=o.slice();h.forEach(function(f){f[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",a),e.on("end",l),e.on("finish",l),e.on("close",l);function u(){return new Promise(function(h,f){if(r)return f(r);if(i.length)return h({value:i.shift(),done:!1});if(n)return h({value:void 0,done:!0});o.push([h,f])})}var c={next:function(){return u()}};return kl&&(c[Symbol.asyncIterator]=function(){return this}),c}function x_(e){var t=!1,r={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(n,i){e.then(function(o){n({value:o,done:!1})}).catch(i)}))}};return kl&&(r[Symbol.asyncIterator]=function(){return this}),r}function rv(e){var t={next:function(){return e.read()}};return kl&&(t[Symbol.asyncIterator]=function(){return this}),t}function w_(e){return!!e.body}function b_(e){return!!e.getReader}function S_(e){return!!(kl&&e[Symbol.asyncIterator])}function E_(e){return!!e.stream}function k_(e){return!!e.arrayBuffer}function T_(e){return!!e.pipe}function __(e){var t=e;if(w_(e)&&(t=e.body),S_(t))return y_(t);if(b_(t))return rv(t.getReader());if(E_(t))return rv(t.stream().getReader());if(k_(t))return x_(t.arrayBuffer());if(T_(t))return g_(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Vd=Symbol();function N_(e){return e.extensions?Array.isArray(e.extensions[Vd]):!1}function z0(e){return e.hasOwnProperty("graphQLErrors")}var O_=function(e){var t=Ye(Ye(Ye([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map(function(r){return we(r)&&r.message||"Error message not found."}).join(`
`)},dt=function(e){qt(t,e);function t(r){var n=r.graphQLErrors,i=r.protocolErrors,o=r.clientErrors,s=r.networkError,a=r.errorMessage,l=r.extraInfo,u=e.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=n||[],u.protocolErrors=i||[],u.clientErrors=o||[],u.networkError=s||null,u.message=a||O_(u),u.extraInfo=l,u.cause=Ye(Ye(Ye([s],n||[],!0),i||[],!0),o||[],!0).find(function(c){return!!c})||null,u.__proto__=t.prototype,u}return t}(Error),nv=Object.prototype.hasOwnProperty;function C_(e,t){return wr(this,void 0,void 0,function(){var r,n,i,o,s,a,l,u,c,h,f,d,m,x,w,y,p,g,b,S,_,N,O,P;return br(this,function(A){switch(A.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),n=(P=e.headers)===null||P===void 0?void 0:P.get("content-type"),i="boundary=",o=n!=null&&n.includes(i)?n==null?void 0:n.substring((n==null?void 0:n.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),a="",l=__(e),u=!0,A.label=1;case 1:return u?[4,l.next()]:[3,3];case 2:for(c=A.sent(),h=c.value,f=c.done,d=typeof h=="string"?h:r.decode(h),m=a.length-s.length+1,u=!f,a+=d,x=a.indexOf(s,m);x>-1;){if(w=void 0,N=[a.slice(0,x),a.slice(x+s.length)],w=N[0],a=N[1],y=w.indexOf(`\r
\r
`),p=I_(w.slice(0,y)),g=p["content-type"],g&&g.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(b=w.slice(y),b){if(S=V0(e,b),Object.keys(S).length>1||"data"in S||"incremental"in S||"errors"in S||"payload"in S)if(c_(S)){if(_={},"payload"in S){if(Object.keys(S).length===1&&S.payload===null)return[2];_=T({},S.payload)}"errors"in S&&(_=T(T({},_),{extensions:T(T({},"extensions"in _?_.extensions:null),(O={},O[Vd]=S.errors,O))})),t(_)}else t(S);else if(Object.keys(S).length===1&&"hasNext"in S&&!S.hasNext)return[2]}x=a.indexOf(s)}return[3,1];case 3:return[2]}})})}function I_(e){var t={};return e.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var i=r.slice(0,n).trim().toLowerCase(),o=r.slice(n+1).trim();t[i]=o}}),t}function V0(e,t){if(e.status>=300){var r=function(){try{return JSON.parse(t)}catch{return t}};$0(e,r(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(i){var n=i;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}function j_(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}function R_(e){return function(t){return t.text().then(function(r){return V0(t,r)}).then(function(r){return!Array.isArray(r)&&!nv.call(r,"data")&&!nv.call(r,"errors")&&$0(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(n){return n.operationName}):e.operationName,"'.")),r})}}var tf=function(e,t){var r;try{r=JSON.stringify(e)}catch(i){var n=et(42,t,i.message);throw n.parseError=i,n}return r},P_={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},A_={accept:"*/*","content-type":"application/json"},D_={method:"POST"},M_={http:P_,headers:A_,options:D_},L_=function(e,t){return t(e)};function F_(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach(function(h){i=T(T(T({},i),h.options),{headers:T(T({},i.headers),h.headers)}),h.credentials&&(i.credentials=h.credentials),o=T(T({},o),h.http)}),i.headers&&(i.headers=U_(i.headers,o.preserveHeaderCase));var s=e.operationName,a=e.extensions,l=e.variables,u=e.query,c={operationName:s,variables:l};return o.includeExtensions&&(c.extensions=a),o.includeQuery&&(c.query=t(u,Cr)),{options:i,body:c}}function U_(e,t){if(!t){var r={};return Object.keys(Object(e)).forEach(function(o){r[o.toLowerCase()]=e[o]}),r}var n={};Object.keys(Object(e)).forEach(function(o){n[o.toLowerCase()]={originalName:o,value:e[o]}});var i={};return Object.keys(n).forEach(function(o){i[n[o].originalName]=n[o].value}),i}var $_=function(e){if(!e&&typeof fetch>"u")throw et(40)},z_=function(e,t){var r=e.getContext(),n=r.uri;return n||(typeof t=="function"?t(e):t||"/graphql")};function V_(e,t){var r=[],n=function(h,f){r.push("".concat(h,"=").concat(encodeURIComponent(f)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=tf(t.variables,"Variables map")}catch(h){return{parseError:h}}n("variables",i)}if(t.extensions){var o=void 0;try{o=tf(t.extensions,"Extensions map")}catch(h){return{parseError:h}}n("extensions",o)}var s="",a=e,l=e.indexOf("#");l!==-1&&(s=e.substr(l),a=e.substr(0,l));var u=a.indexOf("?")===-1?"?":"&",c=a+u+r.join("&")+s;return{newURI:c}}var iv=Mt(function(){return fetch}),B0=function(e){e===void 0&&(e={});var t=e.uri,r=t===void 0?"/graphql":t,n=e.fetch,i=e.print,o=i===void 0?L_:i,s=e.includeExtensions,a=e.preserveHeaderCase,l=e.useGETForQueries,u=e.includeUnusedVariables,c=u===void 0?!1:u,h=kt(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&$_(n||iv);var f={http:{includeExtensions:s,preserveHeaderCase:a},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new pr(function(d){var m=z_(d,r),x=d.getContext(),w={};if(x.clientAwareness){var y=x.clientAwareness,p=y.name,g=y.version;p&&(w["apollographql-client-name"]=p),g&&(w["apollographql-client-version"]=g)}var b=T(T({},w),x.headers),S={http:x.http,options:x.fetchOptions,credentials:x.credentials,headers:b};if(Wo(["client"],d.query)){var _=P0(d.query);if(!_)return gu(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));d.query=_}var N=F_(d,o,M_,f,S),O=N.options,P=N.body;P.variables&&!c&&(P.variables=p_(P.variables,d.query));var A;!O.signal&&typeof AbortController<"u"&&(A=new AbortController,O.signal=A.signal);var M=function(C){return C.kind==="OperationDefinition"&&C.operation==="mutation"},q=function(C){return C.kind==="OperationDefinition"&&C.operation==="subscription"},G=q(Ii(d.query)),Y=Wo(["defer"],d.query);if(l&&!d.query.definitions.some(M)&&(O.method="GET"),Y||G){O.headers=O.headers||{};var H="multipart/mixed;";G&&Y&&globalThis.__DEV__!==!1&&$.warn(41),G?H+="boundary=graphql;subscriptionSpec=1.0,application/json":Y&&(H+="deferSpec=20220824,application/json"),O.headers.accept=H}if(O.method==="GET"){var J=V_(m,P),k=J.newURI,E=J.parseError;if(E)return gu(E);m=k}else try{O.body=tf(P,"Payload")}catch(C){return gu(C)}return new ue(function(C){var F=n||Mt(function(){return fetch})||iv,D=C.next.bind(C);return F(m,O).then(function(V){var ve;d.setContext({response:V});var R=(ve=V.headers)===null||ve===void 0?void 0:ve.get("content-type");return R!==null&&/^multipart\/mixed/i.test(R)?C_(V,D):R_(d)(V).then(D)}).then(function(){A=void 0,C.complete()}).catch(function(V){A=void 0,j_(V,C)}),function(){A&&A.abort()}})})},B_=function(e){qt(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,B0(r).request)||this;return n.options=r,n}return t}(pr);const{toString:ov,hasOwnProperty:q_}=Object.prototype,sv=Function.prototype.toString,rf=new Map;function ne(e,t){try{return nf(e,t)}finally{rf.clear()}}function nf(e,t){if(e===t)return!0;const r=ov.call(e),n=ov.call(t);if(r!==n)return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(lv(e,t))return!0;const i=av(e),o=av(t),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!q_.call(t,i[a]))return!1;for(let a=0;a<s;++a){const l=i[a];if(!nf(e[l],t[l]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(lv(e,t))return!0;const i=e.entries(),o=r==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[a,l]=s.value;if(!t.has(a)||o&&!nf(l,t.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let i=e.byteLength;if(i===t.byteLength)for(;i--&&e[i]===t[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=sv.call(e);return i!==sv.call(t)?!1:!H_(i,W_)}}return!1}function av(e){return Object.keys(e).filter(Q_,e)}function Q_(e){return this[e]!==void 0}const W_="{ [native code] }";function H_(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}function lv(e,t){let r=rf.get(e);if(r){if(r.has(t))return!0}else rf.set(e,r=new Set);return r.add(t),!1}function q0(e,t,r,n){var i=t.data,o=kt(t,["data"]),s=r.data,a=kt(r,["data"]);return ne(o,a)&&la(Ii(e).selectionSet,i,s,{fragmentMap:Ni(Ci(e)),variables:n})}function la(e,t,r,n){if(t===r)return!0;var i=new Set;return e.selections.every(function(o){if(i.has(o)||(i.add(o),!ls(o,n.variables))||uv(o))return!0;if(Br(o)){var s=fr(o),a=t&&t[s],l=r&&r[s],u=o.selectionSet;if(!u)return ne(a,l);var c=Array.isArray(a),h=Array.isArray(l);if(c!==h)return!1;if(c&&h){var f=a.length;if(l.length!==f)return!1;for(var d=0;d<f;++d)if(!la(u,a[d],l[d],n))return!1;return!0}return la(u,a,l,n)}else{var m=Tl(o,n.fragmentMap);if(m)return uv(m)?!0:la(m.selectionSet,t,r,n)}})}function uv(e){return!!e.directives&&e.directives.some(G_)}function G_(e){return e.name.value==="nonreactive"}var Q0=bn?WeakMap:Map,W0=Id?WeakSet:Set,Bd=new Nl,cv=!1;function H0(){cv||(cv=!0,globalThis.__DEV__!==!1&&$.warn(52))}function G0(e,t,r){return Bd.withValue(!0,function(){var n=so(e,t,r,!1);return Object.isFrozen(e)&&bi(n),n})}function K_(e,t){if(t.has(e))return t.get(e);var r=Array.isArray(e)?[]:Object.create(null);return t.set(e,r),r}function so(e,t,r,n,i){var o,s=r.knownChanged,a=K_(e,r.mutableTargets);if(Array.isArray(e)){for(var l=0,u=Array.from(e.entries());l<u.length;l++){var c=u[l],h=c[0],f=c[1];if(f===null){a[h]=null;continue}var d=so(f,t,r,n,globalThis.__DEV__!==!1?"".concat(i||"","[").concat(h,"]"):void 0);s.has(d)&&s.add(a),a[h]=d}return s.has(a)?a:e}for(var m=0,x=t.selections;m<x.length;m++){var w=x[m],y=void 0;if(n&&s.add(a),w.kind===z.FIELD){var p=fr(w),g=w.selectionSet;if(y=a[p]||e[p],y===void 0)continue;if(g&&y!==null){var d=so(e[p],g,r,n,globalThis.__DEV__!==!1?"".concat(i||"",".").concat(p):void 0);s.has(d)&&(y=d)}globalThis.__DEV__===!1&&(a[p]=y),globalThis.__DEV__!==!1&&(n&&p!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(a,p))===null||o===void 0)&&o.value)?Object.defineProperty(a,p,Y_(p,y,i||"",r.operationName,r.operationType)):(delete a[p],a[p]=y))}if(w.kind===z.INLINE_FRAGMENT&&(!w.typeCondition||r.cache.fragmentMatches(w,e.__typename))&&(y=so(e,w.selectionSet,r,n,i)),w.kind===z.FRAGMENT_SPREAD){var b=w.name.value,S=r.fragmentMap[b]||(r.fragmentMap[b]=r.cache.lookupFragment(b));$(S,47,b);var _=Hk(w);_!=="mask"&&(y=so(e,S.selectionSet,r,_==="migrate",i))}s.has(y)&&s.add(a)}return"__typename"in e&&!("__typename"in a)&&(a.__typename=e.__typename),Object.keys(a).length!==Object.keys(e).length&&s.add(a),s.has(a)?a:e}function Y_(e,t,r,n,i){var o=function(){return Bd.getValue()||(globalThis.__DEV__!==!1&&$.warn(48,n?"".concat(i," '").concat(n,"'"):"anonymous ".concat(i),"".concat(r,".").concat(e).replace(/^\./,"")),o=function(){return t}),t};return{get:function(){return o()},set:function(s){o=function(){return s}},enumerable:!0,configurable:!0}}function K0(e,t,r,n){if(!r.fragmentMatches)return globalThis.__DEV__!==!1&&H0(),e;var i=t.definitions.filter(function(s){return s.kind===z.FRAGMENT_DEFINITION});typeof n>"u"&&($(i.length===1,49,i.length),n=i[0].name.value);var o=i.find(function(s){return s.name.value===n});return $(!!o,50,n),e==null||ne(e,{})?e:G0(e,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:Ni(Ci(t)),cache:r,mutableTargets:new Q0,knownChanged:new W0})}function J_(e,t,r){var n;if(!r.fragmentMatches)return globalThis.__DEV__!==!1&&H0(),e;var i=yn(t);return $(i,51),e==null?e:G0(e,i.selectionSet,{operationType:i.operation,operationName:(n=i.name)===null||n===void 0?void 0:n.value,fragmentMap:Ni(Ci(t)),cache:r,mutableTargets:new Q0,knownChanged:new W0})}var Y0=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=Go(eT,{max:er["cache.fragmentQueryDocuments"]||1e3,cache:za})}return e.prototype.lookupFragment=function(t){return null},e.prototype.batch=function(t){var r=this,n=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=t.update(r)},n),i},e.prototype.recordOptimisticTransaction=function(t,r){this.performTransaction(t,r)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,r){return r===void 0&&(r=!!t.optimistic),this.read(T(T({},t),{rootId:t.id||"ROOT_QUERY",optimistic:r}))},e.prototype.watchFragment=function(t){var r=this,n=t.fragment,i=t.fragmentName,o=t.from,s=t.optimistic,a=s===void 0?!0:s,l=kt(t,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(n,i),c=typeof o>"u"||typeof o=="string"?o:this.identify(o),h=!!t[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var f=i||g0(n).name.value;c||globalThis.__DEV__!==!1&&$.warn(1,f)}var d=T(T({},l),{returnPartialData:!0,id:c,query:u,optimistic:a}),m;return new ue(function(x){return r.watch(T(T({},d),{immediate:!0,callback:function(w){var y=h?K0(w.result,n,r,i):w.result;if(!(m&&q0(u,{data:m.result},{data:y},t.variables))){var p={data:y,complete:!!w.complete};w.missing&&(p.missing=Il(w.missing.map(function(g){return g.missing}))),m=T(T({},w),{result:y}),x.next(p)}}}))})},e.prototype.readFragment=function(t,r){return r===void 0&&(r=!!t.optimistic),this.read(T(T({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:r}))},e.prototype.writeQuery=function(t){var r=t.id,n=t.data,i=kt(t,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(t){var r=t.id,n=t.data,i=t.fragment,o=t.fragmentName,s=kt(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:r,result:n}))},e.prototype.updateQuery=function(t,r){return this.batch({update:function(n){var i=n.readQuery(t),o=r(i);return o==null?i:(n.writeQuery(T(T({},t),{data:o})),o)}})},e.prototype.updateFragment=function(t,r){return this.batch({update:function(n){var i=n.readFragment(t),o=r(i);return o==null?i:(n.writeFragment(T(T({},t),{data:o})),o)}})},e}();globalThis.__DEV__!==!1&&(Y0.prototype.getMemoryInternals=dT);var J0=function(e){qt(t,e);function t(r,n,i,o){var s,a=e.call(this,r)||this;if(a.message=r,a.path=n,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=(s={},s[a.path[l]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return t}(Error),Le=Object.prototype.hasOwnProperty;function Wi(e){return e==null}function X0(e,t){var r=e.__typename,n=e.id,i=e._id;if(typeof r=="string"&&(t&&(t.keyObject=Wi(n)?Wi(i)?void 0:{_id:i}:{id:n}),Wi(n)&&!Wi(i)&&(n=i),!Wi(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var Z0={dataIdFromObject:X0,addTypename:!0,resultCaching:!0,canonizeResults:!1};function X_(e){return gn(Z0,e)}function ex(e){var t=e.canonizeResults;return t===void 0?Z0.canonizeResults:t}function Z_(e,t){return le(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var tx=/^[_a-z][_0-9a-z]*/i;function Wr(e){var t=e.match(tx);return t?t[0]:e}function of(e,t,r){return we(t)?Ne(t)?t.every(function(n){return of(e,n,r)}):e.selections.every(function(n){if(Br(n)&&ls(n,r)){var i=fr(n);return Le.call(t,i)&&(!n.selectionSet||of(n.selectionSet,t[i],r))}return!0}):!1}function Gn(e){return we(e)&&!le(e)&&!Ne(e)}function e2(){return new Qr}function rx(e,t){var r=Ni(Ci(e));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&t&&(i=t.lookup(n)),i||null}}}var ua=Object.create(null),xu=function(){return ua},fv=Object.create(null),Ko=function(){function e(t,r){var n=this;this.policies=t,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return bi(le(i)?n.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return le(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return ii(i);if(le(i))return i;var s=n.policies.identify(i)[0];if(s){var a=ii(s);return o&&n.merge(s,i),a}}}return e.prototype.toObject=function(){return T({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,r){if(this.group.depend(t,r),Le.call(this.data,t)){var n=this.data[t];if(n&&Le.call(n,r))return n[r]}if(r==="__typename"&&Le.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof yr)return this.parent.get(t,r)},e.prototype.lookup=function(t,r){if(r&&this.group.depend(t,"__exists"),Le.call(this.data,t))return this.data[t];if(this instanceof yr)return this.parent.lookup(t,r);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,r){var n=this,i;le(t)&&(t=t.__ref),le(r)&&(r=r.__ref);var o=typeof t=="string"?this.lookup(i=t):t,s=typeof r=="string"?this.lookup(i=r):r;if(s){$(typeof i=="string",2);var a=new Qr(r2).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(s).forEach(function(u){if(!o||o[u]!==a[u]){l[u]=1;var c=Wr(u);c!==u&&!n.policies.hasKeyArgs(a.__typename,c)&&(l[c]=1),a[u]===void 0&&!(n instanceof yr)&&delete a[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return n.group.dirty(i,u)})}}},e.prototype.modify=function(t,r){var n=this,i=this.lookup(t);if(i){var o=Object.create(null),s=!1,a=!0,l={DELETE:ua,INVALIDATE:fv,isReference:le,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return n.policies.readField(typeof u=="string"?{fieldName:u,from:c||ii(t)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var c=Wr(u),h=i[u];if(h!==void 0){var f=typeof r=="function"?r:r[u]||r[c];if(f){var d=f===xu?ua:f(bi(h),T(T({},l),{fieldName:c,storeFieldName:u,storage:n.getStorage(t,u)}));if(d===fv)n.group.dirty(t,u);else if(d===ua&&(d=void 0),d!==h&&(o[u]=d,s=!0,h=d,globalThis.__DEV__!==!1)){var m=function(S){if(n.lookup(S.__ref)===void 0)return globalThis.__DEV__!==!1&&$.warn(3,S),!0};if(le(d))m(d);else if(Array.isArray(d))for(var x=!1,w=void 0,y=0,p=d;y<p.length;y++){var g=p[y];if(le(g)){if(x=!0,m(g))break}else if(typeof g=="object"&&g){var b=n.policies.identify(g)[0];b&&(w=g)}if(x&&w!==void 0){globalThis.__DEV__!==!1&&$.warn(4,w);break}}}}h!==void 0&&(a=!1)}}),s)return this.merge(t,o),a&&(this instanceof yr?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,r,n){var i,o=this.lookup(t);if(o){var s=this.getFieldValue(o,"__typename"),a=r&&n?this.policies.getStoreFieldName({typename:s,fieldName:r,args:n}):r;return this.modify(t,a?(i={},i[a]=xu,i):xu)}return!1},e.prototype.evict=function(t,r){var n=!1;return t.id&&(Le.call(this.data,t.id)&&(n=this.delete(t.id,t.fieldName,t.args)),this instanceof yr&&this!==r&&(n=this.parent.evict(t,r)||n),(t.fieldName||n)&&this.group.dirty(t.id,t.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){Le.call(t.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},e.prototype.replace=function(t){var r=this;if(Object.keys(this.data).forEach(function(o){t&&Le.call(t,o)||r.delete(o)}),t){var n=t.__META,i=kt(t,["__META"]);Object.keys(i).forEach(function(o){r.merge(o,i[o])}),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var r=--this.rootIds[t];return r||delete this.rootIds[t],r}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof yr?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(s){Le.call(n,s)&&(Object.keys(t.findChildRefIds(s)).forEach(r.add,r),delete n[s])});var i=Object.keys(n);if(i.length){for(var o=this;o instanceof yr;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},e.prototype.findChildRefIds=function(t){if(!Le.call(this.refs,t)){var r=this.refs[t]=Object.create(null),n=this.data[t];if(!n)return r;var i=new Set([n]);i.forEach(function(o){le(o)&&(r[o.__ref]=!0),we(o)&&Object.keys(o).forEach(function(s){var a=o[s];we(a)&&i.add(a)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),nx=function(){function e(t,r){r===void 0&&(r=null),this.caching=t,this.parent=r,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?C0():null,this.keyMaker=new hr(bn)},e.prototype.depend=function(t,r){if(this.d){this.d(wu(t,r));var n=Wr(r);n!==r&&this.d(wu(t,n)),this.parent&&this.parent.depend(t,r)}},e.prototype.dirty=function(t,r){this.d&&this.d.dirty(wu(t,r),r==="__exists"?"forget":"setDirty")},e}();function wu(e,t){return t+"#"+e}function dv(e,t){Eo(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(r){qt(n,r);function n(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,l=i.seed,u=r.call(this,o,new nx(a))||this;return u.stump=new t2(u),u.storageTrie=new hr(bn),l&&u.replace(l),u}return n.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(e);e.Root=t})(Ko||(Ko={}));var yr=function(e){qt(t,e);function t(r,n,i,o){var s=e.call(this,n.policies,o)||this;return s.id=r,s.parent=n,s.replay=i,s.group=o,i(s),s}return t.prototype.addLayer=function(r,n){return new t(r,this,n,this.group)},t.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=n.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(l){ne(s[l],a[l])||n.group.dirty(o,l)}):(n.group.dirty(o,"__exists"),Object.keys(a).forEach(function(l){n.group.dirty(o,l)})):n.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return T(T({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return Le.call(this.data,r)?T(T({},n),e.prototype.findChildRefIds.call(this,r)):n},t.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},t}(Ko),t2=function(e){qt(t,e);function t(r){return e.call(this,"EntityStore.Stump",r,function(){},new nx(r.group.caching,r.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(r,n){return this.parent.merge(r,n)},t}(yr);function r2(e,t,r){var n=e[r],i=t[r];return ne(n,i)?n:i}function Eo(e){return!!(e instanceof Ko&&e.group.caching)}function n2(e){return we(e)?Ne(e)?e.slice(0):T({__proto__:Object.getPrototypeOf(e)},e):e}var hv=function(){function e(){this.known=new(Id?WeakSet:Set),this.pool=new hr(bn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return we(t)&&this.known.has(t)},e.prototype.pass=function(t){if(we(t)){var r=n2(t);return this.passes.set(r,t),r}return t},e.prototype.admit=function(t){var r=this;if(we(t)){var n=this.passes.get(t);if(n)return n;var i=Object.getPrototypeOf(t);switch(i){case Array.prototype:{if(this.known.has(t))return t;var o=t.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(t))return t;var a=Object.getPrototypeOf(t),l=[a],u=this.sortedKeys(t);l.push(u.json);var c=l.length;u.sorted.forEach(function(d){l.push(r.admit(t[d]))});var s=this.pool.lookupArray(l);if(!s.object){var h=s.object=Object.create(a);this.known.add(h),u.sorted.forEach(function(d,m){h[d]=l[c+m]}),globalThis.__DEV__!==!1&&Object.freeze(h)}return s.object}}}return t},e.prototype.sortedKeys=function(t){var r=Object.keys(t),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},e}();function pv(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var i2=function(){function e(t){var r=this;this.knownResults=new(bn?WeakMap:Map),this.config=gn(t,{addTypename:t.addTypename!==!1,canonizeResults:ex(t)}),this.canon=t.canon||new hv,this.executeSelectionSet=Go(function(n){var i,o=n.context.canonizeResults,s=pv(n);s[3]=!o;var a=(i=r.executeSelectionSet).peek.apply(i,s);return a?o?T(T({},a),{result:r.canon.admit(a.result)}):a:(dv(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize||er["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:pv,makeCacheKey:function(n,i,o,s){if(Eo(o.store))return o.store.makeCacheKey(n,le(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Go(function(n){return dv(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize||er["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(n){var i=n.field,o=n.array,s=n.context;if(Eo(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return e.prototype.resetCanon=function(){this.canon=new hv},e.prototype.diffQueryAgainstStore=function(t){var r=t.store,n=t.query,i=t.rootId,o=i===void 0?"ROOT_QUERY":i,s=t.variables,a=t.returnPartialData,l=a===void 0?!0:a,u=t.canonizeResults,c=u===void 0?this.config.canonizeResults:u,h=this.config.cache.policies;s=T(T({},Ad(y0(n))),s);var f=ii(o),d=this.executeSelectionSet({selectionSet:Ii(n).selectionSet,objectOrReference:f,enclosingRef:f,context:T({store:r,query:n,policies:h,variables:s,varString:Ur(s),canonizeResults:c},rx(n,this.config.fragments))}),m;if(d.missing&&(m=[new J0(o2(d.missing),d.missing,n,s)],!l))throw m[0];return{result:d.result,complete:!m,missing:m}},e.prototype.isFresh=function(t,r,n,i){if(Eo(i.store)&&this.knownResults.get(t)===n){var o=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(t));if(o&&t===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var r=this,n=t.selectionSet,i=t.objectOrReference,o=t.enclosingRef,s=t.context;if(le(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,l=s.policies,u=s.store,c=u.getFieldValue(i,"__typename"),h=[],f,d=new Qr;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&h.push({__typename:c});function m(g,b){var S;return g.missing&&(f=d.merge(f,(S={},S[b]=g.missing,S))),g.result}var x=new Set(n.selections);x.forEach(function(g){var b,S;if(ls(g,a))if(Br(g)){var _=l.readField({fieldName:g.name.value,field:g,variables:s.variables,from:i},s),N=fr(g);_===void 0?Ld.added(g)||(f=d.merge(f,(b={},b[N]="Can't find field '".concat(g.name.value,"' on ").concat(le(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),b))):Ne(_)?_.length>0&&(_=m(r.executeSubSelectedArray({field:g,array:_,enclosingRef:o,context:s}),N)):g.selectionSet?_!=null&&(_=m(r.executeSelectionSet({selectionSet:g.selectionSet,objectOrReference:_,enclosingRef:le(_)?_:o,context:s}),N)):s.canonizeResults&&(_=r.canon.pass(_)),_!==void 0&&h.push((S={},S[N]=_,S))}else{var O=Tl(g,s.lookupFragment);if(!O&&g.kind===z.FRAGMENT_SPREAD)throw et(10,g.name.value);O&&l.fragmentMatches(O,c)&&O.selectionSet.selections.forEach(x.add,x)}});var w=Il(h),y={result:w,missing:f},p=s.canonizeResults?this.canon.admit(y):bi(y);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(t){var r=this,n=t.field,i=t.array,o=t.enclosingRef,s=t.context,a,l=new Qr;function u(c,h){var f;return c.missing&&(a=l.merge(a,(f={},f[h]=c.missing,f))),c.result}return n.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(c,h){return c===null?null:Ne(c)?u(r.executeSubSelectedArray({field:n,array:c,enclosingRef:o,context:s}),h):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,enclosingRef:le(c)?c:o,context:s}),h):(globalThis.__DEV__!==!1&&s2(s.store,n,c),c)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},e}();function o2(e){try{JSON.stringify(e,function(t,r){if(typeof r=="string")throw r;return r})}catch(t){return t}}function s2(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach(function(i){we(i)&&($(!le(i),11,Z_(e,i),t.name.value),Object.values(i).forEach(n.add,n))})}}var qd=new Nl,vv=new WeakMap;function ko(e){var t=vv.get(e);return t||vv.set(e,t={vars:new Set,dep:C0()}),t}function mv(e){ko(e).vars.forEach(function(t){return t.forgetCache(e)})}function a2(e){ko(e).vars.forEach(function(t){return t.attachCache(e)})}function l2(e){var t=new Set,r=new Set,n=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach(function(l){ko(l).dep.dirty(n),u2(l)});var s=Array.from(r);r.clear(),s.forEach(function(l){return l(e)})}}else{var a=qd.getValue();a&&(i(a),ko(a).dep(n))}return e};n.onNextChange=function(o){return r.add(o),function(){r.delete(o)}};var i=n.attachCache=function(o){return t.add(o),ko(o).vars.add(n),n};return n.forgetCache=function(o){return t.delete(o)},n}function u2(e){e.broadcastWatches&&e.broadcastWatches()}var yv=Object.create(null);function Qd(e){var t=JSON.stringify(e);return yv[t]||(yv[t]=Object.create(null))}function gv(e){var t=Qd(e);return t.keyFieldsFn||(t.keyFieldsFn=function(r,n){var i=function(s,a){return n.readField(a,s)},o=n.keyObject=Wd(e,function(s){var a=si(n.storeObject,s,i);return a===void 0&&r!==n.storeObject&&Le.call(r,s[0])&&(a=si(r,s,ox)),$(a!==void 0,5,s.join("."),r),a});return"".concat(n.typename,":").concat(JSON.stringify(o))})}function xv(e){var t=Qd(e);return t.keyArgsFn||(t.keyArgsFn=function(r,n){var i=n.field,o=n.variables,s=n.fieldName,a=Wd(e,function(u){var c=u[0],h=c.charAt(0);if(h==="@"){if(i&&Nt(i.directives)){var f=c.slice(1),d=i.directives.find(function(y){return y.name.value===f}),m=d&&_l(d,o);return m&&si(m,u.slice(1))}return}if(h==="$"){var x=c.slice(1);if(o&&Le.call(o,x)){var w=u.slice(0);return w[0]=x,si(o,w)}return}if(r)return si(r,u)}),l=JSON.stringify(a);return(r||l!=="{}")&&(s+=":"+l),s})}function Wd(e,t){var r=new Qr;return ix(e).reduce(function(n,i){var o,s=t(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);n=r.merge(n,s)}return n},Object.create(null))}function ix(e){var t=Qd(e);if(!t.paths){var r=t.paths=[],n=[];e.forEach(function(i,o){Ne(i)?(ix(i).forEach(function(s){return r.push(n.concat(s))}),n.length=0):(n.push(i),Ne(e[o+1])||(r.push(n.slice(0)),n.length=0))})}return t.paths}function ox(e,t){return e[t]}function si(e,t,r){return r=r||ox,sx(t.reduce(function n(i,o){return Ne(i)?i.map(function(s){return n(s,o)}):i&&r(i,o)},e))}function sx(e){return we(e)?Ne(e)?e.map(sx):Wd(Object.keys(e).sort(),function(t){return si(e,t)}):e}function sf(e){return e.args!==void 0?e.args:e.field?_l(e.field,e.variables):null}var c2=function(){},wv=function(e,t){return t.fieldName},bv=function(e,t,r){var n=r.mergeObjects;return n(e,t)},Sv=function(e,t){return t},f2=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=T({dataIdFromObject:X0},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,r){var n,i=this,o=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||t.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var s=r&&r.storeObject||t,a=T(T({},r),{typename:o,storeObject:s,readField:r&&r.readField||function(){var h=Hd(arguments,s);return i.readField(h,{store:i.cache.data,variables:h.variables})}}),l,u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;return Bd.withValue(!0,function(){for(;c;){var h=c(T(T({},t),s),a);if(Ne(h))c=gv(h);else{l=h;break}}}),l=l?String(l):void 0,a.keyObject?[l,a.keyObject]:[l]},e.prototype.addTypePolicies=function(t){var r=this;Object.keys(t).forEach(function(n){var i=t[n],o=i.queryType,s=i.mutationType,a=i.subscriptionType,l=kt(i,["queryType","mutationType","subscriptionType"]);o&&r.setRootTypename("Query",n),s&&r.setRootTypename("Mutation",n),a&&r.setRootTypename("Subscription",n),Le.call(r.toBeAdded,n)?r.toBeAdded[n].push(l):r.toBeAdded[n]=[l]})},e.prototype.updateTypePolicy=function(t,r){var n=this,i=this.getTypePolicy(t),o=r.keyFields,s=r.fields;function a(l,u){l.merge=typeof u=="function"?u:u===!0?bv:u===!1?Sv:l.merge}a(i,r.merge),i.keyFn=o===!1?c2:Ne(o)?gv(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(l){var u=n.getFieldPolicy(t,l,!0),c=s[l];if(typeof c=="function")u.read=c;else{var h=c.keyArgs,f=c.read,d=c.merge;u.keyFn=h===!1?wv:Ne(h)?xv(h):typeof h=="function"?h:u.keyFn,typeof f=="function"&&(u.read=f),a(u,d)}u.read&&u.merge&&(u.keyFn=u.keyFn||wv)})},e.prototype.setRootTypename=function(t,r){r===void 0&&(r=t);var n="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&($(!i||i===t,6,t),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},e.prototype.addPossibleTypes=function(t){var r=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(n){r.getSupertypeSet(n,!0),t[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var o=i.match(tx);(!o||o[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},e.prototype.getTypePolicy=function(t){var r=this;if(!Le.call(this.typePolicies,t)){var n=this.typePolicies[t]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(t);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(t,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(t)){var l=r.supertypeMap.get(a);l&&l.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var a=r.getTypePolicy(s),l=a.fields,u=kt(a,["fields"]);Object.assign(n,u),Object.assign(n.fields,l)})}var o=this.toBeAdded[t];return o&&o.length&&o.splice(0).forEach(function(s){r.updateTypePolicy(t,s)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,r,n){if(t){var i=this.getTypePolicy(t).fields;return i[r]||n&&(i[r]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,r){var n=this.supertypeMap.get(t);return!n&&r&&this.supertypeMap.set(t,n=new Set),n},e.prototype.fragmentMatches=function(t,r,n,i){var o=this;if(!t.typeCondition)return!0;if(!r)return!1;var s=t.typeCondition.name.value;if(r===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(r,!0),l=[a],u=function(m){var x=o.getSupertypeSet(m,!1);x&&x.size&&l.indexOf(x)<0&&l.push(x)},c=!!(n&&this.fuzzySubtypes.size),h=!1,f=0;f<l.length;++f){var d=l[f];if(d.has(s))return a.has(s)||(h&&globalThis.__DEV__!==!1&&$.warn(7,r,s),a.add(s)),!0;d.forEach(u),c&&f===l.length-1&&of(t.selectionSet,n,i)&&(c=!1,h=!0,this.fuzzySubtypes.forEach(function(m,x){var w=r.match(m);w&&w[0]===r&&u(x)}))}return!1},e.prototype.hasKeyArgs=function(t,r){var n=this.getFieldPolicy(t,r,!1);return!!(n&&n.keyFn)},e.prototype.getStoreFieldName=function(t){var r=t.typename,n=t.fieldName,i=this.getFieldPolicy(r,n,!1),o,s=i&&i.keyFn;if(s&&r)for(var a={typename:r,fieldName:n,field:t.field||null,variables:t.variables},l=sf(t);s;){var u=s(l,a);if(Ne(u))s=xv(u);else{o=u||n;break}}return o===void 0&&(o=t.field?CT(t.field,t.variables):m0(n,sf(t))),o===!1?n:n===Wr(o)?o:n+":"+o},e.prototype.readField=function(t,r){var n=t.from;if(n){var i=t.field||t.fieldName;if(i){if(t.typename===void 0){var o=r.store.getFieldValue(n,"__typename");o&&(t.typename=o)}var s=this.getStoreFieldName(t),a=Wr(s),l=r.store.getFieldValue(n,s),u=this.getFieldPolicy(t.typename,a,!1),c=u&&u.read;if(c){var h=Ev(this,n,t,r,r.store.getStorage(le(n)?n.__ref:n,s));return qd.withValue(this.cache,c,[l,h])}return l}}},e.prototype.getReadFunction=function(t,r){var n=this.getFieldPolicy(t,r,!1);return n&&n.read},e.prototype.getMergeFunction=function(t,r,n){var i=this.getFieldPolicy(t,r,!1),o=i&&i.merge;return!o&&n&&(i=this.getTypePolicy(n),o=i&&i.merge),o},e.prototype.runMergeFunction=function(t,r,n,i,o){var s=n.field,a=n.typename,l=n.merge;return l===bv?ax(i.store)(t,r):l===Sv?r:(i.overwrite&&(t=void 0),l(t,r,Ev(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},e}();function Ev(e,t,r,n,i){var o=e.getStoreFieldName(r),s=Wr(o),a=r.variables||n.variables,l=n.store,u=l.toReference,c=l.canRead;return{args:sf(r),field:r.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:le,toReference:u,storage:i,cache:e.cache,canRead:c,readField:function(){return e.readField(Hd(arguments,t,a),n)},mergeObjects:ax(n.store)}}function Hd(e,t,r){var n=e[0],i=e[1],o=e.length,s;return typeof n=="string"?s={fieldName:n,from:o>1?i:t}:(s=T({},n),Le.call(s,"from")||(s.from=t)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&$.warn(8,l0(Array.from(e))),s.variables===void 0&&(s.variables=r),s}function ax(e){return function(r,n){if(Ne(r)||Ne(n))throw et(9);if(we(r)&&we(n)){var i=e.getFieldValue(r,"__typename"),o=e.getFieldValue(n,"__typename"),s=i&&o&&i!==o;if(s)return n;if(le(r)&&Gn(n))return e.merge(r.__ref,n),r;if(Gn(r)&&le(n))return e.merge(r,n.__ref),n;if(Gn(r)&&Gn(n))return T(T({},r),n)}return n}}function bu(e,t,r){var n="".concat(t).concat(r),i=e.flavors.get(n);return i||e.flavors.set(n,i=e.clientOnly===t&&e.deferred===r?e:T(T({},e),{clientOnly:t,deferred:r})),i}var d2=function(){function e(t,r,n){this.cache=t,this.reader=r,this.fragments=n}return e.prototype.writeToStore=function(t,r){var n=this,i=r.query,o=r.result,s=r.dataId,a=r.variables,l=r.overwrite,u=yn(i),c=e2();a=T(T({},Ad(u)),a);var h=T(T({store:t,written:Object.create(null),merge:function(d,m){return c.merge(d,m)},variables:a,varString:Ur(a)},rx(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:h});if(!le(f))throw et(12,o);return h.incomingById.forEach(function(d,m){var x=d.storeObject,w=d.mergeTree,y=d.fieldNodeSet,p=ii(m);if(w&&w.map.size){var g=n.applyMerges(w,p,x,h);if(le(g))return;x=g}if(globalThis.__DEV__!==!1&&!h.overwrite){var b=Object.create(null);y.forEach(function(N){N.selectionSet&&(b[N.name.value]=!0)});var S=function(N){return b[Wr(N)]===!0},_=function(N){var O=w&&w.map.get(N);return!!(O&&O.info&&O.info.merge)};Object.keys(x).forEach(function(N){S(N)&&!_(N)&&h2(p,x,N,h.store)})}t.merge(m,x)}),t.retain(f.__ref),f},e.prototype.processSelectionSet=function(t){var r=this,n=t.dataId,i=t.result,o=t.selectionSet,s=t.context,a=t.mergeTree,l=this.cache.policies,u=Object.create(null),c=n&&l.rootTypenamesById[n]||Kc(i,o,s.fragmentMap)||n&&s.store.get(n,"__typename");typeof c=="string"&&(u.__typename=c);var h=function(){var g=Hd(arguments,u,s.variables);if(le(g.from)){var b=s.incomingById.get(g.from.__ref);if(b){var S=l.readField(T(T({},g),{from:b.storeObject}),s);if(S!==void 0)return S}}return l.readField(g,s)},f=new Set;this.flattenFields(o,i,s,c).forEach(function(g,b){var S,_=fr(b),N=i[_];if(f.add(b),N!==void 0){var O=l.getStoreFieldName({typename:c,fieldName:b.name.value,field:b,variables:g.variables}),P=kv(a,O),A=r.processFieldValue(N,b,b.selectionSet?bu(g,!1,!1):g,P),M=void 0;b.selectionSet&&(le(A)||Gn(A))&&(M=h("__typename",A));var q=l.getMergeFunction(c,b.name.value,M);q?P.info={field:b,typename:c,merge:q}:Tv(a,O),u=g.merge(u,(S={},S[O]=A,S))}else globalThis.__DEV__!==!1&&!g.clientOnly&&!g.deferred&&!Ld.added(b)&&!l.getReadFunction(c,b.name.value)&&globalThis.__DEV__!==!1&&$.error(13,fr(b),i)});try{var d=l.identify(i,{typename:c,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:u,readField:h}),m=d[0],x=d[1];n=n||m,x&&(u=s.merge(u,x))}catch(g){if(!n)throw g}if(typeof n=="string"){var w=ii(n),y=s.written[n]||(s.written[n]=[]);if(y.indexOf(o)>=0||(y.push(o),this.reader&&this.reader.isFresh(i,w,o,s)))return w;var p=s.incomingById.get(n);return p?(p.storeObject=s.merge(p.storeObject,u),p.mergeTree=af(p.mergeTree,a),f.forEach(function(g){return p.fieldNodeSet.add(g)})):s.incomingById.set(n,{storeObject:u,mergeTree:qa(a)?void 0:a,fieldNodeSet:f}),w}return u},e.prototype.processFieldValue=function(t,r,n,i){var o=this;return!r.selectionSet||t===null?globalThis.__DEV__!==!1?L0(t):t:Ne(t)?t.map(function(s,a){var l=o.processFieldValue(s,r,n,kv(i,a));return Tv(i,a),l}):this.processSelectionSet({result:t,selectionSet:r.selectionSet,context:n,mergeTree:i})},e.prototype.flattenFields=function(t,r,n,i){i===void 0&&(i=Kc(r,t,n.fragmentMap));var o=new Map,s=this.cache.policies,a=new hr(!1);return function l(u,c){var h=a.lookup(u,c.clientOnly,c.deferred);h.visited||(h.visited=!0,u.selections.forEach(function(f){if(ls(f,n.variables)){var d=c.clientOnly,m=c.deferred;if(!(d&&m)&&Nt(f.directives)&&f.directives.forEach(function(y){var p=y.name.value;if(p==="client"&&(d=!0),p==="defer"){var g=_l(y,n.variables);(!g||g.if!==!1)&&(m=!0)}}),Br(f)){var x=o.get(f);x&&(d=d&&x.clientOnly,m=m&&x.deferred),o.set(f,bu(n,d,m))}else{var w=Tl(f,n.lookupFragment);if(!w&&f.kind===z.FRAGMENT_SPREAD)throw et(14,f.name.value);w&&s.fragmentMatches(w,i,r,n.variables)&&l(w.selectionSet,bu(n,d,m))}}}))}(t,n),o},e.prototype.applyMerges=function(t,r,n,i,o){var s,a=this;if(t.map.size&&!le(n)){var l=!Ne(n)&&(le(r)||Gn(r))?r:void 0,u=n;l&&!o&&(o=[le(l)?l.__ref:l]);var c,h=function(f,d){return Ne(f)?typeof d=="number"?f[d]:void 0:i.store.getFieldValue(f,String(d))};t.map.forEach(function(f,d){var m=h(l,d),x=h(u,d);if(x!==void 0){o&&o.push(d);var w=a.applyMerges(f,m,x,i,o);w!==x&&(c=c||new Map,c.set(d,w)),o&&$(o.pop()===d)}}),c&&(n=Ne(u)?u.slice(0):T({},u),c.forEach(function(f,d){n[d]=f}))}return t.info?this.cache.policies.runMergeFunction(r,n,t.info,i,o&&(s=i.store).getStorage.apply(s,o)):n},e}(),lx=[];function kv(e,t){var r=e.map;return r.has(t)||r.set(t,lx.pop()||{map:new Map}),r.get(t)}function af(e,t){if(e===t||!t||qa(t))return e;if(!e||qa(e))return t;var r=e.info&&t.info?T(T({},e.info),t.info):e.info||t.info,n=e.map.size&&t.map.size,i=n?new Map:e.map.size?e.map:t.map,o={info:r,map:i};if(n){var s=new Set(t.map.keys());e.map.forEach(function(a,l){o.map.set(l,af(a,t.map.get(l))),s.delete(l)}),s.forEach(function(a){o.map.set(a,af(t.map.get(a),e.map.get(a)))})}return o}function qa(e){return!e||!(e.info||e.map.size)}function Tv(e,t){var r=e.map,n=r.get(t);n&&qa(n)&&(lx.push(n),r.delete(t))}var _v=new Set;function h2(e,t,r,n){var i=function(h){var f=n.getFieldValue(h,r);return typeof f=="object"&&f},o=i(e);if(o){var s=i(t);if(s&&!le(o)&&!ne(o,s)&&!Object.keys(o).every(function(h){return n.getFieldValue(s,h)!==void 0})){var a=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),l=Wr(r),u="".concat(a,".").concat(l);if(!_v.has(u)){_v.add(u);var c=[];!Ne(o)&&!Ne(s)&&[o,s].forEach(function(h){var f=n.getFieldValue(h,"__typename");typeof f=="string"&&!c.includes(f)&&c.push(f)}),globalThis.__DEV__!==!1&&$.warn(15,l,a,c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"",u,T({},o),T({},s))}}}}var Qa=function(e){qt(t,e);function t(r){r===void 0&&(r={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new I0(Ld),n.assumeImmutableResults=!0,n.makeVar=l2,n.txCount=0,n.config=X_(r),n.addTypename=!!n.config.addTypename,n.policies=new f2({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return t.prototype.init=function(){var r=this.data=new Ko.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},t.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new d2(this,this.storeReader=new i2({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:ex(this.config),canon:r?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Go(function(s,a){return n.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize||er["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var a=s.optimistic?n.optimisticData:n.data;if(Eo(a)){var l=s.optimistic,u=s.id,c=s.variables;return a.makeCacheKey(s.query,s.callback,Ur({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},t.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},t.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(T(T({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof J0)return null;throw o}},t.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(r){if(Le.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(T(T({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(r){var n=this;return this.watches.size||a2(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&mv(n),n.maybeBroadcastWatch.forget(r)}},t.prototype.gc=function(r){var n;Ur.reset(),Cr.reset(),this.addTypenameTransform.resetCache(),(n=this.config.fragments)===null||n===void 0||n.resetCaches();var i=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},t.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},t.prototype.identify=function(r){if(le(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){globalThis.__DEV__!==!1&&$.warn(n)}},t.prototype.evict=function(r){if(!r.id){if(Le.call(r,"id"))return!1;r=T(T({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(r){var n=this;return this.init(),Ur.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),mv(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},t.prototype.batch=function(r){var n=this,i=r.update,o=r.optimistic,s=o===void 0?!0:o,a=r.removeOptimistic,l=r.onWatchUpdated,u,c=function(f){var d=n,m=d.data,x=d.optimisticData;++n.txCount,f&&(n.data=n.optimisticData=f);try{return u=i(n)}finally{--n.txCount,n.data=m,n.optimisticData=x}},h=new Set;return l&&!this.txCount&&this.broadcastWatches(T(T({},r),{onWatchUpdated:function(f){return h.add(f),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),l&&h.size?(this.broadcastWatches(T(T({},r),{onWatchUpdated:function(f,d){var m=l.call(this,f,d);return m!==!1&&h.delete(f),m}})),h.size&&h.forEach(function(f){return n.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(r),u},t.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},t.prototype.transformDocument=function(r){return this.addTypenameToDocument(this.addFragmentsToDocument(r))},t.prototype.fragmentMatches=function(r,n){return this.policies.fragmentMatches(r,n)},t.prototype.lookupFragment=function(r){var n;return((n=this.config.fragments)===null||n===void 0?void 0:n.lookup(r))||null},t.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},t.prototype.addFragmentsToDocument=function(r){var n=this.config.fragments;return n?n.transform(r):r},t.prototype.addTypenameToDocument=function(r){return this.addTypename?this.addTypenameTransform.transformDocument(r):r},t.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,o=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(o.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,o,i)===!1)||(!i||!ne(i.result,o.result))&&r.callback(r.lastDiff=o,i)},t}(Y0);globalThis.__DEV__!==!1&&(Qa.prototype.getMemoryInternals=fT);var te;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(te||(te={}));function Kn(e){return e?e<7:!1}var Nv=Object.assign,p2=Object.hasOwnProperty,To=function(e){qt(t,e);function t(r){var n=r.queryManager,i=r.queryInfo,o=r.options,s=this,a=t.inactiveOnCreation.getValue();s=e.call(this,function(y){s._getOrCreateQuery();try{var p=y._subscription._observer;p&&!p.error&&(p.error=v2)}catch{}var g=!s.observers.size;s.observers.add(y);var b=s.last;return b&&b.error?y.error&&y.error(b.error):b&&b.result&&y.next&&y.next(s.maskResult(b.result)),g&&s.reobserve().catch(function(){}),function(){s.observers.delete(y)&&!s.observers.size&&s.tearDownQuery()}})||this,s.observers=new Set,s.subscriptions=new Set,s.dirty=!1,s._getOrCreateQuery=function(){return a&&(n.queries.set(s.queryId,i),a=!1),s.queryManager.getOrCreateQuery(s.queryId)},s.queryInfo=i,s.queryManager=n,s.waitForOwnResult=Su(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var l=n.defaultOptions.watchQuery,u=l===void 0?{}:l,c=u.fetchPolicy,h=c===void 0?"cache-first":c,f=o.fetchPolicy,d=f===void 0?h:f,m=o.initialFetchPolicy,x=m===void 0?d==="standby"?h:d:m;s.options=T(T({},o),{initialFetchPolicy:x,fetchPolicy:d}),s.queryId=i.queryId||n.generateQueryId();var w=yn(s.query);return s.queryName=w&&w.name&&w.name.value,s}return Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var r=this;return new Promise(function(n,i){var o={next:function(a){n(a),r.observers.delete(o),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=r.subscribe(o)})},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||te.ready,o=T(T({},n),{loading:Kn(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(Su(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),ne(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===te.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=te.ready,o.loading=!1)):o.partial=!0,o.networkStatus===te.ready&&(o.error||o.errors)&&(o.networkStatus=te.error),globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&ux(l.missing)}return r&&this.updateLastResult(o),o},t.prototype.getCurrentResult=function(r){return r===void 0&&(r=!0),this.maskResult(this.getCurrentFullResult(r))},t.prototype.isDifferentFromLastResult=function(r,n){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,s=o?i.nonReactiveQuery:this.query,a=o||i.hasNonreactiveDirective?!q0(s,this.last.result,r,this.variables):!ne(this.last.result,r);return a||n&&!ne(this.last.variables,n)},t.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||ne(i.variables,this.variables)))return i[r]},t.prototype.getLastResult=function(r){return this.getLast("result",r)},t.prototype.getLastError=function(r){return this.getLast("error",r)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(r){var n,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&r&&p2.call(r,"variables")){var s=y0(this.query),a=s.variableDefinitions;(!a||!a.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&$.warn(21,r,((n=s.name)===null||n===void 0?void 0:n.value)||s)}return r&&!ne(this.options.variables,r)&&(i.variables=this.options.variables=T(T({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,te.refetch)},t.prototype.fetchMore=function(r){var n=this,i=T(T({},r.query?r:T(T(T(T({},this.options),{query:this.options.query}),r),{variables:T(T({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=r.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=te.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set,u=r==null?void 0:r.updateQuery,c=this.options.fetchPolicy!=="no-cache";return c||$(u,22),this.queryManager.fetchQuery(o,i,te.fetchMore).then(function(h){if(n.queryManager.removeQuery(o),s.networkStatus===te.fetchMore&&(s.networkStatus=a),c)n.queryManager.cache.batch({update:function(m){var x=r.updateQuery;x?m.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(w){return x(w,{fetchMoreResult:h.data,variables:i.variables})}):m.writeQuery({query:i.query,variables:i.variables,data:h.data})},onWatchUpdated:function(m){l.add(m.query)}});else{var f=n.getLast("result"),d=u(f.data,{fetchMoreResult:h.data,variables:i.variables});n.reportResult(T(T({},f),{networkStatus:a,loading:Kn(a),data:d}),n.variables)}return n.maskResult(h)}).finally(function(){c&&!l.has(n.query)&&n.reobserveCacheFirst()})},t.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(o){var s=r.updateQuery;s&&n.updateQuery(function(a,l){return s(a,T({subscriptionData:o},l))})},error:function(o){if(r.onError){r.onError(o);return}globalThis.__DEV__!==!1&&$.error(23,o)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(r){return this.reobserve(r)},t.prototype.silentSetOptions=function(r){var n=gn(this.options,r||{});Nv(this.options,n)},t.prototype.setVariables=function(r){return ne(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},te.setVariables):Promise.resolve())},t.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),o=i.result,s=i.complete,a=r(o,{variables:this.variables,complete:!!s,previousData:o});a&&(n.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,o=i===void 0?"cache-first":i,s=n.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(o,{reason:r,options:n,observable:this,initialFetchPolicy:a}):r==="variables-changed"?n.fetchPolicy=a:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},t.prototype.fetch=function(r,n,i){var o=this._getOrCreateQuery();return o.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(o,r,n,i)},t.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,o=n.options.pollInterval;if(!o||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){$(o,24);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){var u,c;r.pollingInfo&&(!Kn(r.queryInfo.networkStatus)&&!(!((c=(u=r.options).skipPollAttempt)===null||c===void 0)&&c.call(u))?r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},te.poll).then(l,l):l())},l=function(){var u=r.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(a,u.interval))};l()}}},t.prototype.updateLastResult=function(r,n){n===void 0&&(n=this.variables);var i=this.getLastError();return i&&this.last&&!ne(n,this.last.variables)&&(i=void 0),this.last=T({result:this.queryManager.assumeImmutableResults?r:L0(r),variables:n},i?{error:i}:null)},t.prototype.reobserveAsConcast=function(r,n){var i=this;this.isTornDown=!1;var o=n===te.refetch||n===te.fetchMore||n===te.poll,s=this.options.variables,a=this.options.fetchPolicy,l=gn(this.options,r||{}),u=o?l:Nv(this.options,l),c=this.transformDocument(u.query);this.lastQuery=c,o||(this.updatePolling(),r&&r.variables&&!ne(r.variables,s)&&u.fetchPolicy!=="standby"&&(u.fetchPolicy===a||typeof u.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",u),n===void 0&&(n=te.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Su(u.fetchPolicy));var h=function(){i.concast===m&&(i.waitForOwnResult=!1)},f=u.variables&&T({},u.variables),d=this.fetch(u,n,c),m=d.concast,x=d.fromLink,w={next:function(y){ne(i.variables,f)&&(h(),i.reportResult(y,f))},error:function(y){ne(i.variables,f)&&(z0(y)||(y=new dt({networkError:y})),h(),i.reportError(y,f))}};return!o&&(x||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=m,this.observer=w),m.addObserver(w),m},t.prototype.reobserve=function(r,n){return i_(this.reobserveAsConcast(r,n).promise.then(this.maskResult))},t.prototype.resubscribeAfterError=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,r);return this.last=i,o},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(r,n){var i=this.getLastError(),o=this.isDifferentFromLastResult(r,n);(i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),(i||o)&&bo(this.observers,"next",this.maskResult(r))},t.prototype.reportError=function(r,n){var i=T(T({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:te.error,loading:!1});this.updateLastResult(i,n),bo(this.observers,"error",this.last.error=r)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(r){return this.queryManager.transform(r)},t.prototype.maskResult=function(r){return r&&"data"in r?T(T({},r),{data:this.queryManager.maskOperation({document:this.query,data:r.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):r},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var r=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.notify=function(){if(this.cancelNotifyTimeout(),this.dirty&&(this.options.fetchPolicy=="cache-only"||this.options.fetchPolicy=="cache-and-network"||!Kn(this.queryInfo.networkStatus))){var r=this.queryInfo.getDiff();r.fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()}this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var r=this.options,n=r.fetchPolicy,i=r.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(o,s){return this.nextFetchPolicy=i,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(o,s):n}}):this.reobserve()},t.inactiveOnCreation=new Nl,t}(ue);F0(To);function v2(e){globalThis.__DEV__!==!1&&$.error(25,e.message,e.stack)}function ux(e){globalThis.__DEV__!==!1&&e&&globalThis.__DEV__!==!1&&$.debug(26,e)}function Su(e){return e==="network-only"||e==="no-cache"||e==="standby"}var Yn=new(bn?WeakMap:Map);function Eu(e,t){var r=e[t];typeof r=="function"&&(e[t]=function(){return Yn.set(e,(Yn.get(e)+1)%1e15),r.apply(this,arguments)})}var ku=function(){function e(t,r){r===void 0&&(r=t.generateQueryId()),this.queryId=r,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var n=this.cache=t.cache;Yn.has(n)||(Yn.set(n,0),Eu(n,"evict"),Eu(n,"modify"),Eu(n,"reset"))}return e.prototype.init=function(t){var r=t.networkStatus||te.loading;return this.variables&&this.networkStatus!==te.loading&&!ne(this.variables,t.variables)&&(r=te.setVariables),ne(t.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var t=this.getDiffOptions();if(this.lastDiff&&ne(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(t);return this.updateLastDiff(n,t),n},e.prototype.updateLastDiff=function(t,r){this.lastDiff=t?{diff:t,options:r||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var r;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},e.prototype.setDiff=function(t){var r,n,i=this.lastDiff&&this.lastDiff.diff;t&&!t.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(t),ne(i&&i.result,t&&t.result)||(n=this.observableQuery)===null||n===void 0||n.scheduleNotify())},e.prototype.setObservableQuery=function(t){t!==this.observableQuery&&(this.observableQuery=t,t&&(t.queryInfo=this))},e.prototype.stop=function(){var t;if(!this.stopped){this.stopped=!0,(t=this.observableQuery)===null||t===void 0||t.resetNotifications(),this.cancel();var r=this.observableQuery;r&&r.stopPolling()}},e.prototype.cancel=function(){var t;(t=this.cancelWatch)===null||t===void 0||t.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(t){var r=this;t===void 0&&(t=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=T(T({},this.getDiffOptions(t)),{watcher:this,callback:function(o){return r.setDiff(o)}});(!this.lastWatch||!ne(i,this.lastWatch))&&(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=i))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,r){var n=this.lastWrite;return!(n&&n.dmCount===Yn.get(this.cache)&&ne(r,n.variables)&&ne(t.data,n.result.data))},e.prototype.markResult=function(t,r,n,i){var o=this,s,a=new Qr,l=Nt(t.errors)?t.errors.slice(0):[];if((s=this.observableQuery)===null||s===void 0||s.resetNotifications(),"incremental"in t&&Nt(t.incremental)){var u=U0(this.getDiff().result,t);t.data=u}else if("hasNext"in t&&t.hasNext){var c=this.getDiff();t.data=a.merge(c.result,t.data)}this.graphQLErrors=l,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(n.variables)):i!==0&&(lf(t,n.errorPolicy)?this.cache.performTransaction(function(h){if(o.shouldWrite(t,n.variables))h.writeQuery({query:r,data:t.data,variables:n.variables,overwrite:i===1}),o.lastWrite={result:t,variables:n.variables,dmCount:Yn.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){t.data=o.lastDiff.diff.result;return}var f=o.getDiffOptions(n.variables),d=h.diff(f);!o.stopped&&ne(o.variables,n.variables)&&o.updateWatch(n.variables),o.updateLastDiff(d,f),d.complete&&(t.data=d.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=te.ready},e.prototype.markError=function(t){var r;return this.networkStatus=te.error,this.lastWrite=void 0,(r=this.observableQuery)===null||r===void 0||r.resetNotifications(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function lf(e,t){t===void 0&&(t="none");var r=t==="ignore"||t==="all",n=!aa(e);return!n&&r&&e.data&&(n=!0),n}var m2=Object.prototype.hasOwnProperty,Ov=Object.create(null),y2=function(){function e(t){var r=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Rd(er["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new hr(!1),this.noCacheWarningsByQueryId=new Set;var n=new I0(function(o){return r.cache.transformDocument(o)},{cache:!1});this.cache=t.cache,this.link=t.link,this.defaultOptions=t.defaultOptions,this.queryDeduplication=t.queryDeduplication,this.clientAwareness=t.clientAwareness,this.localState=t.localState,this.ssrMode=t.ssrMode,this.assumeImmutableResults=t.assumeImmutableResults,this.dataMasking=t.dataMasking;var i=t.documentTransform;this.documentTransform=i?n.concat(i).concat(n):n,this.defaultContext=t.defaultContext||Object.create(null),(this.onBroadcast=t.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(r,n){t.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(et(27))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(r){return r(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){return wr(this,arguments,void 0,function(r){var n,i,o,s,a,l,u,c=r.mutation,h=r.variables,f=r.optimisticResponse,d=r.updateQueries,m=r.refetchQueries,x=m===void 0?[]:m,w=r.awaitRefetchQueries,y=w===void 0?!1:w,p=r.update,g=r.onQueryUpdated,b=r.fetchPolicy,S=b===void 0?((l=this.defaultOptions.mutate)===null||l===void 0?void 0:l.fetchPolicy)||"network-only":b,_=r.errorPolicy,N=_===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":_,O=r.keepRootFields,P=r.context;return br(this,function(A){switch(A.label){case 0:return $(c,28),$(S==="network-only"||S==="no-cache",29),n=this.generateMutationId(),c=this.cache.transformForLink(this.transform(c)),i=this.getDocumentInfo(c).hasClientExports,h=this.getVariables(c,h),i?[4,this.localState.addExportedVariables(c,h,P)]:[3,2];case 1:h=A.sent(),A.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[n]={mutation:c,variables:h,loading:!0,error:null}),s=f&&this.markMutationOptimistic(f,{mutationId:n,document:c,variables:h,fetchPolicy:S,errorPolicy:N,context:P,updateQueries:d,update:p,keepRootFields:O}),this.broadcastQueries(),a=this,[2,new Promise(function(M,q){return yu(a.getObservableFromLink(c,T(T({},P),{optimisticResponse:s?f:void 0}),h,{},!1),function(G){if(aa(G)&&N==="none")throw new dt({graphQLErrors:Zc(G)});o&&(o.loading=!1,o.error=null);var Y=T({},G);return typeof x=="function"&&(x=x(Y)),N==="ignore"&&aa(Y)&&delete Y.errors,a.markMutationResult({mutationId:n,result:Y,document:c,variables:h,fetchPolicy:S,errorPolicy:N,context:P,update:p,updateQueries:d,awaitRefetchQueries:y,refetchQueries:x,removeOptimistic:s?n:void 0,onQueryUpdated:g,keepRootFields:O})}).subscribe({next:function(G){a.broadcastQueries(),(!("hasNext"in G)||G.hasNext===!1)&&M(T(T({},G),{data:a.maskOperation({document:c,data:G.data,fetchPolicy:S,id:n})}))},error:function(G){o&&(o.loading=!1,o.error=G),s&&a.cache.removeOptimistic(n),a.broadcastQueries(),q(G instanceof dt?G:new dt({networkError:G}))}})})]}})})},e.prototype.markMutationResult=function(t,r){var n=this;r===void 0&&(r=this.cache);var i=t.result,o=[],s=t.fetchPolicy==="no-cache";if(!s&&lf(i,t.errorPolicy)){if(oi(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),oi(i)&&Nt(i.incremental)){var a=r.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=U0(a.result,i)),typeof l<"u"&&(i.data=l,o.push({result:l,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var u=t.updateQueries;u&&this.queries.forEach(function(h,f){var d=h.observableQuery,m=d&&d.queryName;if(!(!m||!m2.call(u,m))){var x=u[m],w=n.queries.get(f),y=w.document,p=w.variables,g=r.diff({query:y,variables:p,returnPartialData:!0,optimistic:!1}),b=g.result,S=g.complete;if(S&&b){var _=x(b,{mutationResult:i,queryName:y&&oo(y)||void 0,queryVariables:p});_&&o.push({result:_,dataId:"ROOT_QUERY",query:y,variables:p})}}})}if(o.length>0||(t.refetchQueries||"").length>0||t.update||t.onQueryUpdated||t.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(h){s||o.forEach(function(x){return h.write(x)});var f=t.update,d=!u_(i)||oi(i)&&!i.hasNext;if(f){if(!s){var m=h.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});m.complete&&(i=T(T({},i),{data:m.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}d&&f(h,i,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&d&&h.modify({id:"ROOT_MUTATION",fields:function(x,w){var y=w.fieldName,p=w.DELETE;return y==="__typename"?x:p}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(h){return c.push(h)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},e.prototype.markMutationOptimistic=function(t,r){var n=this,i=typeof t=="function"?t(r.variables,{IGNORE:Ov}):t;return i===Ov?!1:(this.cache.recordOptimisticTransaction(function(o){try{n.markMutationResult(T(T({},r),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&$.error(s)}},r.mutationId),!0)},e.prototype.fetchQuery=function(t,r,n){return this.fetchConcastWithInfo(this.getOrCreateQuery(t),r,n).concast.promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(r,n){t[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var r=this.queries.get(t);r&&(r.networkError=void 0,r.graphQLErrors=[])},e.prototype.transform=function(t){return this.documentTransform.transformDocument(t)},e.prototype.getDocumentInfo=function(t){var r=this.transformCache;if(!r.has(t)){var n={hasClientExports:qk(t),hasForcedResolvers:this.localState.shouldForceResolvers(t),hasNonreactiveDirective:Wo(["nonreactive"],t),nonReactiveQuery:HT(t),clientQuery:this.localState.clientQuery(t),serverQuery:R0([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],t),defaultVars:Ad(yn(t)),asQuery:T(T({},t),{definitions:t.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?T(T({},i),{operation:"query"}):i})})};r.set(t,n)}return r.get(t)},e.prototype.getVariables=function(t,r){return T(T({},this.getDocumentInfo(t).defaultVars),r)},e.prototype.watchQuery=function(t){var r=this.transform(t.query);t=T(T({},t),{variables:this.getVariables(r,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var n=new ku(this),i=new To({queryManager:this,queryInfo:n,options:t});return i.lastQuery=r,To.inactiveOnCreation.getValue()||this.queries.set(i.queryId,n),n.init({document:r,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,r){var n=this;r===void 0&&(r=this.generateQueryId()),$(t.query,30),$(t.query.kind==="Document",31),$(!t.returnPartialData,32),$(!t.pollInterval,33);var i=this.transform(t.query);return this.fetchQuery(r,T(T({},t),{query:i})).then(function(o){return o&&T(T({},o),{data:n.maskOperation({document:i,data:o.data,fetchPolicy:t.fetchPolicy,id:r})})}).finally(function(){return n.stopQuery(r)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var r=this.queries.get(t);r&&r.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(et(34)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=te.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var r=this;t===void 0&&(t="active");var n=new Map,i=new Map,o=new Map,s=new Set;return Array.isArray(t)&&t.forEach(function(a){if(typeof a=="string")i.set(a,a),o.set(a,!1);else if(xT(a)){var l=Cr(r.transform(a));i.set(l,oo(a)),o.set(l,!1)}else we(a)&&a.query&&s.add(a)}),this.queries.forEach(function(a,l){var u=a.observableQuery,c=a.document;if(u){if(t==="all"){n.set(l,u);return}var h=u.queryName,f=u.options.fetchPolicy;if(f==="standby"||t==="active"&&!u.hasObservers())return;(t==="active"||h&&o.has(h)||c&&o.has(Cr(c)))&&(n.set(l,u),h&&o.set(h,!0),c&&o.set(Cr(c),!0))}}),s.size&&s.forEach(function(a){var l=qc("legacyOneTimeQuery"),u=r.getOrCreateQuery(l).init({document:a.query,variables:a.variables}),c=new To({queryManager:r,queryInfo:u,options:T(T({},a),{fetchPolicy:"network-only"})});$(c.queryId===l),u.setObservableQuery(c),n.set(l,c)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(a,l){if(!a){var u=i.get(l);u?globalThis.__DEV__!==!1&&$.warn(35,u):globalThis.__DEV__!==!1&&$.warn(36)}}),n},e.prototype.reFetchObservableQueries=function(t){var r=this;t===void 0&&(t=!1);var n=[];return this.getObservableQueries(t?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(t||s!=="standby"&&s!=="cache-only")&&n.push(i.refetch()),(r.queries.get(o)||i.queryInfo).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},e.prototype.startGraphQLSubscription=function(t){var r=this,n=t.query,i=t.variables,o=t.fetchPolicy,s=t.errorPolicy,a=s===void 0?"none":s,l=t.context,u=l===void 0?{}:l,c=t.extensions,h=c===void 0?{}:c;n=this.transform(n),i=this.getVariables(n,i);var f=function(m){return r.getObservableFromLink(n,u,m,h).map(function(x){o!=="no-cache"&&(lf(x,a)&&r.cache.write({query:n,result:x.data,dataId:"ROOT_SUBSCRIPTION",variables:m}),r.broadcastQueries());var w=aa(x),y=N_(x);if(w||y){var p={};if(w&&(p.graphQLErrors=x.errors),y&&(p.protocolErrors=x.extensions[Vd]),a==="none"||y)throw new dt(p)}return a==="ignore"&&delete x.errors,x})};if(this.getDocumentInfo(n).hasClientExports){var d=this.localState.addExportedVariables(n,i,u).then(f);return new ue(function(m){var x=null;return d.then(function(w){return x=w.subscribe(m)},m.error),function(){return x&&x.unsubscribe()}})}return f(i)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){var r;this.fetchCancelFns.delete(t),this.queries.has(t)&&((r=this.queries.get(t))===null||r===void 0||r.stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){var r;return(r=t.observableQuery)===null||r===void 0?void 0:r.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,r,n,i,o){var s=this,a;o===void 0&&(o=(a=r==null?void 0:r.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var l,u=this.getDocumentInfo(t),c=u.serverQuery,h=u.clientQuery;if(c){var f=this,d=f.inFlightLinkObservables,m=f.link,x={query:c,variables:n,operationName:oo(c)||void 0,context:this.prepareContext(T(T({},r),{forceFetch:!o})),extensions:i};if(r=x.context,o){var w=Cr(c),y=Ur(n),p=d.lookup(w,y);if(l=p.observable,!l){var g=new jn([ef(m,x)]);l=p.observable=g,g.beforeNext(function b(S,_){S==="next"&&"hasNext"in _&&_.hasNext?g.beforeNext(b):d.remove(w,y)})}}else l=new jn([ef(m,x)])}else l=new jn([ue.of({data:{}})]),r=this.prepareContext(r);return h&&(l=yu(l,function(b){return s.localState.runResolvers({document:h,remoteResult:b,context:r,variables:n})})),l},e.prototype.getResultsFromLink=function(t,r,n){var i=t.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(n.query);return yu(this.getObservableFromLink(o,n.context,n.variables),function(s){var a=Zc(s),l=a.length>0,u=n.errorPolicy;if(i>=t.lastRequestId){if(l&&u==="none")throw t.markError(new dt({graphQLErrors:a}));t.markResult(s,o,n,r),t.markReady()}var c={data:s.data,loading:!1,networkStatus:te.ready};return l&&u==="none"&&(c.data=void 0),l&&u!=="ignore"&&(c.errors=a,c.networkStatus=te.error),c},function(s){var a=z0(s)?s:new dt({networkError:s});throw i>=t.lastRequestId&&t.markError(a),a})},e.prototype.fetchConcastWithInfo=function(t,r,n,i){var o=this;n===void 0&&(n=te.loading),i===void 0&&(i=r.query);var s=this.getVariables(i,r.variables),a=this.defaultOptions.watchQuery,l=r.fetchPolicy,u=l===void 0?a&&a.fetchPolicy||"cache-first":l,c=r.errorPolicy,h=c===void 0?a&&a.errorPolicy||"none":c,f=r.returnPartialData,d=f===void 0?!1:f,m=r.notifyOnNetworkStatusChange,x=m===void 0?!1:m,w=r.context,y=w===void 0?{}:w,p=Object.assign({},r,{query:i,variables:s,fetchPolicy:u,errorPolicy:h,returnPartialData:d,notifyOnNetworkStatusChange:x,context:y}),g=function(O){p.variables=O;var P=o.fetchQueryByPolicy(t,p,n);return p.fetchPolicy!=="standby"&&P.sources.length>0&&t.observableQuery&&t.observableQuery.applyNextFetchPolicy("after-fetch",r),P},b=function(){return o.fetchCancelFns.delete(t.queryId)};this.fetchCancelFns.set(t.queryId,function(O){b(),setTimeout(function(){return S.cancel(O)})});var S,_;if(this.getDocumentInfo(p.query).hasClientExports)S=new jn(this.localState.addExportedVariables(p.query,p.variables,p.context).then(g).then(function(O){return O.sources})),_=!0;else{var N=g(p.variables);_=N.fromLink,S=new jn(N.sources)}return S.promise.then(b,b),{concast:S,fromLink:_}},e.prototype.refetchQueries=function(t){var r=this,n=t.updateCache,i=t.include,o=t.optimistic,s=o===void 0?!1:o,a=t.removeOptimistic,l=a===void 0?s?qc("refetchQueries"):void 0:a,u=t.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(f,d){c.set(d,{oq:f,lastDiff:(r.queries.get(d)||f.queryInfo).getDiff()})});var h=new Map;return n&&this.cache.batch({update:n,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(f,d,m){var x=f.watcher instanceof ku&&f.watcher.observableQuery;if(x){if(u){c.delete(x.queryId);var w=u(x,d,m);return w===!0&&(w=x.refetch()),w!==!1&&h.set(x,w),w}u!==null&&c.set(x.queryId,{oq:x,lastDiff:m,diff:d})}}}),c.size&&c.forEach(function(f,d){var m=f.oq,x=f.lastDiff,w=f.diff,y;u&&(w||(w=r.cache.diff(m.queryInfo.getDiffOptions())),y=u(m,w,x)),(!u||y===!0)&&(y=m.refetch()),y!==!1&&h.set(m,y),d.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(d)}),l&&this.cache.removeOptimistic(l),h},e.prototype.maskOperation=function(t){var r,n,i,o=t.document,s=t.data;if(globalThis.__DEV__!==!1){var a=t.fetchPolicy,l=t.id,u=(r=yn(o))===null||r===void 0?void 0:r.operation,c=((n=u==null?void 0:u[0])!==null&&n!==void 0?n:"o")+l;this.dataMasking&&a==="no-cache"&&!tT(o)&&!this.noCacheWarningsByQueryId.has(c)&&(this.noCacheWarningsByQueryId.add(c),globalThis.__DEV__!==!1&&$.warn(37,(i=oo(o))!==null&&i!==void 0?i:"Unnamed ".concat(u??"operation")))}return this.dataMasking?J_(s,o,this.cache):s},e.prototype.maskFragment=function(t){var r=t.data,n=t.fragment,i=t.fragmentName;return this.dataMasking?K0(r,n,this.cache,i):r},e.prototype.fetchQueryByPolicy=function(t,r,n){var i=this,o=r.query,s=r.variables,a=r.fetchPolicy,l=r.refetchWritePolicy,u=r.errorPolicy,c=r.returnPartialData,h=r.context,f=r.notifyOnNetworkStatusChange,d=t.networkStatus;t.init({document:o,variables:s,networkStatus:n});var m=function(){return t.getDiff()},x=function(b,S){S===void 0&&(S=t.networkStatus||te.loading);var _=b.result;globalThis.__DEV__!==!1&&!c&&!ne(_,{})&&ux(b.missing);var N=function(O){return ue.of(T({data:O,loading:Kn(S),networkStatus:S},b.complete?null:{partial:!0}))};return _&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:_},context:h,variables:s,onlyRunForcedResolvers:!0}).then(function(O){return N(O.data||void 0)}):u==="none"&&S===te.refetch&&Array.isArray(b.missing)?N(void 0):N(_)},w=a==="no-cache"?0:n===te.refetch&&l!=="merge"?1:2,y=function(){return i.getResultsFromLink(t,w,{query:o,variables:s,context:h,fetchPolicy:a,errorPolicy:u})},p=f&&typeof d=="number"&&d!==n&&Kn(n);switch(a){default:case"cache-first":{var g=m();return g.complete?{fromLink:!1,sources:[x(g,t.markReady())]}:c||p?{fromLink:!0,sources:[x(g),y()]}:{fromLink:!0,sources:[y()]}}case"cache-and-network":{var g=m();return g.complete||c||p?{fromLink:!0,sources:[x(g),y()]}:{fromLink:!0,sources:[y()]}}case"cache-only":return{fromLink:!1,sources:[x(m(),t.markReady())]};case"network-only":return p?{fromLink:!0,sources:[x(m()),y()]}:{fromLink:!0,sources:[y()]};case"no-cache":return p?{fromLink:!0,sources:[x(t.getDiff()),y()]}:{fromLink:!0,sources:[y()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new ku(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var r=this.localState.prepareContext(t);return T(T(T({},this.defaultContext),r),{clientAwareness:this.clientAwareness})},e}(),g2=function(){function e(t){var r=t.cache,n=t.client,i=t.resolvers,o=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(t){var r=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(n){r.resolvers=Kp(r.resolvers,n)}):this.resolvers=Kp(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){return wr(this,arguments,void 0,function(r){var n=r.document,i=r.remoteResult,o=r.context,s=r.variables,a=r.onlyRunForcedResolvers,l=a===void 0?!1:a;return br(this,function(u){return n?[2,this.resolveDocument(n,i.data,o,s,this.fragmentMatcher,l).then(function(c){return T(T({},i),{data:c.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return Wo(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return P0(t)},e.prototype.prepareContext=function(t){var r=this.cache;return T(T({},t),{cache:r,getCacheKey:function(n){return r.identify(n)}})},e.prototype.addExportedVariables=function(t){return wr(this,arguments,void 0,function(r,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),br(this,function(o){return r?[2,this.resolveDocument(r,this.buildRootValueFromCache(r,n)||{},this.prepareContext(i),n).then(function(s){return T(T({},n),s.exportedVariables)})]:[2,T({},n)]})})},e.prototype.shouldForceResolvers=function(t){var r=!1;return Bt(t,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return bl}}}),r},e.prototype.buildRootValueFromCache=function(t,r){return this.cache.diff({query:WT(t),variables:r,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,r){return wr(this,arguments,void 0,function(n,i,o,s,a,l){var u,c,h,f,d,m,x,w,y,p,g;return o===void 0&&(o={}),s===void 0&&(s={}),a===void 0&&(a=function(){return!0}),l===void 0&&(l=!1),br(this,function(b){return u=Ii(n),c=Ci(n),h=Ni(c),f=this.collectSelectionsToResolve(u,h),d=u.operation,m=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",x=this,w=x.cache,y=x.client,p={fragmentMap:h,context:T(T({},o),{cache:w,client:y}),variables:s,fragmentMatcher:a,defaultOperationType:m,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:l},g=!1,[2,this.resolveSelectionSet(u.selectionSet,g,i,p).then(function(S){return{result:S,exportedVariables:p.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,r,n,i){return wr(this,void 0,void 0,function(){var o,s,a,l,u,c=this;return br(this,function(h){return o=i.fragmentMap,s=i.context,a=i.variables,l=[n],u=function(f){return wr(c,void 0,void 0,function(){var d,m;return br(this,function(x){return!r&&!i.selectionsToResolve.has(f)?[2]:ls(f,a)?Br(f)?[2,this.resolveField(f,r,n,i).then(function(w){var y;typeof w<"u"&&l.push((y={},y[fr(f)]=w,y))})]:(jT(f)?d=f:(d=o[f.name.value],$(d,19,f.name.value)),d&&d.typeCondition&&(m=d.typeCondition.name.value,i.fragmentMatcher(n,m,s))?[2,this.resolveSelectionSet(d.selectionSet,r,n,i).then(function(w){l.push(w)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(u)).then(function(){return Il(l)})]})})},e.prototype.resolveField=function(t,r,n,i){return wr(this,void 0,void 0,function(){var o,s,a,l,u,c,h,f,d,m=this;return br(this,function(x){return n?(o=i.variables,s=t.name.value,a=fr(t),l=s!==a,u=n[a]||n[s],c=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(h=n.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[h],f&&(d=f[l?s:a],d&&(c=Promise.resolve(qd.withValue(this.cache,d,[n,_l(t,o),i.context,{field:t,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(w){var y,p;if(w===void 0&&(w=u),t.directives&&t.directives.forEach(function(b){b.name.value==="export"&&b.arguments&&b.arguments.forEach(function(S){S.name.value==="as"&&S.value.kind==="StringValue"&&(i.exportedVariables[S.value.value]=w)})}),!t.selectionSet||w==null)return w;var g=(p=(y=t.directives)===null||y===void 0?void 0:y.some(function(b){return b.name.value==="client"}))!==null&&p!==void 0?p:!1;if(Array.isArray(w))return m.resolveSubSelectedArray(t,r||g,w,i);if(t.selectionSet)return m.resolveSelectionSet(t.selectionSet,r||g,w,i)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,r,n,i){var o=this;return Promise.all(n.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(t,r,s,i);if(t.selectionSet)return o.resolveSelectionSet(t.selectionSet,r,s,i)}))},e.prototype.collectSelectionsToResolve=function(t,r){var n=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),Bt(s,{Directive:function(l,u,c,h,f){l.name.value==="client"&&f.forEach(function(d){n(d)&&Dp(d)&&a.add(d)})},FragmentSpread:function(l,u,c,h,f){var d=r[l.name.value];$(d,20,l.name.value);var m=o(d);m.size>0&&(f.forEach(function(x){n(x)&&Dp(x)&&a.add(x)}),a.add(l),m.forEach(function(x){a.add(x)}))}})}return i.get(s)}return o(t)},e}(),Cv=!1,Gd=function(){function e(t){var r=this,n;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!t.cache)throw et(16);var i=t.uri,o=t.credentials,s=t.headers,a=t.cache,l=t.documentTransform,u=t.ssrMode,c=u===void 0?!1:u,h=t.ssrForceFetchDelay,f=h===void 0?0:h,d=t.connectToDevTools,m=t.queryDeduplication,x=m===void 0?!0:m,w=t.defaultOptions,y=t.defaultContext,p=t.assumeImmutableResults,g=p===void 0?a.assumeImmutableResults:p,b=t.resolvers,S=t.typeDefs,_=t.fragmentMatcher,N=t.name,O=t.version,P=t.devtools,A=t.dataMasking,M=t.link;M||(M=i?new B_({uri:i,credentials:o,headers:s}):pr.empty()),this.link=M,this.cache=a,this.disableNetworkFetches=c||f>0,this.queryDeduplication=x,this.defaultOptions=w||Object.create(null),this.typeDefs=S,this.devtoolsConfig=T(T({},P),{enabled:(n=P==null?void 0:P.enabled)!==null&&n!==void 0?n:d}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),f&&setTimeout(function(){return r.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Nd,this.localState=new g2({cache:a,client:this,resolvers:b,fragmentMatcher:_}),this.queryManager=new y2({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:y,documentTransform:l,queryDeduplication:x,ssrMode:c,dataMasking:!!A,clientAwareness:{name:N,version:O},localState:this.localState,assumeImmutableResults:g,onBroadcast:this.devtoolsConfig.enabled?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var t=window,r=Symbol.for("apollo.devtools");(t[r]=t[r]||[]).push(this),t.__APOLLO_CLIENT__=this,!Cv&&globalThis.__DEV__!==!1&&(Cv=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var n=window.navigator,i=n&&n.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&$.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=So(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=T(T({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=So(this.defaultOptions.query,t)),$(t.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=T(T({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=So(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){var r=this,n=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(t).map(function(i){return T(T({},i),{data:r.queryManager.maskOperation({document:t.query,data:i.data,fetchPolicy:t.fetchPolicy,id:n})})})},e.prototype.readQuery=function(t,r){return r===void 0&&(r=!1),this.cache.readQuery(t,r)},e.prototype.watchFragment=function(t){var r;return this.cache.watchFragment(T(T({},t),(r={},r[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,r)))},e.prototype.readFragment=function(t,r){return r===void 0&&(r=!1),this.cache.readFragment(t,r)},e.prototype.writeQuery=function(t){var r=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),r},e.prototype.writeFragment=function(t){var r=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),r},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return ef(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(r){return r()}))})},e.prototype.onResetStore=function(t){var r=this;return this.resetStoreCallbacks.push(t),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==t})}},e.prototype.onClearStore=function(t){var r=this;return this.clearStoreCallbacks.push(t),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var r=this.queryManager.refetchQueries(t),n=[],i=[];r.forEach(function(s,a){n.push(a),i.push(s)});var o=Promise.all(i);return o.queries=n,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&$.debug(18,s)}),o},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();globalThis.__DEV__!==!1&&(Gd.prototype.getMemoryInternals=cT);var ca=new Map,uf=new Map,cx=!0,Wa=!1;function fx(e){return e.replace(/[\s,]+/g," ").trim()}function x2(e){return fx(e.source.body.substring(e.start,e.end))}function w2(e){var t=new Set,r=[];return e.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,o=x2(n.loc),s=uf.get(i);s&&!s.has(o)?cx&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||uf.set(i,s=new Set),s.add(o),t.has(o)||(t.add(o),r.push(n))}else r.push(n)}),T(T({},e),{definitions:r})}function b2(e){var t=new Set(e.definitions);t.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var o=n[i];o&&typeof o=="object"&&t.add(o)})});var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}function S2(e){var t=fx(e);if(!ca.has(t)){var r=Jg(e,{experimentalFragmentVariables:Wa,allowLegacyFragmentVariables:Wa});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");ca.set(t,b2(w2(r)))}return ca.get(t)}function mt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];typeof e=="string"&&(e=[e]);var n=e[0];return t.forEach(function(i,o){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=e[o+1]}),S2(n)}function E2(){ca.clear(),uf.clear()}function k2(){cx=!1}function T2(){Wa=!0}function _2(){Wa=!1}var Hi={gql:mt,resetCaches:E2,disableFragmentWarnings:k2,enableExperimentalFragmentVariables:T2,disableExperimentalFragmentVariables:_2};(function(e){e.gql=Hi.gql,e.resetCaches=Hi.resetCaches,e.disableFragmentWarnings=Hi.disableFragmentWarnings,e.enableExperimentalFragmentVariables=Hi.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=Hi.disableExperimentalFragmentVariables})(mt||(mt={}));mt.default=mt;var dx={exports:{}};(function(e){e.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,e.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,e.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(e.exports,I)})(dx);var X=dx.exports;const N2=Zo(X),hx=Xv({__proto__:null,default:N2},[X]);var Iv=jd?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function Kd(){$("createContext"in hx,54);var e=X.createContext[Iv];return e||(Object.defineProperty(X.createContext,Iv,{value:e=X.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var O2=function(e){var t=e.client,r=e.children,n=Kd(),i=X.useContext(n),o=X.useMemo(function(){return T(T({},i),{client:t||i.client})},[i,t]);return $(o.client,55),X.createElement(n.Provider,{value:o},r)};function jl(e){var t=X.useContext(Kd()),r=e||t.client;return $(!!r,58),r}var jv=!1,C2="useSyncExternalStore",I2=hx[C2],px=I2||function(e,t,r){var n=t();globalThis.__DEV__!==!1&&!jv&&n!==t()&&(jv=!0,globalThis.__DEV__!==!1&&$.error(68));var i=X.useState({inst:{value:n,getSnapshot:t}}),o=i[0].inst,s=i[1];return Zk?X.useLayoutEffect(function(){Object.assign(o,{value:n,getSnapshot:t}),Tu(o)&&s({inst:o})},[e,n,t]):Object.assign(o,{value:n,getSnapshot:t}),X.useEffect(function(){return Tu(o)&&s({inst:o}),e(function(){Tu(o)&&s({inst:o})})},[e]),n};function Tu(e){var t=e.value,r=e.getSnapshot;try{return t!==r()}catch{return!0}}var $t;(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})($t||($t={}));var ln;function Rv(e){var t;switch(e){case $t.Query:t="Query";break;case $t.Mutation:t="Mutation";break;case $t.Subscription:t="Subscription";break}return t}function vx(e){ln||(ln=new Rd(er.parser||1e3));var t=ln.get(e);if(t)return t;var r,n,i;$(!!e&&!!e.kind,70,e);for(var o=[],s=[],a=[],l=[],u=0,c=e.definitions;u<c.length;u++){var h=c[u];if(h.kind==="FragmentDefinition"){o.push(h);continue}if(h.kind==="OperationDefinition")switch(h.operation){case"query":s.push(h);break;case"mutation":a.push(h);break;case"subscription":l.push(h);break}}$(!o.length||s.length||a.length||l.length,71),$(s.length+a.length+l.length<=1,72,e,s.length,l.length,a.length),n=s.length?$t.Query:$t.Mutation,!s.length&&!a.length&&(n=$t.Subscription);var f=s.length?s:a.length?a:l;$(f.length===1,73,e,f.length);var d=f[0];r=d.variableDefinitions||[],d.name&&d.name.kind==="Name"?i=d.name.value:i="data";var m={name:i,type:n,variables:r};return ln.set(e,m),m}vx.resetCache=function(){ln=void 0};globalThis.__DEV__!==!1&&Pd("parser",function(){return ln?ln.size:0});function Yd(e,t){var r=vx(e),n=Rv(t),i=Rv(r.type);$(r.type===t,74,n,n,i)}function j2(e,t){var r=X.useRef(void 0);return(!r.current||!ne(r.current.deps,t))&&(r.current={value:e(),deps:t}),r.current.value}var cf=f0?X.useLayoutEffect:X.useEffect,R2=Symbol.for("apollo.hook.wrappers");function P2(e,t,r){var n=r.queryManager,i=n&&n[R2],o=i&&i[e];return o?o(t):t}var A2=Object.prototype.hasOwnProperty;function Pv(){}var fa=Symbol();function ff(e,t){return t===void 0&&(t=Object.create(null)),P2("useQuery",D2,jl(t&&t.client))(e,t)}function D2(e,t){var r=L2(e,t),n=r.result,i=r.obsQueryFields;return X.useMemo(function(){return T(T({},n),i)},[n,i])}function M2(e,t,r,n,i){function o(h){var f;Yd(t,$t.Query);var d={client:e,query:t,observable:n&&n.getSSRObservable(i())||To.inactiveOnCreation.withValue(!n,function(){return e.watchQuery(mx(void 0,e,r,i()))}),resultData:{previousData:(f=h==null?void 0:h.resultData.current)===null||f===void 0?void 0:f.data}};return d}var s=X.useState(o),a=s[0],l=s[1];function u(h){var f,d;Object.assign(a.observable,(f={},f[fa]=h,f));var m=a.resultData;l(T(T({},a),{query:h.query,resultData:Object.assign(m,{previousData:((d=m.current)===null||d===void 0?void 0:d.data)||m.previousData,current:void 0})}))}if(e!==a.client||t!==a.query){var c=o(a);return l(c),[c,u]}return[a,u]}function L2(e,t){var r=jl(t.client),n=X.useContext(Kd()).renderPromises,i=!!n,o=r.disableNetworkFetches,s=t.ssr!==!1&&!t.skip,a=t.partialRefetch,l=z2(r,e,t,i),u=M2(r,e,t,n,l),c=u[0],h=c.observable,f=c.resultData,d=u[1],m=l(h);$2(f,h,r,t,m);var x=X.useMemo(function(){return q2(h)},[h]);U2(h,n,s);var w=F2(f,h,r,t,m,o,a,i,{onCompleted:t.onCompleted||Pv,onError:t.onError||Pv});return{result:w,obsQueryFields:x,observable:h,resultData:f,client:r,onQueryExecuted:d}}function F2(e,t,r,n,i,o,s,a,l){var u=X.useRef(l);X.useEffect(function(){u.current=l});var c=(a||o)&&n.ssr===!1&&!n.skip?xx:n.skip||i.fetchPolicy==="standby"?wx:void 0,h=e.previousData,f=X.useMemo(function(){return c&&gx(c,h,t,r)},[r,t,c,h]);return px(X.useCallback(function(d){if(a)return function(){};var m=function(){var y=e.current,p=t.getCurrentResult();y&&y.loading===p.loading&&y.networkStatus===p.networkStatus&&ne(y.data,p.data)||df(p,e,t,r,s,d,u.current)},x=function(y){if(w.current.unsubscribe(),w.current=t.resubscribeAfterError(m,x),!A2.call(y,"graphQLErrors"))throw y;var p=e.current;(!p||p&&p.loading||!ne(y,p.error))&&df({data:p&&p.data,error:y,loading:!1,networkStatus:te.error},e,t,r,s,d,u.current)},w={current:t.subscribe(m,x)};return function(){setTimeout(function(){return w.current.unsubscribe()})}},[o,a,t,e,s,r]),function(){return f||Av(e,t,u.current,s,r)},function(){return f||Av(e,t,u.current,s,r)})}function U2(e,t,r){t&&r&&(t.registerSSRObservable(e),e.getCurrentResult().loading&&t.addObservableQueryPromise(e))}function $2(e,t,r,n,i){var o;t[fa]&&!ne(t[fa],i)&&(t.reobserve(mx(t,r,n,i)),e.previousData=((o=e.current)===null||o===void 0?void 0:o.data)||e.previousData,e.current=void 0),t[fa]=i}function z2(e,t,r,n){r===void 0&&(r={});var i=r.skip;r.ssr,r.onCompleted,r.onError;var o=r.defaultOptions,s=kt(r,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(a){var l=Object.assign(s,{query:t});return n&&(l.fetchPolicy==="network-only"||l.fetchPolicy==="cache-and-network")&&(l.fetchPolicy="cache-first"),l.variables||(l.variables={}),i?(l.initialFetchPolicy=l.initialFetchPolicy||l.fetchPolicy||Dv(o,e.defaultOptions),l.fetchPolicy="standby"):l.fetchPolicy||(l.fetchPolicy=(a==null?void 0:a.options.initialFetchPolicy)||Dv(o,e.defaultOptions)),l}}function mx(e,t,r,n){var i=[],o=t.defaultOptions.watchQuery;return o&&i.push(o),r.defaultOptions&&i.push(r.defaultOptions),i.push(gn(e&&e.options,n)),i.reduce(So)}function df(e,t,r,n,i,o,s){var a=t.current;a&&a.data&&(t.previousData=a.data),!e.error&&Nt(e.errors)&&(e.error=new dt({graphQLErrors:e.errors})),t.current=gx(B2(e,r,i),t.previousData,r,n),o(),V2(e,a==null?void 0:a.networkStatus,s)}function V2(e,t,r){if(!e.loading){var n=yx(e);Promise.resolve().then(function(){n?r.onError(n):e.data&&t!==e.networkStatus&&e.networkStatus===te.ready&&r.onCompleted(e.data)}).catch(function(i){globalThis.__DEV__!==!1&&$.warn(i)})}}function Av(e,t,r,n,i){return e.current||df(t.getCurrentResult(),e,t,i,n,function(){},r),e.current}function Dv(e,t){var r;return(e==null?void 0:e.fetchPolicy)||((r=t==null?void 0:t.watchQuery)===null||r===void 0?void 0:r.fetchPolicy)||"cache-first"}function yx(e){return Nt(e.errors)?new dt({graphQLErrors:e.errors}):e.error}function gx(e,t,r,n){var i=e.data;e.partial;var o=kt(e,["data","partial"]),s=T(T({data:i},o),{client:n,observable:r,variables:r.variables,called:e!==xx&&e!==wx,previousData:t});return s}function B2(e,t,r){return e.partial&&r&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&t.options.fetchPolicy!=="cache-only"?(t.refetch(),T(T({},e),{loading:!0,networkStatus:te.refetch})):e}var xx=bi({loading:!0,data:void 0,error:void 0,networkStatus:te.loading}),wx=bi({loading:!1,data:void 0,error:void 0,networkStatus:te.ready});function q2(e){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}function Ha(e,t){var r=jl(t==null?void 0:t.client);Yd(e,$t.Mutation);var n=X.useState({called:!1,loading:!1,client:r}),i=n[0],o=n[1],s=X.useRef({result:i,mutationId:0,isMounted:!0,client:r,mutation:e,options:t});cf(function(){Object.assign(s.current,{client:r,options:t,mutation:e})});var a=X.useCallback(function(u){u===void 0&&(u={});var c=s.current,h=c.options,f=c.mutation,d=T(T({},h),{mutation:f}),m=u.client||s.current.client;!s.current.result.loading&&!d.ignoreResults&&s.current.isMounted&&o(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:m});var x=++s.current.mutationId,w=So(d,u);return m.mutate(w).then(function(y){var p,g,b=y.data,S=y.errors,_=S&&S.length>0?new dt({graphQLErrors:S}):void 0,N=u.onError||((p=s.current.options)===null||p===void 0?void 0:p.onError);if(_&&N&&N(_,w),x===s.current.mutationId&&!w.ignoreResults){var O={called:!0,loading:!1,data:b,error:_,client:m};s.current.isMounted&&!ne(s.current.result,O)&&o(s.current.result=O)}var P=u.onCompleted||((g=s.current.options)===null||g===void 0?void 0:g.onCompleted);return _||P==null||P(y.data,w),y},function(y){var p;if(x===s.current.mutationId&&s.current.isMounted){var g={loading:!1,error:y,data:void 0,called:!0,client:m};ne(s.current.result,g)||o(s.current.result=g)}var b=u.onError||((p=s.current.options)===null||p===void 0?void 0:p.onError);if(b)return b(y,w),{data:void 0,errors:y};throw y})},[]),l=X.useCallback(function(){if(s.current.isMounted){var u={called:!1,loading:!1,client:s.current.client};Object.assign(s.current,{mutationId:0,result:u}),o(u)}},[]);return X.useEffect(function(){var u=s.current;return u.isMounted=!0,function(){u.isMounted=!1}},[]),[a,T({reset:l},i)]}function Q2(e,t){t===void 0&&(t=Object.create(null));var r=X.useRef(!1),n=jl(t.client);Yd(e,$t.Subscription),r.current||(r.current=!0,t.onSubscriptionData&&globalThis.__DEV__!==!1&&$.warn(t.onData?61:62),t.onSubscriptionComplete&&globalThis.__DEV__!==!1&&$.warn(t.onComplete?63:64));var i=t.skip,o=t.fetchPolicy,s=t.errorPolicy,a=t.shouldResubscribe,l=t.context,u=t.extensions,c=t.ignoreResults,h=j2(function(){return t.variables},[t.variables]),f=function(){return W2(n,e,h,o,s,l,u)},d=X.useState(t.skip?null:f),m=d[0],x=d[1],w=X.useRef(f);cf(function(){w.current=f}),i?m&&x(m=null):(!m||(n!==m.__.client||e!==m.__.query||o!==m.__.fetchPolicy||s!==m.__.errorPolicy||!ne(h,m.__.variables))&&(typeof a=="function"?!!a(t):a)!==!1)&&x(m=f());var y=X.useRef(t);X.useEffect(function(){y.current=t});var p=!i&&!c,g=X.useMemo(function(){return{loading:p,error:void 0,data:void 0,variables:h}},[p,h]),b=X.useRef(c);cf(function(){b.current=c});var S=px(X.useCallback(function(N){if(!m)return function(){};var O=!1,P=m.__.variables,A=m.__.client,M=m.subscribe({next:function(q){var G,Y;if(!O){var H={loading:!1,data:q.data,error:yx(q),variables:P};m.__.setResult(H),b.current||N(),H.error?(Y=(G=y.current).onError)===null||Y===void 0||Y.call(G,H.error):y.current.onData?y.current.onData({client:A,data:H}):y.current.onSubscriptionData&&y.current.onSubscriptionData({client:A,subscriptionData:H})}},error:function(q){var G,Y;q=q instanceof dt?q:new dt({protocolErrors:[q]}),O||(m.__.setResult({loading:!1,data:void 0,error:q,variables:P}),b.current||N(),(Y=(G=y.current).onError)===null||Y===void 0||Y.call(G,q))},complete:function(){O||(y.current.onComplete?y.current.onComplete():y.current.onSubscriptionComplete&&y.current.onSubscriptionComplete())}});return function(){O=!0,setTimeout(function(){M.unsubscribe()})}},[m]),function(){return m&&!i&&!c?m.__.result:g},function(){return g}),_=X.useCallback(function(){$(!y.current.skip,65),x(w.current())},[y,w]);return X.useMemo(function(){return T(T({},S),{restart:_})},[S,_])}function W2(e,t,r,n,i,o,s){var a={query:t,variables:r,fetchPolicy:n,errorPolicy:i,context:o,extensions:s},l=T(T({},a),{client:e,result:{loading:!0,data:void 0,error:void 0,variables:r},setResult:function(c){l.result=c}}),u=null;return Object.assign(new ue(function(c){u||(u=e.subscribe(a));var h=u.subscribe(c);return function(){return h.unsubscribe()}}),{__:l})}function H2(e){return new pr(function(t,r){var n=kt(t,[]);return new ue(function(i){var o,s=!1;return Promise.resolve(n).then(function(a){return e(a,t.getContext())}).then(t.setContext).then(function(){s||(o=r(t).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){s=!0,o&&o.unsubscribe()}})})}function G2(e){return we(e)&&"code"in e&&"reason"in e}function K2(e){var t;return we(e)&&((t=e.target)===null||t===void 0?void 0:t.readyState)===WebSocket.CLOSED}var Y2=function(e){qt(t,e);function t(r){var n=e.call(this)||this;return n.client=r,n}return t.prototype.request=function(r){var n=this;return new ue(function(i){return n.client.subscribe(T(T({},r),{query:Cr(r.query)}),{next:i.next.bind(i),complete:i.complete.bind(i),error:function(o){if(o instanceof Error)return i.error(o);var s=G2(o);return s||K2(o)?i.error(new Error("Socket closed".concat(s?" with event ".concat(o.code):"").concat(s?" ".concat(o.reason):""))):i.error(new dt({graphQLErrors:Array.isArray(o)?o:[o]}))}})})},t}(pr);function nt(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function tn(e){return nt(e)==="object"}function J2(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function Mv(e,t){return e.length<124?e:t}const X2="graphql-transport-ws";var ct;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(ct||(ct={}));var Ce;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Ce||(Ce={}));function bx(e){if(!tn(e))throw new Error(`Message is expected to be an object, but got ${nt(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${nt(e.type)}`);switch(e.type){case Ce.ConnectionInit:case Ce.ConnectionAck:case Ce.Ping:case Ce.Pong:{if(e.payload!=null&&!tn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Ce.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!tn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${nt(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${nt(e.payload.query)}`);if(e.payload.variables!=null&&!tn(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${nt(e.payload.variables)}`);if(e.payload.operationName!=null&&nt(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${nt(e.payload.operationName)}`);if(e.payload.extensions!=null&&!tn(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${nt(e.payload.extensions)}`);break}case Ce.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!tn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${nt(e.payload)}`);break}case Ce.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!J2(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Ce.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${nt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function Z2(e,t){return bx(typeof e=="string"?JSON.parse(e,t):e)}function Gi(e,t){return bx(e),JSON.stringify(e,t)}var ai=globalThis&&globalThis.__await||function(e){return this instanceof ai?(this.v=e,this):new ai(e)},eN=globalThis&&globalThis.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(m){return Promise.resolve(m).then(d,h)}}function a(d,m){n[d]&&(i[d]=function(x){return new Promise(function(w,y){o.push([d,x,w,y])>1||l(d,x)})},m&&(i[d]=m(i[d])))}function l(d,m){try{u(n[d](m))}catch(x){f(o[0][3],x)}}function u(d){d.value instanceof ai?Promise.resolve(d.value.v).then(c,h):f(o[0][2],d)}function c(d){l("next",d)}function h(d){l("throw",d)}function f(d,m){d(m),o.shift(),o.length&&l(o[0][0],o[0][1])}};function tN(e){const{url:t,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:s=0,disablePong:a,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:c=async function(J){let k=1e3;for(let E=0;E<J;E++)k*=2;await new Promise(E=>setTimeout(E,k+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:h=_u,isFatalConnectionProblem:f,on:d,webSocketImpl:m,generateID:x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,J=>{const k=Math.random()*16|0;return(J=="x"?k:k&3|8).toString(16)})},jsonMessageReplacer:w,jsonMessageReviver:y}=e;let p;if(m){if(!nN(m))throw new Error("Invalid WebSocket implementation provided");p=m}else typeof WebSocket<"u"?p=WebSocket:typeof global<"u"?p=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(p=window.WebSocket||window.MozWebSocket);if(!p)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const g=p,b=(()=>{const H=(()=>{const k={};return{on(E,C){return k[E]=C,()=>{delete k[E]}},emit(E){var C;"id"in E&&((C=k[E.id])===null||C===void 0||C.call(k,E))}}})(),J={connecting:d!=null&&d.connecting?[d.connecting]:[],opened:d!=null&&d.opened?[d.opened]:[],connected:d!=null&&d.connected?[d.connected]:[],ping:d!=null&&d.ping?[d.ping]:[],pong:d!=null&&d.pong?[d.pong]:[],message:d!=null&&d.message?[H.emit,d.message]:[H.emit],closed:d!=null&&d.closed?[d.closed]:[],error:d!=null&&d.error?[d.error]:[]};return{onMessage:H.on,on(k,E){const C=J[k];return C.push(E),()=>{C.splice(C.indexOf(E),1)}},emit(k,...E){for(const C of[...J[k]])C(...E)}}})();function S(H){const J=[b.on("error",k=>{J.forEach(E=>E()),H(k)}),b.on("closed",k=>{J.forEach(E=>E()),H(k)})]}let _,N=0,O,P=!1,A=0,M=!1;async function q(){clearTimeout(O);const[H,J]=await(_??(_=new Promise((C,F)=>(async()=>{if(P){if(await c(A),!N)return _=void 0,F({code:1e3,reason:"All Subscriptions Gone"});A++}b.emit("connecting",P);const D=new g(typeof t=="function"?await t():t,X2);let V,ve;function R(){isFinite(s)&&s>0&&(clearTimeout(ve),ve=setTimeout(()=>{D.readyState===g.OPEN&&(D.send(Gi({type:Ce.Ping})),b.emit("ping",!1,void 0))},s))}S(K=>{_=void 0,clearTimeout(V),clearTimeout(ve),F(K),K instanceof Lv&&(D.close(4499,"Terminated"),D.onerror=null,D.onclose=null)}),D.onerror=K=>b.emit("error",K),D.onclose=K=>b.emit("closed",K),D.onopen=async()=>{try{b.emit("opened",D);const K=typeof r=="function"?await r():r;if(D.readyState!==g.OPEN)return;D.send(Gi(K?{type:Ce.ConnectionInit,payload:K}:{type:Ce.ConnectionInit},w)),isFinite(l)&&l>0&&(V=setTimeout(()=>{D.close(ct.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),R()}catch(K){b.emit("error",K),D.close(ct.InternalClientError,Mv(K instanceof Error?K.message:new Error(K).message,"Internal client error"))}};let Q=!1;D.onmessage=({data:K})=>{try{const de=Z2(K,y);if(b.emit("message",de),de.type==="ping"||de.type==="pong"){b.emit(de.type,!0,de.payload),de.type==="pong"?R():a||(D.send(Gi(de.payload?{type:Ce.Pong,payload:de.payload}:{type:Ce.Pong})),b.emit("pong",!1,de.payload));return}if(Q)return;if(de.type!==Ce.ConnectionAck)throw new Error(`First message cannot be of type ${de.type}`);clearTimeout(V),Q=!0,b.emit("connected",D,de.payload,P),P=!1,A=0,C([D,new Promise((Sn,Rx)=>S(Rx))])}catch(de){D.onmessage=null,b.emit("error",de),D.close(ct.BadResponse,Mv(de instanceof Error?de.message:new Error(de).message,"Bad response"))}}})())));H.readyState===g.CLOSING&&await J;let k=()=>{};const E=new Promise(C=>k=C);return[H,k,Promise.race([E.then(()=>{if(!N){const C=()=>H.close(1e3,"Normal Closure");isFinite(o)&&o>0?O=setTimeout(()=>{H.readyState===g.OPEN&&C()},o):C()}}),J])]}function G(H){if(_u(H)&&(rN(H.code)||[ct.InternalServerError,ct.InternalClientError,ct.BadRequest,ct.BadResponse,ct.Unauthorized,ct.SubprotocolNotAcceptable,ct.SubscriberAlreadyExists,ct.TooManyInitialisationRequests].includes(H.code)))throw H;if(M)return!1;if(_u(H)&&H.code===1e3)return N>0;if(!u||A>=u||!h(H)||f!=null&&f(H))throw H;return P=!0}n||(async()=>{for(N++;;)try{const[,,H]=await q();await H}catch(H){try{if(!G(H))return}catch(J){return i==null?void 0:i(J)}}})();function Y(H,J){const k=x(H);let E=!1,C=!1,F=()=>{N--,E=!0};return(async()=>{for(N++;;)try{const[D,V,ve]=await q();if(E)return V();const R=b.onMessage(k,Q=>{switch(Q.type){case Ce.Next:{J.next(Q.payload);return}case Ce.Error:{C=!0,E=!0,J.error(Q.payload),F();return}case Ce.Complete:{E=!0,F();return}}});D.send(Gi({id:k,type:Ce.Subscribe,payload:H},w)),F=()=>{!E&&D.readyState===g.OPEN&&D.send(Gi({id:k,type:Ce.Complete},w)),N--,E=!0,V()},await ve.finally(R);return}catch(D){if(!G(D))return}})().then(()=>{C||J.complete()}).catch(D=>{J.error(D)}),()=>{E||F()}}return{on:b.on,subscribe:Y,iterate(H){const J=[],k={done:!1,error:null,resolve:()=>{}},E=Y(H,{next(F){J.push(F),k.resolve()},error(F){k.done=!0,k.error=F,k.resolve()},complete(){k.done=!0,k.resolve()}}),C=function(){return eN(this,arguments,function*(){for(;;){for(J.length||(yield ai(new Promise(V=>k.resolve=V)));J.length;)yield yield ai(J.shift());if(k.error)throw k.error;if(k.done)return yield ai(void 0)}})}();return C.throw=async F=>(k.done||(k.done=!0,k.error=F,k.resolve()),{done:!0,value:void 0}),C.return=async()=>(E(),{done:!0,value:void 0}),C},async dispose(){if(M=!0,_){const[H]=await _;H.close(1e3,"Normal Closure")}},terminate(){_&&b.emit("closed",new Lv)}}}class Lv extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function _u(e){return tn(e)&&"code"in e&&"reason"in e}function rN(e){return[1e3,1001,1006,1005,1012,1013,1014].includes(e)?!1:e>=1e3&&e<=1999}function nN(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}function iN(e){let t=!1,r=()=>{t=!0},n=!1,i,o;const s=tN({...e,on:{...e.on,error:a=>{var l,u;console.error(a),(u=(l=e.on)==null?void 0:l.error)==null||u.call(l,a),r()},ping:a=>{a||(o=setTimeout(()=>{s.terminate(),r()},5e3))},pong:a=>{a&&clearTimeout(o)},opened:a=>{var l,u;i=a,(u=(l=e.on)==null?void 0:l.opened)==null||u.call(l,i),n=!0,r=()=>{i.readyState===WebSocket.OPEN?i.close(4205,"Client Restart"):t=!0},t&&(t=!1,r())},closed:a=>{var l,u;(u=(l=e==null?void 0:e.on)==null?void 0:l.closed)==null||u.call(l,a),n=!1}}});return{...s,restart:()=>r(),isOpen:()=>n}}const zs=typeof window<"u",oN=({nhost:e,graphqlUrl:t,headers:r={},publicRole:n="public",fetchPolicy:i,cache:o=new Qa,connectToDevTools:s=zs&&!1,onError:a,link:l,generateLinks:u})=>{const c=t||(e==null?void 0:e.graphql.httpUrl);if(!c)throw Error("Can't initialize the Apollo Client: no backend Url has been provided");const h=c,f=e==null?void 0:e.auth.client.interpreter;let d=null;const m=()=>{if(!(d!=null&&d.value))return!1;const A=3*1e3;return md(d.value).exp*1e3>Date.now()-A},x=()=>!!(d!=null&&d.value)&&!!(d!=null&&d.expiresAt)&&(d==null?void 0:d.expiresAt)>new Date&&m(),w=()=>!d||x(),y=()=>{if(w())return Promise.resolve();const A=()=>w()?Promise.resolve(!0):new Promise(M=>{setTimeout(()=>A().then(M),100)});return A()},p=async()=>{await y();const A={...r,"Sec-WebSocket-Protocol":"graphql-ws"};return d?A.authorization=`Bearer ${d.value}`:A.role=n,A},g=zs?iN({url:h.startsWith("https")?h.replace(/^https/,"wss"):h.replace(/^http/,"ws"),shouldRetry:()=>!0,retryAttempts:100,retryWait:async A=>new Promise(M=>setTimeout(M,1e3*Math.pow(2,A)+Math.floor(Math.random()*3e3))),connectionParams:async()=>({headers:{...r,...await p()}})}):null,b=g?new Y2(g):null,S=H2(async(A,{headers:M})=>({headers:{...M,...await p()}})).concat(B0({uri:h})),_=b?m_(({query:A})=>{const M=Ii(A),{kind:q}=M;let G;return"operation"in M&&(G=M.operation),q==="OperationDefinition"&&G==="subscription"},b,S):S,N=[];a&&N.push(a),l&&N.push(l),N.push(_);const O=v_(u?u(N):N),P=new Gd({cache:o||new Qa,ssrMode:!zs,defaultOptions:{watchQuery:{fetchPolicy:i}},connectToDevTools:s,link:O});return f==null||f.onTransition(async(A,M)=>{if(["SIGNOUT","SIGNED_IN","TOKEN_CHANGED"].includes(M.type)){if(M.type==="SIGNOUT"||M.type==="TOKEN_CHANGED"&&A.context.accessToken.value===null){d=null;try{await P.resetStore()}catch(q){console.error("Error resetting Apollo client cache"),console.error(q)}return}if(d=A.context.accessToken,!zs||!(g!=null&&g.isOpen()))return;g==null||g.restart()}}),P},sN=new Gd({cache:new Qa}),aN=({children:e,...t})=>{const[r,n]=I.useState();return I.useEffect(()=>{r||n(oN(t))},[r,t]),Za.createElement(O2,{client:r||sN},e)},Fv=new Mk({subdomain:"jxchtsdhfygxvxsoblcw",region:"ap-south-1"});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}var Ir;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ir||(Ir={}));const Uv="popstate";function lN(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return hf("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ga(i)}return cN(t,r,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uN(){return Math.random().toString(36).substr(2,8)}function $v(e,t){return{usr:e.state,key:e.key,idx:t}}function hf(e,t,r,n){return r===void 0&&(r=null),Yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ji(t):t,{state:r,key:t&&t.key||n||uN()})}function Ga(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ji(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function cN(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Ir.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Yo({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Ir.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:a,location:x.location,delta:y})}function f(w,y){a=Ir.Push;let p=hf(x.location,w,y);r&&r(p,w),u=c()+1;let g=$v(p,u),b=x.createHref(p);try{s.pushState(g,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}o&&l&&l({action:a,location:x.location,delta:1})}function d(w,y){a=Ir.Replace;let p=hf(x.location,w,y);r&&r(p,w),u=c();let g=$v(p,u),b=x.createHref(p);s.replaceState(g,"",b),o&&l&&l({action:a,location:x.location,delta:0})}function m(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Ga(w);return p=p.replace(/ $/,"%20"),je(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let x={get action(){return a},get location(){return e(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uv,h),l=w,()=>{i.removeEventListener(Uv,h),l=null}},createHref(w){return t(i,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(w){return s.go(w)}};return x}var zv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zv||(zv={}));function fN(e,t,r){return r===void 0&&(r="/"),dN(e,t,r,!1)}function dN(e,t,r,n){let i=typeof t=="string"?ji(t):t,o=Jd(i.pathname||"/",r);if(o==null)return null;let s=Ex(e);hN(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=kN(o);a=SN(s[l],u,n)}return a}function Ex(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=$r([n,l.relativePath]),c=r.concat(l);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ex(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:wN(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of kx(o.path))i(o,s,l)}),t}function kx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=kx(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function hN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pN=/^:[\w-]+$/,vN=3,mN=2,yN=1,gN=10,xN=-2,Vv=e=>e==="*";function wN(e,t){let r=e.split("/"),n=r.length;return r.some(Vv)&&(n+=xN),t&&(n+=mN),r.filter(i=>!Vv(i)).reduce((i,o)=>i+(pN.test(o)?vN:o===""?yN:gN),n)}function bN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function SN(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",h=Bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Bv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:$r([o,h.pathname]),pathnameBase:ON($r([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=$r([o,h.pathnameBase]))}return s}function Bv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=EN(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let x=a[h]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const m=a[h];return d&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function EN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function kN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function TN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ji(e):e;return{pathname:r?r.startsWith("/")?r:_N(r,t):t,search:CN(n),hash:IN(i)}}function _N(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xd(e,t){let r=NN(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zd(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ji(e):(i=Yo({},e),je(!i.pathname||!i.pathname.includes("?"),Nu("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Nu("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Nu("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=TN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const $r=e=>e.join("/").replace(/\/\/+/g,"/"),ON=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tx=["post","put","patch","delete"];new Set(Tx);const RN=["get",...Tx];new Set(RN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(this,arguments)}const eh=I.createContext(null),PN=I.createContext(null),Jr=I.createContext(null),Rl=I.createContext(null),vr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),_x=I.createContext(null);function AN(e,t){let{relative:r}=t===void 0?{}:t;Ri()||je(!1);let{basename:n,navigator:i}=I.useContext(Jr),{hash:o,pathname:s,search:a}=Ox(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:$r([n,s])),i.createHref({pathname:l,search:a,hash:o})}function Ri(){return I.useContext(Rl)!=null}function us(){return Ri()||je(!1),I.useContext(Rl).location}function Nx(e){I.useContext(Jr).static||I.useLayoutEffect(e)}function cs(){let{isDataRoute:e}=I.useContext(vr);return e?GN():DN()}function DN(){Ri()||je(!1);let e=I.useContext(eh),{basename:t,future:r,navigator:n}=I.useContext(Jr),{matches:i}=I.useContext(vr),{pathname:o}=us(),s=JSON.stringify(Xd(i,r.v7_relativeSplatPath)),a=I.useRef(!1);return Nx(()=>{a.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=Zd(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$r([t,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[t,n,s,o,e])}function MN(){let{matches:e}=I.useContext(vr),t=e[e.length-1];return t?t.params:{}}function Ox(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Jr),{matches:i}=I.useContext(vr),{pathname:o}=us(),s=JSON.stringify(Xd(i,n.v7_relativeSplatPath));return I.useMemo(()=>Zd(e,JSON.parse(s),o,r==="path"),[e,s,o,r])}function LN(e,t){return FN(e,t)}function FN(e,t,r,n){Ri()||je(!1);let{navigator:i}=I.useContext(Jr),{matches:o}=I.useContext(vr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=us(),c;if(t){var h;let w=typeof t=="string"?ji(t):t;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||je(!1),c=w}else c=u;let f=c.pathname||"/",d=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=fN(e,{pathname:d}),x=BN(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:$r([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&x?I.createElement(Rl.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ir.Pop}},x):x}function UN(){let e=HN(),t=jN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,o)}const $N=I.createElement(UN,null);class zN extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(vr.Provider,{value:this.props.routeContext},I.createElement(_x.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VN(e){let{routeContext:t,match:r,children:n}=e,i=I.useContext(eh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(vr.Provider,{value:t},n)}function BN(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||je(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:d}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let d,m=!1,x=null,w=null;r&&(d=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||$N,l&&(u<0&&f===0?(KN("route-fallback",!1),m=!0,w=null):u===f&&(m=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),p=()=>{let g;return d?g=x:m?g=w:h.route.Component?g=I.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,I.createElement(VN,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(zN,{location:r.location,revalidation:r.revalidation,component:x,error:d,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var Cx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cx||{}),Ka=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ka||{});function qN(e){let t=I.useContext(eh);return t||je(!1),t}function QN(e){let t=I.useContext(PN);return t||je(!1),t}function WN(e){let t=I.useContext(vr);return t||je(!1),t}function Ix(e){let t=WN(),r=t.matches[t.matches.length-1];return r.route.id||je(!1),r.route.id}function HN(){var e;let t=I.useContext(_x),r=QN(Ka.UseRouteError),n=Ix(Ka.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GN(){let{router:e}=qN(Cx.UseNavigateStable),t=Ix(Ka.UseNavigateStable),r=I.useRef(!1);return Nx(()=>{r.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Jo({fromRouteId:t},o)))},[e,t])}const qv={};function KN(e,t,r){!t&&!qv[e]&&(qv[e]=!0)}function YN(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ou(e){let{to:t,replace:r,state:n,relative:i}=e;Ri()||je(!1);let{future:o,static:s}=I.useContext(Jr),{matches:a}=I.useContext(vr),{pathname:l}=us(),u=cs(),c=Zd(t,Xd(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return I.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Rn(e){je(!1)}function JN(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ir.Pop,navigator:o,static:s=!1,future:a}=e;Ri()&&je(!1);let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:o,static:s,future:Jo({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof n=="string"&&(n=ji(n));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:m="default"}=n,x=I.useMemo(()=>{let w=Jd(c,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:d,key:m},navigationType:i}},[l,c,h,f,d,m,i]);return x==null?null:I.createElement(Jr.Provider,{value:u},I.createElement(Rl.Provider,{children:r,value:x}))}function XN(e){let{children:t,location:r}=e;return LN(pf(t),r)}new Promise(()=>{});function pf(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let o=[...t,i];if(n.type===I.Fragment){r.push.apply(r,pf(n.props.children,o));return}n.type!==Rn&&je(!1),!n.props.index||!n.props.children||je(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=pf(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function ZN(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tO(e,t){return e.button===0&&(!t||t==="_self")&&!eO(e)}const rO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nO="6";try{window.__reactRouterVersion=nO}catch{}const iO="startTransition",Qv=Yx[iO];function oO(e){let{basename:t,children:r,future:n,window:i}=e,o=I.useRef();o.current==null&&(o.current=lN({window:i,v5Compat:!0}));let s=o.current,[a,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=I.useCallback(h=>{u&&Qv?Qv(()=>l(h)):l(h)},[l,u]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.useEffect(()=>YN(n),[n]),I.createElement(JN,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s,future:n})}const sO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jx=I.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=t,f=ZN(t,rO),{basename:d}=I.useContext(Jr),m,x=!1;if(typeof u=="string"&&aO.test(u)&&(m=u,sO))try{let g=new URL(window.location.href),b=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=Jd(b.pathname,d);b.origin===g.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let w=AN(u,{relative:i}),y=lO(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||y(g)}return I.createElement("a",vf({},f,{href:m||w,onClick:x||o?n:p,ref:r,target:l}))});var Wv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wv||(Wv={}));var Hv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));function lO(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,l=cs(),u=us(),c=Ox(e,{relative:s});return I.useCallback(h=>{if(tO(h,r)){h.preventDefault();let f=n!==void 0?n:Ga(u)===Ga(c);l(e,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,n,i,r,e,o,s,a])}var uO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=(e,t)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},u)=>I.createElement("svg",{ref:u,...uO,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${cO(e)}`,...l},[...t.map(([c,h])=>I.createElement(c,h)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r};var pe=fO;const dO=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ya=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Xo=pe("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Gv=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),hO=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),pO=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),mf=pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),yf=pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gf=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),vO=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ja=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),mO=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),xf=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),yO=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),gO=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Kv=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xO=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),wO=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zt=pe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),bO=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),SO=pe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),EO=pe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),kO=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wf=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yv=pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),TO=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _O(){const[e,t]=I.useState(""),[r,n]=I.useState(""),[i,o]=I.useState(!1),[s,a]=I.useState(""),{signInEmailPassword:l,isLoading:u}=Uk(),c=cs(),h=async f=>{f.preventDefault(),a("");try{const{error:d}=await l(e,r);d?a(d.message):c("/")}catch{a("An unexpected error occurred")}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto animate-pulse-glow",children:v.jsx(Xo,{className:"h-10 w-10 text-white"})}),v.jsx("div",{className:"absolute -top-2 -right-2 h-8 w-8 bg-green-500 border-4 border-white rounded-full animate-bounce",children:v.jsx(Zt,{className:"h-4 w-4 text-white absolute top-0.5 left-0.5"})})]}),v.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Welcome Back"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to continue your AI conversations"}),v.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Don't have an account?"," ",v.jsx(jx,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Create one here"})]})]}),v.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:v.jsxs("form",{className:"space-y-6",onSubmit:h,children:[s&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl animate-fade-in",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-4 w-4 bg-red-500 rounded-full"}),v.jsx("span",{className:"text-sm font-medium",children:s})]})}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:v.jsx(Ja,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"appearance-none rounded-xl relative block w-full pl-12 pr-4 py-3 border border-gray-200 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:v.jsx(gf,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>n(f.target.value),className:"appearance-none rounded-xl relative block w-full pl-12 pr-12 py-3 border border-gray-200 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-50 rounded-r-xl transition-colors duration-200",onClick:()=>o(!i),children:i?v.jsx(mf,{className:"h-5 w-5 text-gray-400"}):v.jsx(yf,{className:"h-5 w-5 text-gray-400"})})]})]})]}),v.jsx("div",{className:"mt-8",children:v.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none",children:u?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Signing in..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{children:"Sign in to your account"}),v.jsx(Ya,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})]})})}function NO(){const[e,t]=I.useState(""),[r,n]=I.useState(""),[i,o]=I.useState(""),[s,a]=I.useState(!1),[l,u]=I.useState(!1),[c,h]=I.useState(""),{signUpEmailPassword:f,isLoading:d}=zk(),m=cs(),[x,w]=I.useState(!1);console.log("SignUp component - showSuccessMessage:",x),console.log("SignUp component - OAuth section should be visible");const y=async p=>{if(p.preventDefault(),h(""),r!==i){h("Passwords do not match");return}try{const{error:g}=await f(e,r);g?h(g.message):w(!0)}catch{h("An unexpected error occurred")}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto animate-pulse-glow",children:v.jsx(Xo,{className:"h-10 w-10 text-white"})}),v.jsx("div",{className:"absolute -top-2 -right-2 h-8 w-8 bg-green-500 border-4 border-white rounded-full animate-bounce",children:v.jsx(Zt,{className:"h-4 w-4 text-white absolute top-0.5 left-0.5"})})]}),v.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Join AI Chat"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Create your account and start chatting with AI"}),v.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Already have an account?"," ",v.jsx(jx,{to:"/signin",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign in here"})]})]}),x&&v.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-xl animate-fade-in",children:v.jsxs("div",{className:"text-center space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[v.jsx("div",{className:"h-5 w-5 bg-green-500 rounded-full"}),v.jsx("span",{className:"text-lg font-semibold",children:"Account Created Successfully!"})]}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("p",{children:["We've sent a verification email to ",v.jsx("strong",{children:e})]}),v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx("div",{className:"h-4 w-4 bg-yellow-500 rounded-full mt-0.5"}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"font-medium text-yellow-800",children:"Important: Check Your Spam Folder!"}),v.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:"Verification emails often land in spam/junk folders. Please check there if you don't see it in your inbox."})]})]})}),v.jsx("p",{className:"text-xs text-green-600",children:"Click the verification link in the email to activate your account and start chatting!"})]}),v.jsx("button",{onClick:()=>m("/signin"),className:"mt-3 w-full flex justify-center items-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200",children:"Go to Sign In"})]})}),v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"h-5 w-5 bg-yellow-500 rounded-full mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"text-sm text-yellow-800",children:[v.jsx("p",{className:"font-medium mb-1",children:"📧 Important: Email Verification Required"}),v.jsxs("ul",{className:"space-y-1 text-xs text-yellow-700",children:[v.jsx("li",{children:"• We'll send a verification email after signup"}),v.jsxs("li",{children:["• ",v.jsx("strong",{children:"Check your spam/junk folder"})," if you don't see it"]}),v.jsx("li",{children:"• Click the verification link to activate your account"})]})]})]})}),v.jsx("div",{className:`bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50 ${x?"hidden":"block"}`,children:v.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl animate-fade-in",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-4 w-4 bg-red-500 rounded-full"}),v.jsx("span",{className:"text-sm font-medium",children:c})]})}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:v.jsx(Ja,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:p=>t(p.target.value),className:"appearance-none rounded-xl relative block w-full pl-12 pr-4 py-3 border border-gray-200 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]}),v.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["We'll send a verification email to this address. Please use a valid email you can access.",v.jsx("strong",{children:"Check your spam folder"})," and click the verification link to activate your account."]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:v.jsx(gf,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:p=>n(p.target.value),className:"appearance-none rounded-xl relative block w-full pl-12 pr-12 py-3 border border-gray-200 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Create a password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-50 rounded-r-xl transition-colors duration-200",onClick:()=>a(!s),children:s?v.jsx(mf,{className:"h-5 w-5 text-gray-400"}):v.jsx(yf,{className:"h-5 w-5 text-gray-400"})})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:v.jsx(gf,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:i,onChange:p=>o(p.target.value),className:"appearance-none rounded-xl relative block w-full pl-12 pr-12 py-3 border border-gray-200 placeholder-gray-400 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center hover:bg-gray-50 rounded-r-xl transition-colors duration-200",onClick:()=>u(!l),children:l?v.jsx(mf,{className:"h-5 w-5 text-gray-400"}):v.jsx(yf,{className:"h-5 w-5 text-gray-400"})})]})]})]}),v.jsx("div",{className:"mt-8",children:v.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none",children:d?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Creating account..."})]}):v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{children:"Create your account"}),v.jsx(Ya,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})}),v.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx(Ja,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"text-sm text-blue-800",children:[v.jsx("p",{className:"font-medium mb-1",children:"What happens next?"}),v.jsxs("ul",{className:"space-y-1 text-xs",children:[v.jsx("li",{children:"• We'll send a verification email to your inbox"}),v.jsxs("li",{children:["• ",v.jsx("strong",{children:"Check your spam/junk folder"})," if you don't see it"]}),v.jsx("li",{children:"• Click the verification link to activate your account"}),v.jsx("li",{children:"• Then you can sign in and start chatting!"})]})]})]})})]})})]})})}function Jv(){const{token:e}=MN(),[t,r]=I.useState("verifying"),[n,i]=I.useState(""),o=cs(),[s,a]=I.useState(!1);I.useEffect(()=>{let c=e;if(c||(c=new URLSearchParams(window.location.search).get("token")),c||(c=new URLSearchParams(window.location.hash.substring(1)).get("token")),!c&&window.location.pathname.includes("verify-email")){const f=window.location.href.match(/[?&]token=([^&]+)/);f&&(c=f[1])}c?l():(r("error"),i("No verification token found. Please check your email and click the verification link again."))},[e]);const l=async c=>{try{a(!0),setTimeout(()=>{r("success"),setTimeout(()=>{o("/signin")},3e3)},1e3)}catch{r("error"),i("Verification failed. Please try again.")}finally{a(!1)}},u=async()=>{i("Please check your email for the verification link.")};return t==="verifying"?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto animate-pulse-glow",children:v.jsx(Xo,{className:"h-10 w-10 text-white"})}),v.jsx("div",{className:"absolute -top-2 -right-2 h-8 w-8 bg-green-500 border-4 border-white rounded-full animate-bounce",children:v.jsx(Zt,{className:"h-4 w-4 text-white absolute top-0.5 left-0.5"})})]}),v.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Verifying Email"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we verify your email address..."})]}),v.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:v.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[v.jsx("div",{className:"h-6 w-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-gray-600",children:"Verifying your email..."})]})})]})}):t==="success"?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"relative mb-6",children:v.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto",children:v.jsx(Gv,{className:"h-10 w-10 text-white"})})}),v.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-green-700 bg-clip-text text-transparent",children:"Email Verified!"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Your email has been successfully verified. You can now sign in to your account."})]}),v.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("div",{className:"text-green-600",children:[v.jsx(Gv,{className:"h-16 w-16 mx-auto mb-4"}),v.jsx("p",{className:"text-lg font-semibold",children:"Verification Successful!"}),v.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Redirecting you to sign in page..."})]}),v.jsxs("button",{onClick:()=>o("/signin"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[v.jsx("span",{children:"Go to Sign In"}),v.jsx(Ya,{className:"ml-2 h-4 w-4"})]})]})})]})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"relative mb-6",children:v.jsx("div",{className:"h-20 w-20 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-xl mx-auto",children:v.jsx(Yv,{className:"h-10 w-10 text-white"})})}),v.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent",children:"Verification Failed"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"We couldn't verify your email address. Please try again."})]}),v.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("div",{className:"text-red-600",children:[v.jsx(Yv,{className:"h-16 w-16 mx-auto mb-4"}),v.jsx("p",{className:"text-lg font-semibold",children:"Verification Error"}),v.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:()=>o("/signup"),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[v.jsx("span",{children:"Try Signing Up Again"}),v.jsx(Ya,{className:"ml-2 h-4 w-4"})]}),v.jsxs("button",{onClick:u,className:"w-full flex justify-center items-center py-3 px-4 border border-gray-300 text-sm font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[v.jsx(Ja,{className:"mr-2 h-4 w-4"}),v.jsx("span",{children:"Resend Verification Email"})]})]})]})})]})})}const OO=mt`
  query GetChats($user_id: uuid!) {
    chats(where: { user_id: { _eq: $user_id } }, order_by: { updated_at: desc }) {
      id
      title
      created_at
      updated_at
    }
  }
`,CO=mt`
  mutation CreateChat($title: String!, $user_id: uuid!) {
    insert_chats_one(object: { title: $title, user_id: $user_id }) {
      id
      title
      created_at
      updated_at
    }
  }
`,IO=mt`
  mutation DeleteChat($id: uuid!) {
    delete_chats_by_pk(id: $id) {
      id
    }
  }
`;function jO({selectedChatId:e,isDarkMode:t=!1,onSelectChat:r}){const[n,i]=I.useState(""),[o,s]=I.useState(!1),[a,l]=I.useState(""),u=o0(),{data:c,loading:h,error:f,refetch:d}=ff(OO,{variables:{user_id:u},skip:!u}),[m]=Ha(CO,{onCompleted:()=>{i(""),s(!1),d()}}),[x]=Ha(IO,{onCompleted:()=>{d()}}),w=async()=>{if(!(!n.trim()||!u))try{await m({variables:{title:n.trim(),user_id:u}})}catch(S){console.error("Error creating chat:",S)}},y=async S=>{try{await x({variables:{id:S}})}catch(_){console.error("Error deleting chat:",_)}},p=S=>{const _=new Date(S),O=Math.abs(new Date().getTime()-_.getTime()),P=Math.ceil(O/(1e3*60*60*24));return P===1?"Today":P===2?"Yesterday":P<7?`${P-1} days ago`:_.toLocaleDateString()};if(h)return v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:"Loading chats..."})});if(f)return v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx("div",{className:"text-red-500",children:"Error loading chats"})});const g=(c==null?void 0:c.chats)||[],b=g.filter(S=>S.title.toLowerCase().includes(a.toLowerCase()));return v.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300",style:{background:t?"linear-gradient(to bottom, #1f2937, rgba(17, 24, 39, 0.8))":"linear-gradient(to bottom, #ffffff, rgba(249, 250, 251, 0.8))"},children:[v.jsxs("div",{className:"p-6 border-b transition-all duration-300",style:{borderBottomColor:t?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:v.jsx(Zt,{className:"h-4 w-4 text-white"})}),v.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent",style:{backgroundImage:t?"linear-gradient(to right, #f3f4f6, #d1d5db)":"linear-gradient(to right, #111827, #374151)"},children:"Conversations"})]}),v.jsx("button",{onClick:()=>s(!0),className:"group inline-flex items-center p-2.5 border border-transparent rounded-xl shadow-sm text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 hover:shadow-lg transform hover:scale-105",children:v.jsx(gO,{className:"h-4 w-4 group-hover:rotate-90 transition-transform duration-200"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Kv,{className:"h-4 w-4 text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Search conversations...",value:a,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-2.5 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all duration-200",style:{backgroundColor:t?"#374151":"#f9fafb",borderColor:t?"#6b7280":"#e5e7eb",color:t?"#f3f4f6":"#111827"}})]})]}),o&&v.jsx("div",{className:"p-6 border-b transition-all duration-300",style:{borderBottomColor:t?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)",background:t?"linear-gradient(to right, rgba(31, 41, 55, 0.8), rgba(55, 65, 81, 0.8))":"linear-gradient(to right, rgba(219, 234, 254, 1), rgba(199, 210, 254, 1))"},children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",placeholder:"Give your chat a creative name...",value:n,onChange:S=>i(S.target.value),className:"w-full px-4 py-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all duration-200",style:{backgroundColor:t?"#374151":"#ffffff",borderColor:t?"#6b7280":"#e5e7eb",color:t?"#f3f4f6":"#111827"},onKeyPress:S=>S.key==="Enter"&&w(),autoFocus:!0}),n.trim()&&v.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})})]}),v.jsxs("div",{className:"flex space-x-3",children:[v.jsx("button",{onClick:w,disabled:!n.trim(),className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-medium rounded-xl hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-[1.02] disabled:transform-none",children:"Create Chat"}),v.jsx("button",{onClick:()=>{s(!1),i("")},className:"px-4 py-2.5 border text-sm font-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:t?"#374151":"#ffffff",borderColor:t?"#6b7280":"#e5e7eb",color:t?"#f3f4f6":"#374151"},onMouseEnter:S=>{S.target.style.backgroundColor=t?"#4b5563":"#f9fafb"},onMouseLeave:S=>{S.target.style.backgroundColor=t?"#374151":"#ffffff"},children:"Cancel"})]})]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:b.length===0?v.jsx("div",{className:"p-8 text-center",children:a?v.jsxs(v.Fragment,{children:[v.jsx(Kv,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),v.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:t?"#f3f4f6":"#111827"},children:"No matches found"}),v.jsx("p",{className:"text-sm",style:{color:t?"#9ca3af":"#6b7280"},children:"Try a different search term"})]}):g.length===0?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg mx-auto",children:v.jsx(xf,{className:"h-8 w-8 text-white"})}),v.jsx("div",{className:"absolute -top-1 -right-1 h-6 w-6 bg-green-500 border-2 border-white rounded-full animate-bounce"})]}),v.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:t?"#f3f4f6":"#111827"},children:"Start Your First Chat"}),v.jsx("p",{className:"text-sm mb-1",style:{color:t?"#9ca3af":"#6b7280"},children:"Welcome to your AI assistant!"}),v.jsx("p",{className:"text-xs",style:{color:t?"#6b7280":"#9ca3af"},children:"Click the + button to create your first conversation"})]}):null}):v.jsx("div",{className:"space-y-2",children:b.map((S,_)=>v.jsxs("div",{className:"group relative p-4 rounded-2xl cursor-pointer transition-all duration-200",style:{animationDelay:`${_*50}ms`,...e===S.id?{background:"linear-gradient(to right, #3b82f6, #2563eb)",color:"white",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transform:"scale(1.02)"}:{backgroundColor:t?"#374151":"#ffffff",borderColor:t?"#6b7280":"#f3f4f6",border:"1px solid"}},onMouseEnter:N=>{e!==S.id&&(N.target.style.backgroundColor=t?"#4b5563":"#f9fafb",N.target.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)")},onMouseLeave:N=>{e!==S.id&&(N.target.style.backgroundColor=t?"#374151":"#ffffff",N.target.style.boxShadow="none")},onClick:()=>r(S.id),children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[v.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0 ${e===S.id?"bg-white/20 backdrop-blur-sm":"bg-gradient-to-br from-blue-500 to-purple-600"}`,children:v.jsx(xf,{className:`h-5 w-5 ${e===S.id,"text-white"}`})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-sm font-semibold truncate mb-1",style:{color:e===S.id?"#ffffff":t?"#f3f4f6":"#111827"},children:S.title}),v.jsxs("div",{className:"flex items-center space-x-1 text-xs",style:{color:e===S.id?"#dbeafe":t?"#9ca3af":"#6b7280"},children:[v.jsx(hO,{className:"h-3 w-3"}),v.jsx("span",{children:p(S.updated_at)})]})]})]}),v.jsx("button",{onClick:N=>{N.stopPropagation(),y(S.id)},className:"p-2 rounded-lg transition-all duration-200 opacity-0 group-hover:opacity-100",style:{color:e===S.id?"#ffffff":"#9ca3af",backgroundColor:"transparent"},onMouseEnter:N=>{e!==S.id?(N.target.style.color="#ef4444",N.target.style.backgroundColor=t?"rgba(239, 68, 68, 0.1)":"rgba(254, 242, 242, 1)"):N.target.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:N=>{e!==S.id&&(N.target.style.color="#9ca3af"),N.target.style.backgroundColor="transparent"},children:v.jsx(kO,{className:"h-4 w-4"})})]}),e===S.id&&v.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 opacity-10 pointer-events-none"})]},S.id))})})]})}const RO=mt`
  query GetMessages($chat_id: uuid!) {
    messages(where: { chat_id: { _eq: $chat_id } }, order_by: { created_at: asc }) {
      id
      content
      is_bot
      user_id
      created_at
    }
  }
`,PO=mt`
  query GetChatInfo($chat_id: uuid!) {
    chats_by_pk(id: $chat_id) {
      id
      title
    }
  }
`,AO=mt`
  mutation InsertMessage($chat_id: uuid!, $content: String!, $user_id: uuid!) {
    insert_messages_one(object: { chat_id: $chat_id, content: $content, user_id: $user_id, is_bot: false }) {
      id
      content
      created_at
    }
  }
`,DO=mt`
  mutation SendMessageAction($chat_id: uuid!, $content: String!, $user_id: uuid!) {
    sendMessage(input: { chat_id: $chat_id, content: $content, user_id: $user_id }) {
      success
      message
      bot_response
    }
  }
`,MO=mt`
  subscription OnMessageAdded($chat_id: uuid!) {
    messages(where: { chat_id: { _eq: $chat_id } }, order_by: { created_at: desc }, limit: 1) {
      id
      content
      is_bot
      user_id
      created_at
    }
  }
`;function LO({chatId:e,isDarkMode:t=!1,onBack:r,settings:n}){const o=n||{autoScroll:!0,messageSound:!0,typingIndicator:!0,compactMode:!1,fontSize:"medium",language:"en"},[s,a]=I.useState(""),[l,u]=I.useState(!1),[c,h]=I.useState(new Set),[f,d]=I.useState(new Set),[m,x]=I.useState(!1),[w,y]=I.useState(!1),p=I.useRef(null),g=I.useRef(null),b=o0(),{data:S}=ff(PO,{variables:{chat_id:e}}),{data:_,loading:N,refetch:O}=ff(RO,{variables:{chat_id:e}}),[P]=Ha(AO),[A]=Ha(DO);Q2(MO,{variables:{chat_id:e},onData:({data:R})=>{var Q,K;(K=(Q=R==null?void 0:R.data)==null?void 0:Q.messages)!=null&&K[0]&&O()}});const M=(R=!1)=>{if(!g.current||!p.current)return;const Q=g.current,K=Q.scrollHeight-Q.scrollTop-Q.clientHeight<100;(R||K&&o.autoScroll||!w&&o.autoScroll)&&p.current.scrollIntoView({behavior:"smooth"})},q=()=>{if(!g.current)return;const R=g.current,Q=R.scrollHeight-R.scrollTop-R.clientHeight<100;y(!Q)};I.useEffect(()=>{a(""),u(!1),h(new Set),d(new Set),x(!1),y(!1),setTimeout(()=>M(!0),100)},[e]),I.useEffect(()=>{var R;if(((R=_==null?void 0:_.messages)==null?void 0:R.length)>0){setTimeout(()=>M(),100);const Q=_.messages[_.messages.length-1];Q&&Q.is_bot&&o.messageSound&&C()}},[_,w,o.messageSound]);const G=async()=>{if(!s.trim()||!b)return;u(!0);const R=s.trim();a(""),y(!1),setTimeout(()=>M(!0),100);try{await P({variables:{chat_id:e,content:R,user_id:b}}),setTimeout(()=>M(!0),300),await A({variables:{chat_id:e,content:R,user_id:b}}),setTimeout(()=>{O(),M(!0)},1e3),setTimeout(()=>{O(),M(!0)},3e3)}catch(Q){console.error("Error sending message:",Q),alert("Error sending message: "+Q.message)}finally{u(!1)}},Y=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),G())},H=R=>new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),J=async R=>{try{await navigator.clipboard.writeText(R),x(!0),setTimeout(()=>x(!1),2e3)}catch(Q){console.error("Failed to copy message:",Q);const K=document.createElement("textarea");K.value=R,document.body.appendChild(K),K.select(),document.execCommand("copy"),document.body.removeChild(K),x(!0),setTimeout(()=>x(!1),2e3)}},k=R=>{h(Q=>{const K=new Set(Q);return K.has(R)?K.delete(R):(K.add(R),d(de=>{const Sn=new Set(de);return Sn.delete(R),Sn})),K})},E=R=>{d(Q=>{const K=new Set(Q);return K.has(R)?K.delete(R):(K.add(R),h(de=>{const Sn=new Set(de);return Sn.delete(R),Sn})),K})},C=()=>{if(o.messageSound)try{const R=new(window.AudioContext||window.webkitAudioContext),Q=R.createOscillator(),K=R.createGain();Q.connect(K),K.connect(R.destination),Q.frequency.setValueAtTime(800,R.currentTime),Q.frequency.setValueAtTime(600,R.currentTime+.1),K.gain.setValueAtTime(.1,R.currentTime),K.gain.exponentialRampToValueAtTime(.01,R.currentTime+.2),Q.start(R.currentTime),Q.stop(R.currentTime+.2)}catch(R){console.log("Could not play notification sound:",R)}},F={en:{placeholder:"Ask me anything...",thinking:"AI is thinking...",online:"Online • Ready to help",delivered:"Delivered",copyMessage:"Copy message",goodResponse:"Good response",poorResponse:"Poor response",messageCopied:"Message copied!",ready:"Ready",aiOnline:"AI Online",readyToChat:"Ready to chat",loading:"Loading messages...",backToChatList:"Go back to chat list"},es:{placeholder:"Pregúntame lo que quieras...",thinking:"IA está pensando...",online:"En línea • Listo para ayudar",delivered:"Entregado",copyMessage:"Copiar mensaje",goodResponse:"Buena respuesta",poorResponse:"Mala respuesta",messageCopied:"¡Mensaje copiado!",ready:"Listo",aiOnline:"IA en línea",readyToChat:"Listo para chatear",loading:"Cargando mensajes...",backToChatList:"Volver a la lista de chats"},fr:{placeholder:"Demandez-moi n'importe quoi...",thinking:"L'IA réfléchit...",online:"En ligne • Prêt à aider",delivered:"Livré",copyMessage:"Copier le message",goodResponse:"Bonne réponse",poorResponse:"Mauvaise réponse",messageCopied:"Message copié !",ready:"Prêt",aiOnline:"IA en ligne",readyToChat:"Prêt à discuter",loading:"Chargement des messages...",backToChatList:"Retourner à la liste des chats"}},D=F[o.language]||F.en,V=(_==null?void 0:_.messages)||[],ve=S==null?void 0:S.chats_by_pk;return N?v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-500",children:D.loading})}):v.jsxs("div",{className:"flex-1 flex flex-col relative h-full transition-all duration-300",style:{background:t?"linear-gradient(to bottom right, #1f2937, #111827, #0f172a)":"linear-gradient(to bottom right, #f9fafb, #ffffff, #dbeafe)"},children:[v.jsx("div",{className:"backdrop-blur-sm border-b px-4 sm:px-6 py-4 shadow-sm transition-all duration-300",style:{backgroundColor:t?"rgba(31, 41, 55, 0.9)":"rgba(255, 255, 255, 0.9)",borderBottomColor:t?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[v.jsx("button",{onClick:()=>{console.log("Back button clicked"),a(""),u(!1),h(new Set),d(new Set),x(!1),r()},className:"flex items-center justify-center p-2 rounded-xl transition-all duration-200 group min-w-[40px] h-10",style:{color:t?"#d1d5db":"#4b5563",backgroundColor:"transparent"},onMouseEnter:R=>{R.target.style.color="#3b82f6",R.target.style.backgroundColor=t?"rgba(59, 130, 246, 0.1)":"rgba(219, 234, 254, 1)"},onMouseLeave:R=>{R.target.style.color=t?"#d1d5db":"#4b5563",R.target.style.backgroundColor="transparent"},"aria-label":D.backToChatList,children:v.jsx(dO,{className:"h-5 w-5 group-hover:-translate-x-1 transition-transform duration-200"})}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:v.jsx(Xo,{className:"h-5 w-5 text-white"})}),v.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-4 w-4 bg-green-500 border-2 border-white rounded-full animate-pulse"})]}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("h2",{className:"text-base sm:text-lg font-semibold truncate",style:{color:t?"#f3f4f6":"#111827"},children:(ve==null?void 0:ve.title)||"AI Chat"}),v.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium",children:D.online})]})]})]}),v.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 bg-green-50 rounded-full",children:[v.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),v.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Active"})]})]})}),v.jsx("div",{ref:g,className:"flex-1 overflow-y-auto",onScroll:q,children:V.length===0?v.jsx("div",{className:"h-full flex items-center justify-center p-4 sm:p-6",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg mx-auto",children:v.jsx(Xo,{className:"h-8 w-8 text-white"})}),v.jsx("div",{className:"absolute -top-1 -right-8 h-4 w-4 bg-green-500 border-2 border-white rounded-full animate-bounce"})]}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Welcome to AI Chat!"}),v.jsx("p",{className:"text-gray-500 mb-1",children:"I'm your AI assistant, ready to help you."}),v.jsx("p",{className:"text-sm text-gray-400",children:"Start the conversation by typing a message below."})]})}):v.jsxs("div",{className:"min-h-full flex flex-col justify-end",children:[v.jsx("div",{className:"p-4 sm:p-6",style:{padding:o.compactMode?"16px":"24px",paddingTop:o.compactMode?"16px":"24px",paddingBottom:o.compactMode?"16px":"24px",paddingLeft:o.compactMode?"16px":"24px",paddingRight:o.compactMode?"16px":"24px"},children:v.jsxs("div",{style:{display:"grid",gap:o.compactMode?"12px":"24px"},children:[V.map((R,Q)=>v.jsx("div",{className:`flex ${R.is_bot?"justify-start":"justify-end"} group animate-fade-in`,style:{animationDelay:`${Q*100}ms`},children:v.jsxs("div",{className:`relative max-w-xs sm:max-w-sm lg:max-w-md xl:max-w-lg ${R.is_bot?"mr-8 sm:mr-12":"ml-8 sm:ml-12"}`,children:[v.jsx("div",{className:"px-5 py-4 rounded-2xl shadow-sm transition-all duration-300 hover:shadow-lg",style:{backgroundColor:R.is_bot?t?"#374151":"#ffffff":"",background:R.is_bot?"":"linear-gradient(to bottom right, #3b82f6, #2563eb)",borderColor:R.is_bot?t?"#6b7280":"rgba(229, 231, 235, 0.6)":"transparent",border:R.is_bot?"1px solid":"none",color:R.is_bot?t?"#f3f4f6":"#111827":"#ffffff"},children:v.jsxs("div",{className:"flex items-start space-x-3",children:[R.is_bot&&v.jsxs("div",{className:"relative h-7 w-7 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 shadow-md",children:[v.jsx(Zt,{className:"h-3.5 w-3.5 text-white"}),v.jsx("div",{className:"absolute -top-0.5 -right-0.5 h-3 w-3 bg-green-500 border-2 border-white rounded-full animate-pulse"})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"leading-relaxed whitespace-pre-wrap break-words",style:{fontSize:o.fontSize==="small"?"12px":o.fontSize==="medium"?"14px":"16px"},children:R.content}),v.jsxs("div",{className:`flex items-center justify-between mt-3 ${R.is_bot?"text-gray-400":"text-blue-100"}`,children:[v.jsx("span",{className:"text-xs font-medium",children:H(R.created_at)}),R.is_bot&&v.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[v.jsx("button",{onClick:()=>J(R.content),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors duration-200",title:D.copyMessage,children:v.jsx(pO,{className:"h-3.5 w-3.5"})}),v.jsx("button",{onClick:()=>k(R.id),className:`p-1.5 rounded-lg transition-colors duration-200 ${c.has(R.id)?"bg-green-100 text-green-600 hover:bg-green-200":"hover:bg-gray-100"}`,title:D.goodResponse,children:v.jsx(EO,{className:"h-3.5 w-3.5"})}),v.jsx("button",{onClick:()=>E(R.id),className:`p-1.5 rounded-lg transition-colors duration-200 ${f.has(R.id)?"bg-red-100 text-red-600 hover:bg-red-200":"hover:bg-gray-100"}`,title:D.poorResponse,children:v.jsx(SO,{className:"h-3.5 w-3.5"})})]}),!R.is_bot&&v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-1 w-1 bg-blue-200 rounded-full"}),v.jsx("div",{className:"h-1 w-1 bg-blue-300 rounded-full"})]}),v.jsx("span",{className:"text-xs",children:D.delivered})]})]})]}),!R.is_bot&&v.jsx("div",{className:"h-7 w-7 bg-gradient-to-br from-blue-700 to-blue-800 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 shadow-md",children:v.jsx(wf,{className:"h-3.5 w-3.5 text-white"})})]})}),v.jsx("div",{className:`absolute top-4 ${R.is_bot?"-left-2":"-right-2"}`,children:v.jsx("div",{className:"w-0 h-0",style:{borderTop:"4px solid transparent",borderBottom:"4px solid transparent",...R.is_bot?{borderRight:`8px solid ${t?"#374151":"#ffffff"}`}:{borderLeft:"8px solid #3b82f6"}}})})]})},R.id)),l&&o.typingIndicator&&v.jsx("div",{className:"flex justify-start animate-fade-in",children:v.jsxs("div",{className:"relative max-w-xs lg:max-w-md mr-12",children:[v.jsx("div",{className:"px-5 py-4 rounded-2xl shadow-sm border",style:{backgroundColor:t?"#374151":"#ffffff",borderColor:t?"#6b7280":"rgba(229, 231, 235, 0.6)"},children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsxs("div",{className:"relative h-7 w-7 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-md",children:[v.jsx(Zt,{className:"h-3.5 w-3.5 text-white animate-pulse"}),v.jsx("div",{className:"absolute -top-0.5 -right-0.5 h-3 w-3 bg-orange-500 border-2 border-white rounded-full animate-pulse"})]}),v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-2 w-2 bg-blue-400 rounded-full animate-bounce"}),v.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),v.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),v.jsx("span",{className:"text-xs font-medium",style:{color:t?"#d1d5db":"#6b7280"},children:D.thinking})]})}),v.jsx("div",{className:"absolute top-4 -left-2",children:v.jsx("div",{className:"w-0 h-0",style:{borderTop:"4px solid transparent",borderBottom:"4px solid transparent",borderRight:`8px solid ${t?"#374151":"#ffffff"}`}})})]})})]})}),v.jsx("div",{ref:p})]})}),v.jsx("div",{className:"backdrop-blur-lg border-t p-4 sm:p-6 transition-all duration-300",style:{backgroundColor:t?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)",borderTopColor:t?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"relative",children:v.jsxs("div",{className:"flex items-end space-x-3 sm:space-x-4",children:[v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("textarea",{value:s,onChange:R=>a(R.target.value),onKeyPress:Y,placeholder:D.placeholder,disabled:l,rows:1,className:"w-full px-4 sm:px-5 py-3 sm:py-4 pr-12 sm:pr-16 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 transition-all duration-200 resize-none min-h-[3rem] sm:min-h-[3.5rem] max-h-32 overflow-y-auto text-sm sm:text-base scrollbar-hide",style:{height:"auto",backgroundColor:t?"#374151":"#f9fafb",borderColor:t?"#6b7280":"#e5e7eb",color:t?"#f3f4f6":"#111827",border:"1px solid","--placeholder-color":"#9ca3af"},onInput:R=>{const Q=R.target;Q.style.height="auto",Q.style.height=`${Math.min(Q.scrollHeight,128)}px`}}),s.trim()&&v.jsx("div",{className:"absolute right-3 sm:right-4 bottom-3 sm:bottom-4",children:v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),v.jsx("span",{className:"hidden sm:inline text-xs text-gray-500 font-medium",children:D.ready})]})})]}),v.jsxs("button",{onClick:G,disabled:!s.trim()||l,className:"group relative p-3 sm:p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none",children:[l?v.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):v.jsx(xO,{className:"h-4 w-4 sm:h-5 sm:w-5 transition-transform duration-200 group-hover:translate-x-0.5 group-hover:-translate-y-0.5"}),!l&&s.trim()&&v.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-green-500 border-2 border-white rounded-full animate-bounce"})]})]})}),v.jsxs("div",{className:"mt-3 sm:mt-4 flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0",children:[v.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-xs",style:{color:"#9ca3af"},children:[v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-1.5 w-1.5 bg-green-500 rounded-full"}),v.jsx("span",{children:D.aiOnline})]}),v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx(Zt,{className:"h-3 w-3"}),v.jsx("span",{className:"hidden sm:inline",children:"GPT-3.5 Turbo"}),v.jsx("span",{className:"sm:hidden",children:"GPT-3.5"})]})]}),v.jsxs("p",{className:"text-xs text-center sm:text-right",style:{color:"#9ca3af"},children:[v.jsx("span",{className:"hidden sm:inline",children:"Press Enter to send • Shift+Enter for new line"}),v.jsx("span",{className:"sm:hidden",children:"Tap send or press Enter"})]})]})]})}),m&&v.jsx("div",{className:"fixed top-20 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg animate-fade-in",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"h-4 w-4 bg-white rounded-full flex items-center justify-center",children:v.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"})}),v.jsx("span",{className:"text-sm font-medium",children:D.messageCopied})]})})]})}function FO(){const[e,t]=I.useState(null),[r,n]=I.useState(!1),[i,o]=I.useState(!1),[s,a]=I.useState(()=>localStorage.getItem("darkMode")==="true"),[l,u]=I.useState(!1),[c,h]=I.useState(()=>{const p=localStorage.getItem("chatSettings");return p?JSON.parse(p):{autoScroll:!0,messageSound:!0,typingIndicator:!0,compactMode:!1,fontSize:"medium",language:"en"}}),{signOut:f}=$k(),d=()=>{f()},m=()=>{const p=!s;a(p),console.log("Dark mode toggled to:",p),localStorage.setItem("darkMode",p.toString()),p?(document.documentElement.classList.add("dark"),document.body.style.backgroundColor="#1f2937",document.body.style.color="#f9fafb"):(document.documentElement.classList.remove("dark"),document.body.style.backgroundColor="",document.body.style.color="")},x=(p,g)=>{const b={...c,[p]:g};h(b),localStorage.setItem("chatSettings",JSON.stringify(b)),console.log(`Setting updated: ${p} = ${g}`)},w=()=>{u(!0),n(!1)},y=()=>{const p=!r;n(p),console.log("User menu toggled:",p),console.log("showUserMenu state:",p)};return I.useEffect(()=>{const p=g=>{const b=g.target;r&&!b.closest("[data-user-menu]")&&n(!1)};if(r){const g=setTimeout(()=>{document.addEventListener("click",p)},100);return()=>{clearTimeout(g),document.removeEventListener("click",p)}}},[r]),I.useEffect(()=>{const p=g=>{g.key==="Escape"&&r&&n(!1)};return r&&document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[r]),I.useEffect(()=>{const p=()=>{r&&n(!1)};return r&&document.addEventListener("scroll",p,!0),()=>document.removeEventListener("scroll",p,!0)},[r]),I.useEffect(()=>{s?(document.documentElement.classList.add("dark"),document.body.style.backgroundColor="#1f2937",document.body.style.color="#f9fafb"):(document.documentElement.classList.remove("dark"),document.body.style.backgroundColor="",document.body.style.color="")},[]),v.jsxs("div",{className:"h-screen flex flex-col transition-all duration-300",style:{background:s?"linear-gradient(to bottom right, #1f2937, #111827, #0f172a)":"linear-gradient(to bottom right, #f8fafc, #dbeafe, #e0e7ff)"},children:[v.jsx("header",{className:"backdrop-blur-lg shadow-lg border-b transition-all duration-300",style:{backgroundColor:s?"rgba(31, 41, 55, 0.9)":"rgba(255, 255, 255, 0.9)",borderBottomColor:s?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[v.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2 rounded-xl transition-colors duration-200",style:{color:s?"#d1d5db":"#4b5563",backgroundColor:"transparent"},onMouseEnter:p=>{p.target.style.color="#3b82f6",p.target.style.backgroundColor=s?"rgba(59, 130, 246, 0.1)":"rgba(219, 234, 254, 1)"},onMouseLeave:p=>{p.target.style.color=s?"#d1d5db":"#4b5563",p.target.style.backgroundColor="transparent"},children:i?v.jsx(TO,{className:"h-6 w-6"}):v.jsx(mO,{className:"h-6 w-6"})}),v.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl animate-pulse-glow",children:v.jsx(Zt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),v.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 sm:h-4 sm:w-4 bg-green-500 border-2 border-white rounded-full animate-pulse"})]}),v.jsxs("div",{className:"hidden sm:block",children:[v.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:s?"linear-gradient(to right, #60a5fa, #a78bfa, #60a5fa)":"linear-gradient(to right, #2563eb, #9333ea, #1e40af)"},children:"AI Assistant Pro"}),v.jsxs("div",{className:"flex items-center space-x-3 text-xs",style:{color:s?"#9ca3af":"#6b7280"},children:[v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-1.5 w-1.5 bg-green-500 rounded-full animate-pulse"}),v.jsx("span",{children:"Online"})]}),v.jsx("span",{className:"hidden sm:inline",children:"•"}),v.jsx("span",{className:"hidden sm:inline",children:"Powered by GPT-3.5 Turbo"})]})]})]}),v.jsx("div",{className:"relative","data-user-menu":!0,children:v.jsxs("button",{onClick:p=>{p.stopPropagation(),y()},className:"group flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl sm:rounded-2xl border shadow-sm hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:r?s?"rgba(59, 130, 246, 0.2)":"rgba(219, 234, 254, 1)":s?"rgba(75, 85, 99, 0.5)":"rgba(249, 250, 251, 1)",borderColor:r?s?"rgba(59, 130, 246, 0.5)":"rgba(191, 219, 254, 1)":s?"rgba(107, 114, 128, 0.5)":"rgba(229, 231, 235, 1)",color:r?s?"#93c5fd":"#1d4ed8":s?"#e5e7eb":"#374151"},"aria-expanded":r,"aria-haspopup":"true",children:[v.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center transition-colors duration-200 ${r?"bg-blue-600":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:v.jsx(wf,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),v.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Account"}),v.jsx("div",{className:`transition-transform duration-200 ${r?"rotate-180":""}`,children:v.jsx("svg",{className:"h-3 w-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})})]})})}),v.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[i&&v.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:()=>o(!1)}),v.jsx("div",{className:`
          ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          fixed lg:relative inset-y-0 left-0 z-50 lg:z-auto
          w-80 bg-white/90 backdrop-blur-sm border-r border-gray-200/50 flex flex-col shadow-xl lg:shadow-lg
          transition-transform duration-300 ease-in-out
        `,children:v.jsx(jO,{selectedChatId:e,isDarkMode:s,onSelectChat:p=>{console.log("Selecting chat:",p),t(p),o(!1),n(!1)}})}),v.jsx("div",{className:"flex-1 flex flex-col lg:ml-0",children:e?v.jsx(LO,{chatId:e,isDarkMode:s,settings:c,onBack:()=>{console.log("Going back to chat list"),t(null),o(!1),n(!1)}}):v.jsx("div",{className:"flex-1 flex items-center justify-center px-4 transition-all duration-300",style:{background:s?"linear-gradient(to bottom right, rgba(31, 41, 55, 0.8), rgba(17, 24, 39, 0.9), rgba(15, 23, 42, 0.8))":"linear-gradient(to bottom right, rgba(249, 250, 251, 1), rgba(255, 255, 255, 1), rgba(219, 234, 254, 0.3))"},children:v.jsxs("div",{className:"text-center max-w-lg mx-auto p-4 sm:p-8 animate-fade-in",children:[v.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[v.jsx("div",{className:"h-20 w-20 sm:h-24 sm:w-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl mx-auto animate-pulse-glow",children:v.jsx(Zt,{className:"h-10 w-10 sm:h-12 sm:w-12 text-white"})}),v.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 sm:h-8 sm:w-8 bg-green-500 border-4 border-white rounded-full animate-bounce",children:v.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 bg-white rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]}),v.jsx("h3",{className:"text-2xl sm:text-3xl font-bold bg-clip-text text-transparent mb-3 sm:mb-4",style:{backgroundImage:s?"linear-gradient(to right, #f3f4f6, #d1d5db)":"linear-gradient(to right, #111827, #374151)"},children:"Welcome to AI Assistant Pro"}),v.jsx("p",{className:"text-base sm:text-lg mb-2 sm:mb-3",style:{color:s?"#d1d5db":"#4b5563"},children:"Your intelligent conversation partner is ready to help"}),v.jsxs("p",{className:"text-sm sm:text-base mb-6 sm:mb-8",style:{color:s?"#9ca3af":"#6b7280"},children:[v.jsx("span",{className:"lg:hidden",children:"Tap the menu button to see your conversations or create a new chat"}),v.jsx("span",{className:"hidden lg:inline",children:"Select a conversation from the sidebar or create a new one to begin chatting with our advanced AI assistant"})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[v.jsxs("div",{className:"backdrop-blur-sm rounded-2xl p-4 border shadow-sm transition-all duration-300",style:{backgroundColor:s?"rgba(55, 65, 81, 0.6)":"rgba(255, 255, 255, 0.6)",borderColor:s?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[v.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:v.jsx(Zt,{className:"h-5 w-5 text-white"})}),v.jsx("h4",{className:"font-semibold mb-1",style:{color:s?"#f3f4f6":"#111827"},children:"Smart AI"}),v.jsx("p",{className:"text-xs",style:{color:s?"#d1d5db":"#4b5563"},children:"Powered by GPT-3.5 Turbo for intelligent responses"})]}),v.jsxs("div",{className:"backdrop-blur-sm rounded-2xl p-4 border shadow-sm transition-all duration-300",style:{backgroundColor:s?"rgba(55, 65, 81, 0.6)":"rgba(255, 255, 255, 0.6)",borderColor:s?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[v.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:v.jsx(xf,{className:"h-5 w-5 text-white"})}),v.jsx("h4",{className:"font-semibold mb-1",style:{color:s?"#f3f4f6":"#111827"},children:"Real-time"}),v.jsx("p",{className:"text-xs",style:{color:s?"#d1d5db":"#4b5563"},children:"Instant responses and live conversation"})]}),v.jsxs("div",{className:"backdrop-blur-sm rounded-2xl p-4 border shadow-sm transition-all duration-300",style:{backgroundColor:s?"rgba(55, 65, 81, 0.6)":"rgba(255, 255, 255, 0.6)",borderColor:s?"rgba(75, 85, 99, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[v.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:v.jsx(wf,{className:"h-5 w-5 text-white"})}),v.jsx("h4",{className:"font-semibold mb-1",style:{color:s?"#f3f4f6":"#111827"},children:"Secure"}),v.jsx("p",{className:"text-xs",style:{color:s?"#d1d5db":"#4b5563"},children:"Your conversations are private and protected"})]})]}),v.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",style:{color:"#9ca3af"},children:[v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),v.jsx("span",{children:"AI Online"})]}),v.jsx("div",{className:"h-1 w-1 rounded-full",style:{backgroundColor:s?"#6b7280":"#d1d5db"}}),v.jsx("span",{children:"Ready to chat"})]})]})})})]}),r&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2147483647,backgroundColor:"rgba(0, 0, 0, 0.2)",cursor:"pointer"},onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),console.log("Backdrop clicked - closing menu"),n(!1)}}),v.jsxs("div",{style:{position:"fixed",top:"80px",right:"16px",width:"280px",backgroundColor:"#ffffff",border:"3px solid #3b82f6",borderRadius:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8)",zIndex:2147483647,display:"block"},onMouseDown:p=>{p.stopPropagation()},onClick:p=>{p.stopPropagation()},children:[v.jsx("div",{style:{backgroundColor:"#3b82f6",padding:"16px",borderRadius:"13px 13px 0 0",borderBottom:"2px solid #2563eb"},children:v.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"white"},children:"Account Menu"})}),v.jsxs("div",{style:{padding:"16px"},children:[v.jsxs("button",{type:"button",onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),console.log("Settings button clicked!"),w()},style:{width:"100%",display:"flex",alignItems:"center",padding:"12px 16px",fontSize:"16px",fontWeight:"600",color:"#374151",backgroundColor:"#f3f4f6",border:"2px solid #d1d5db",borderRadius:"12px",marginBottom:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>{p.target.style.backgroundColor="#e5e7eb",p.target.style.transform="scale(1.02)"},onMouseLeave:p=>{p.target.style.backgroundColor="#f3f4f6",p.target.style.transform="scale(1)"},children:[v.jsx(wO,{style:{width:"20px",height:"20px",marginRight:"12px",color:"#6b7280"}}),"Settings"]}),v.jsx("button",{type:"button",onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),console.log("Dark mode button clicked!"),n(!1),setTimeout(()=>{m()},100)},style:{width:"100%",display:"flex",alignItems:"center",padding:"12px 16px",fontSize:"16px",fontWeight:"600",color:"#374151",backgroundColor:s?"#dbeafe":"#f3f4f6",border:s?"2px solid #3b82f6":"2px solid #d1d5db",borderRadius:"12px",marginBottom:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>{p.target.style.backgroundColor=s?"#bfdbfe":"#dbeafe",p.target.style.transform="scale(1.02)"},onMouseLeave:p=>{p.target.style.backgroundColor=s?"#dbeafe":"#f3f4f6",p.target.style.transform="scale(1)"},children:s?v.jsxs(v.Fragment,{children:[v.jsx(bO,{style:{width:"20px",height:"20px",marginRight:"12px",color:"#f59e0b"}}),"Switch to Light Mode"]}):v.jsxs(v.Fragment,{children:[v.jsx(yO,{style:{width:"20px",height:"20px",marginRight:"12px",color:"#3b82f6"}}),"Switch to Dark Mode"]})}),v.jsx("hr",{style:{margin:"16px 0",border:"1px solid #d1d5db"}}),v.jsxs("button",{type:"button",onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),console.log("Sign out button clicked!"),n(!1),setTimeout(()=>{window.confirm("Are you sure you want to sign out?")&&d()},100)},style:{width:"100%",display:"flex",alignItems:"center",padding:"12px 16px",fontSize:"16px",fontWeight:"600",color:"white",backgroundColor:"#ef4444",border:"2px solid #dc2626",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>{p.target.style.backgroundColor="#dc2626",p.target.style.transform="scale(1.02)"},onMouseLeave:p=>{p.target.style.backgroundColor="#ef4444",p.target.style.transform="scale(1)"},children:[v.jsx(vO,{style:{width:"20px",height:"20px",marginRight:"12px"}}),"Sign Out"]})]})]})]}),l&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:2147483647,backgroundColor:"rgba(0, 0, 0, 0.3)",cursor:"pointer"},onMouseDown:p=>{p.preventDefault(),p.stopPropagation(),console.log("Settings backdrop clicked - closing settings"),u(!1)}}),v.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90vw",maxWidth:"600px",maxHeight:"80vh",backgroundColor:s?"#1f2937":"#ffffff",border:"3px solid #3b82f6",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8)",zIndex:2147483647,display:"block",overflow:"hidden"},onMouseDown:p=>{p.stopPropagation()},onClick:p=>{p.stopPropagation()},children:[v.jsx("div",{style:{backgroundColor:"#3b82f6",padding:"20px",borderRadius:"17px 17px 0 0",borderBottom:"2px solid #2563eb"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",color:"white"},children:"⚙️ Settings"}),v.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"4px",borderRadius:"8px",transition:"background-color 0.2s"},onMouseEnter:p=>{p.target.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:p=>{p.target.style.backgroundColor="transparent"},children:"✕"})]})}),v.jsx("div",{style:{padding:"24px",maxHeight:"calc(80vh - 100px)",overflowY:"auto"},children:v.jsxs("div",{style:{display:"grid",gap:"24px"},children:[v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:s?"#f3f4f6":"#111827"},children:"Chat Behavior"}),v.jsxs("div",{style:{display:"grid",gap:"16px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:s?"#f3f4f6":"#111827"},children:"Auto-scroll to new messages"}),v.jsx("div",{style:{fontSize:"14px",color:s?"#9ca3af":"#6b7280"},children:"Automatically scroll to new messages when they arrive"})]}),v.jsxs("label",{style:{position:"relative",display:"inline-block",width:"48px",height:"24px"},children:[v.jsx("input",{type:"checkbox",checked:c.autoScroll,onChange:p=>x("autoScroll",p.target.checked),style:{display:"none"}}),v.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:c.autoScroll?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"background-color 0.3s"},children:v.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"transform 0.3s",transform:c.autoScroll?"translateX(24px)":"translateX(0)"}})})]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:s?"#f3f4f6":"#111827"},children:"Show typing indicator"}),v.jsx("div",{style:{fontSize:"14px",color:s?"#9ca3af":"#6b7280"},children:'Display "AI is thinking..." when processing responses'})]}),v.jsxs("label",{style:{position:"relative",display:"inline-block",width:"48px",height:"24px"},children:[v.jsx("input",{type:"checkbox",checked:c.typingIndicator,onChange:p=>x("typingIndicator",p.target.checked),style:{display:"none"}}),v.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:c.typingIndicator?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"background-color 0.3s"},children:v.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"transform 0.3s",transform:c.typingIndicator?"translateX(24px)":"translateX(0)"}})})]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:s?"#f3f4f6":"#111827"},children:"Compact mode"}),v.jsx("div",{style:{fontSize:"14px",color:s?"#9ca3af":"#6b7280"},children:"Reduce spacing between messages for more content"})]}),v.jsxs("label",{style:{position:"relative",display:"inline-block",width:"48px",height:"24px"},children:[v.jsx("input",{type:"checkbox",checked:c.compactMode,onChange:p=>x("compactMode",p.target.checked),style:{display:"none"}}),v.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:c.compactMode?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"background-color 0.3s"},children:v.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"transform 0.3s",transform:c.compactMode?"translateX(24px)":"translateX(0)"}})})]})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:s?"#f3f4f6":"#111827"},children:"Appearance"}),v.jsxs("div",{style:{display:"grid",gap:"16px"},children:[v.jsxs("div",{style:{padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:s?"#f3f4f6":"#111827"},children:"Font Size"}),v.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["small","medium","large"].map(p=>v.jsx("button",{onClick:()=>x("fontSize",p),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid",borderColor:c.fontSize===p?"#3b82f6":s?"#6b7280":"#d1d5db",backgroundColor:c.fontSize===p?"#dbeafe":"transparent",color:c.fontSize===p?"#1d4ed8":s?"#f3f4f6":"#111827",cursor:"pointer",fontSize:p==="small"?"12px":p==="medium"?"14px":"16px",fontWeight:"500",transition:"all 0.2s"},onMouseEnter:g=>{c.fontSize!==p&&(g.target.style.backgroundColor=s?"#4b5563":"#f3f4f6")},onMouseLeave:g=>{c.fontSize!==p&&(g.target.style.backgroundColor="transparent")},children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),v.jsxs("div",{style:{padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:s?"#f3f4f6":"#111827"},children:"Language"}),v.jsxs("select",{value:c.language,onChange:p=>x("language",p.target.value),style:{padding:"8px 12px",borderRadius:"8px",border:"1px solid",borderColor:s?"#6b7280":"#d1d5db",backgroundColor:s?"#374151":"#ffffff",color:s?"#f3f4f6":"#111827",fontSize:"14px",cursor:"pointer"},children:[v.jsx("option",{value:"en",children:"English"}),v.jsx("option",{value:"es",children:"Español"}),v.jsx("option",{value:"fr",children:"Français"}),v.jsx("option",{value:"de",children:"Deutsch"}),v.jsx("option",{value:"it",children:"Italiano"}),v.jsx("option",{value:"pt",children:"Português"}),v.jsx("option",{value:"ru",children:"Русский"}),v.jsx("option",{value:"ja",children:"日本語"}),v.jsx("option",{value:"ko",children:"한국어"}),v.jsx("option",{value:"zh",children:"中文"})]})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:s?"#f3f4f6":"#111827"},children:"Notifications"}),v.jsx("div",{style:{display:"grid",gap:"16px"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:s?"#374151":"#f9fafb",borderRadius:"12px",border:"1px solid",borderColor:s?"#6b7280":"#e5e7eb"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"600",marginBottom:"4px",color:s?"#f3f4f6":"#111827"},children:"Message sound"}),v.jsx("div",{style:{fontSize:"14px",color:s?"#9ca3af":"#6b7280"},children:"Play sound when new messages arrive"})]}),v.jsxs("label",{style:{position:"relative",display:"inline-block",width:"48px",height:"24px"},children:[v.jsx("input",{type:"checkbox",checked:c.messageSound,onChange:p=>x("messageSound",p.target.checked),style:{display:"none"}}),v.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:c.messageSound?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"background-color 0.3s"},children:v.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"transform 0.3s",transform:c.messageSound?"translateX(24px)":"translateX(0)"}})})]})]})})]}),v.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:v.jsx("button",{onClick:()=>{const p={autoScroll:!0,messageSound:!0,typingIndicator:!0,compactMode:!1,fontSize:"medium",language:"en"};h(p),localStorage.setItem("chatSettings",JSON.stringify(p))},style:{padding:"12px 24px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:p=>{p.target.style.backgroundColor="#4b5563"},onMouseLeave:p=>{p.target.style.backgroundColor="#6b7280"},children:"Reset to Defaults"})})]})})]})]})]})}function UO(){return v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),v.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}function $O(){const{isAuthenticated:e,isLoading:t}=Fk();return t?v.jsx(UO,{}):v.jsx(oO,{children:v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsxs(XN,{children:[v.jsx(Rn,{path:"/signin",element:e?v.jsx(Ou,{to:"/"}):v.jsx(_O,{})}),v.jsx(Rn,{path:"/signup",element:e?v.jsx(Ou,{to:"/"}):v.jsx(NO,{})}),v.jsx(Rn,{path:"/verify-email/:token",element:v.jsx(Jv,{})}),v.jsx(Rn,{path:"/verify-email",element:v.jsx(Jv,{})}),v.jsx(Rn,{path:"/",element:e?v.jsx(FO,{}):v.jsx(Ou,{to:"/signin"})})]})})})}Cu.createRoot(document.getElementById("root")).render(v.jsx(Za.StrictMode,{children:v.jsx(Lk,{nhost:Fv,children:v.jsx(aN,{nhost:Fv,children:v.jsx($O,{})})})}))});export default zO();
